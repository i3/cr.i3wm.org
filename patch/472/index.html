
<!DOCTYPE html>
<html>
  <head>
    <title>i3 Patch: adding option (-C) to enable centering of an image</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" media="screen" href="http://i3wm.org/css/style.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/public/stylesheets/main.css">
    <link rel="shortcut icon" type="image/png" href="http://i3wm.org/favicon.png">
    <script src="/public/js/jquery-1.9.0.min.js" type="text/javascript" charset="utf-8"></script>
	<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'>
    
    
      <script src="/public/js/patch.js" type="text/javascript" charset="utf-8"></script>
    
  </head>
  <body>


<div id="main">
	<a href="/"><h1 id="title">i3 - improved tiling WM</h1></a>
				<ul id="nav">
						<li><a style="border-bottom: 2px solid #fff" href="/">Reviews</a></li>
						<li><a href="http://bugs.i3wm.org/">Bugs</a></li>
				</ul>
<br style="clear: both">

<div id="content">

<h1>adding option (-C) to enable centering of an image</h1>
<div style="float: right">
<p>
Patch status: rejected
</p>
<p>
Patch by Richard Leitner
</p>
</div>



<p>
To apply this patch, use:<br>
<code>curl http://cr.i3wm.org/patch/472/raw.patch | git am</code>
</p>




<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/i3lock.1</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L15">15</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="15">@@ -24,6 &#43;24,7 @@ i3lock \- improved screen locker</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L16">16</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="16"> .RB [\|\-c</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L17">17</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="17"> .IR color \|]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L18">18</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="18"> .RB [\|\-t\|]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L19">19</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="19">&#43;.RB [\|\-C\|]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L20">20</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="20"> .RB [\|\-p</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L21">21</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="21"> .IR pointer\|]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L22">22</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="22"> .RB [\|\-u\|]</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L23">23</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="23">@@ -90,6 &#43;91,12 @@ If an image is specified (via \-i) it will display the image tiled all over the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L24">24</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="24"> (if it is a multi-monitor setup, the image is visible on all screens).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L25">25</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="25"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L26">26</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="26"> .TP</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L27">27</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="27">&#43;.B \-C, \-\-centering</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L28">28</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="28">&#43;If an image is specified (via \-i) it will display the image centered.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L29">29</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="29">&#43;(if it is a multi-monitor setup, the image is centered over all screens).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L30">30</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="30">&#43;If tiling (-t) and centering (-C) is specified, only tiling will be used.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L31">31</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="31">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L32">32</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="32">&#43;.TP</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L33">33</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="33"> .BI \-p\  win|default \fR,\ \fB\-\-pointer= win|default</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L34">34</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="34"> If you specify &#34;default&#34;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L35">35</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="35"> .B i3lock</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/i3lock.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L40">40</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="40">@@ -68,6 &#43;68,7 @@ static struct xkb_keymap *xkb_keymap;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L41">41</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="41"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L42">42</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="42"> cairo_surface_t *img = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L43">43</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="43"> bool tile = false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L44">44</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="44">&#43;bool center = false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L45">45</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="45"> bool ignore_empty_password = false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L46">46</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="46"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L47">47</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="47"> /* isutf, u8_dec © 2005 Jeff Bezanson, public domain */</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L48">48</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="48">@@ -659,6 &#43;660,7 @@ int main(int argc, char *argv[]) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L49">49</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="49">         {&#34;no-unlock-indicator&#34;, no_argument, NULL, &#39;u&#39;},</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L50">50</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="50">         {&#34;image&#34;, required_argument, NULL, &#39;i&#39;},</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L51">51</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="51">         {&#34;tiling&#34;, no_argument, NULL, &#39;t&#39;},</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L52">52</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="52">&#43;        {&#34;centering&#34;, no_argument, NULL, &#39;C&#39;},</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L53">53</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="53">         {&#34;ignore-empty-password&#34;, no_argument, NULL, &#39;e&#39;},</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L54">54</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="54">         {NULL, no_argument, NULL, 0}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L55">55</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="55">     };</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L56">56</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="56">@@ -666,7 &#43;668,7 @@ int main(int argc, char *argv[]) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L57">57</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="57">     if ((username = getenv(&#34;USER&#34;)) == NULL)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L58">58</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="58">         errx(1, &#34;USER environment variable not set, please set it.\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L59">59</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="59"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L60">60</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="60">-    while ((o = getopt_long(argc, argv, &#34;hvnbdc:p:ui:te&#34;, longopts, &amp;optind)) != -1) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L61">61</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="61">&#43;    while ((o = getopt_long(argc, argv, &#34;hvnbdc:p:ui:tCe&#34;, longopts, &amp;optind)) != -1) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L62">62</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="62">         switch (o) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L63">63</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="63">         case &#39;v&#39;:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L64">64</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="64">             errx(EXIT_SUCCESS, &#34;version &#34; VERSION &#34; © 2010-2012 Michael Stapelberg&#34;);</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L65">65</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="65">@@ -700,6 &#43;702,9 @@ int main(int argc, char *argv[]) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L66">66</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="66">         case &#39;t&#39;:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L67">67</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="67">             tile = true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L68">68</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="68">             break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L69">69</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="69">&#43;        case &#39;C&#39;:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L70">70</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="70">&#43;            center = true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L71">71</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="71">&#43;            break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L72">72</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="72">         case &#39;p&#39;:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L73">73</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="73">             if (!strcmp(optarg, &#34;win&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L74">74</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="74">                 curs_choice = CURS_WIN;</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L75">75</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="75">@@ -718,11 &#43;723,16 @@ int main(int argc, char *argv[]) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L76">76</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="76">             break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L77">77</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="77">         default:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L78">78</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="78">             errx(1, &#34;Syntax: i3lock [-v] [-n] [-b] [-d] [-c color] [-u] [-p win|default]&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L79">79</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="79">-            &#34; [-i image.png] [-t] [-e]&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L80">80</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="80">&#43;            &#34; [-i image.png] [-t|C] [-e]&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L81">81</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="81">             );</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L82">82</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="82">         }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L83">83</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="83">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L84">84</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="84"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L85">85</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="85">&#43;    /* warn if tile and center is set */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L86">86</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="86">&#43;    if (tile &amp;&amp; center) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L87">87</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="87">&#43;        fprintf(stderr, &#34;You have specified tile (-t) and center (-C), so center will be ignored!\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L88">88</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="88">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L89">89</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="89">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L90">90</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="90">     /* We need (relatively) random numbers for highlighting a random part of</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L91">91</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="91">      * the unlock indicator upon keypresses. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L92">92</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="92">     srand(time(NULL));</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/unlock_indicator.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L97">97</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="97">@@ -45,6 &#43;45,8 @@ extern cairo_surface_t *img;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L98">98</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="98"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L99">99</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="99"> /* Whether the image should be tiled. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L100">100</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="100"> extern bool tile;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L101">101</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="101">&#43;/* Whether the image should be centered. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L102">102</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="102">&#43;extern bool center;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L103">103</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="103"> /* The background color to use (in hex). */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L104">104</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="104"> extern char color[7];</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L105">105</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="105"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L106">106</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="106">@@ -81,10 &#43;83,7 @@ xcb_pixmap_t draw_image(uint32_t *resolution) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L107">107</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="107">     cairo_t *xcb_ctx = cairo_create(xcb_output);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L108">108</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="108"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L109">109</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="109">     if (img) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L110">110</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="110">-        if (!tile) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L111">111</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="111">-            cairo_set_source_surface(xcb_ctx, img, 0, 0);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L112">112</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="112">-            cairo_paint(xcb_ctx);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L113">113</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="113">-        } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L114">114</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="114">&#43;        if (tile) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L115">115</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="115">             /* create a pattern and fill a rectangle as big as the screen */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L116">116</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="116">             cairo_pattern_t *pattern;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L117">117</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="117">             pattern = cairo_pattern_create_for_surface(img);</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L118">118</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="118">@@ -93,6 &#43;92,17 @@ xcb_pixmap_t draw_image(uint32_t *resolution) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L119">119</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="119">             cairo_rectangle(xcb_ctx, 0, 0, resolution[0], resolution[1]);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L120">120</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="120">             cairo_fill(xcb_ctx);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L121">121</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="121">             cairo_pattern_destroy(pattern);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L122">122</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="122">&#43;        } else if (center) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L123">123</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="123">&#43;            /* draw the image at the center of the screen */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L124">124</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="124">&#43;            cairo_set_source_surface(xcb_ctx, img,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L125">125</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="125">&#43;                    resolution[0]/2 - (int) cairo_image_surface_get_width(img)/2,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L126">126</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="126">&#43;                    resolution[1]/2 - (int) cairo_image_surface_get_height(img)/2</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L127">127</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="127">&#43;                    );</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L128">128</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="128">&#43;            cairo_paint(xcb_ctx);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L129">129</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="129">&#43;        } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L130">130</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="130">&#43;            /* draw image &#34;normally&#34; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L131">131</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="131">&#43;            cairo_set_source_surface(xcb_ctx, img, 0, 0);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L132">132</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="132">&#43;            cairo_paint(xcb_ctx);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L133">133</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="133">         }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L134">134</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="134">     } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L135">135</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="135">         char strgroups[3][3] = {{color[0], color[1], &#39;\0&#39;},</pre>
  </td>
  </tr>


</table>
</div>


</div>

  </body>
</html>

