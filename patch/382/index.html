
<!DOCTYPE html>
<html>
  <head>
    <title>i3 Patch: Abstract binding functions to bindings.h</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" media="screen" href="http://i3wm.org/css/style.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/public/stylesheets/main.css">
    <link rel="shortcut icon" type="image/png" href="http://i3wm.org/favicon.png">
    <script src="/public/js/jquery-1.9.0.min.js" type="text/javascript" charset="utf-8"></script>
	<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'>
    
    
      <script src="/public/js/patch.js" type="text/javascript" charset="utf-8"></script>
    
  </head>
  <body>


<div id="main">
	<a href="/"><h1 id="title">i3 - improved tiling WM</h1></a>
				<ul id="nav">
						<li><a style="border-bottom: 2px solid #fff" href="/">Reviews</a></li>
						<li><a href="http://bugs.i3wm.org/">Bugs</a></li>
				</ul>
<br style="clear: both">

<div id="content">

<h1>Abstract binding functions to bindings.h</h1>
<div style="float: right">
<p>
Patch status: superseded
</p>
<p>
Patch by Tony Crisci
</p>
</div>

<p>
<strong>Long description</strong>:<br>
<pre>Adds the following new functions:

* `initialize_bindings`
* `configure_binding`
* `run_binding`

Abstracts these existing functions with minor changes:

* Renames `get_binding` to `get_keyboard_binding` and switches the
parameters `keycode` and `release`.
* Renames `grab_keys`to `grab_bound_keys`.
* Renames `translate_keysyms` to `translate_binding_keysyms`.
* Renames `switch_mode` to `switch_binding_mode`.
* Renames `check_for_duplicate_bindings` to `validate_bindings`

Additionally makes the modes structure and list of modes private to
bindings.c, and makes `modifiers_from_str` public.
</pre>
</p>


<p>
To apply this patch, use:<br>
<code>curl http://cr.i3wm.org/patch/382/raw.patch | git am</code>
</p>




<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/include/all.h</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L44">44</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="44">@@ -79,6 &#43;79,7 @@</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L45">45</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="45"> #include &#34;scratchpad.h&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L46">46</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="46"> #include &#34;commands.h&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L47">47</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="47"> #include &#34;commands_parser.h&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L48">48</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="48">&#43;#include &#34;bindings.h&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L49">49</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="49"> #include &#34;config_directives.h&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L50">50</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="50"> #include &#34;config_parser.h&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L51">51</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="51"> #include &#34;fake_outputs.h&#34;</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/include/bindings.h</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L57">57</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="57">@@ -0,0 &#43;1,74 @@</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L58">58</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="58">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L59">59</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="59">&#43; * vim:ts=4:sw=4:expandtab</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L60">60</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="60">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L61">61</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="61">&#43; * i3 - an improved dynamic tiling window manager</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L62">62</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="62">&#43; * © 2009-2014 Michael Stapelberg and contributors (see also: LICENSE)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L63">63</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="63">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L64">64</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="64">&#43; * bindings.h: Functions for configuring, finding, and running bindings.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L65">65</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="65">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L66">66</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="66">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L67">67</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="67">&#43;#pragma once</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L68">68</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="68">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L69">69</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="69">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L70">70</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="70">&#43; * The name of the default mode.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L71">71</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="71">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L72">72</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="72">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L73">73</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="73">&#43;#define DEFAULT_BINDING_MODE &#34;default&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L74">74</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="74">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L75">75</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="75">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L76">76</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="76">&#43; * Clears any existing modes and bindings and initializes the data structures.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L77">77</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="77">&#43; * To be called before parsing or reloading the config.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L78">78</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="78">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L79">79</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="79">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L80">80</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="80">&#43;void initialize_bindings(void);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L81">81</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="81">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L82">82</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="82">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L83">83</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="83">&#43; * Adds a binding from config parameters given as strings and returns a</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L84">84</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="84">&#43; * pointer to the binding structure. Returns NULL if the input code could not</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L85">85</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="85">&#43; * be parsed.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L86">86</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="86">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L87">87</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="87">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L88">88</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="88">&#43;Binding *configure_binding(const char *bindtype, const char *modifiers, const char *input_code, const char *release, const char *command, const char *mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L89">89</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="89">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L90">90</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="90">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L91">91</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="91">&#43; * Gets the keyboard binding with the specified modifiers and keycode. Returns</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L92">92</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="92">&#43; * NULL if no such binding exists.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L93">93</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="93">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L94">94</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="94">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L95">95</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="95">&#43;Binding *get_keyboard_binding(uint16_t modifiers, uint32_t keycode, bool release);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L96">96</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="96">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L97">97</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="97">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L98">98</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="98">&#43; * Runs the specified binding and returns the `CommandResult`.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L99">99</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="99">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L100">100</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="100">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L101">101</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="101">&#43;struct CommandResult *run_binding(Binding *binding);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L102">102</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="102">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L103">103</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="103">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L104">104</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="104">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L105">105</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="105">&#43; * Translates keysymbols to keycodes for all bindings which use keysyms.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L106">106</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="106">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L107">107</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="107">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L108">108</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="108">&#43;void translate_binding_keysyms(void);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L109">109</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="109">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L110">110</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="110">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L111">111</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="111">&#43; * Grabs the keys for which bindings exist. The server will send us keypress</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L112">112</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="112">&#43; * events for those keycodes.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L113">113</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="113">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L114">114</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="114">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L115">115</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="115">&#43;void grab_bound_keys(xcb_connection_t *conn, bool bind_mode_switch);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L116">116</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="116">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L117">117</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="117">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L118">118</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="118">&#43; * Changes the set of currently active bindings to those that were configured</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L119">119</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="119">&#43; * in the specified mode if the mode exists.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L120">120</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="120">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L121">121</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="121">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L122">122</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="122">&#43;void switch_binding_mode(const char *new_mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L123">123</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="123">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L124">124</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="124">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L125">125</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="125">&#43; * Checks for duplicate bindings (the same keycode, keysym, or button is</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L126">126</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="126">&#43; * configured more than once). If a duplicate binding is found, a message is</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L127">127</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="127">&#43; * printed to stderr and the has_errors variable is set to true, which will</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L128">128</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="128">&#43; * start i3-nagbar.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L129">129</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="129">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L130">130</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="130">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L131">131</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="131">&#43;void validate_bindings(struct context *context);</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/include/config.h</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L136">136</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="136">@@ -21,7 &#43;21,6 @@ typedef struct Config Config;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L137">137</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="137"> typedef struct Barconfig Barconfig;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L138">138</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="138"> extern char *current_configpath;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L139">139</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="139"> extern Config config;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L140">140</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="140">-extern SLIST_HEAD(modes_head, Mode) modes;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L141">141</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="141"> extern TAILQ_HEAD(barconfig_head, Barconfig) barconfigs;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L142">142</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="142"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L143">143</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="143"> /**</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L144">144</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="144">@@ -70,19 &#43;69,6 @@ struct Variable {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L145">145</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="145"> };</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L146">146</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="146"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L147">147</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="147"> /**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L148">148</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="148">- * The configuration file can contain multiple sets of bindings. Apart from the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L149">149</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="149">- * default set (name == &#34;default&#34;), you can specify other sets and change the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L150">150</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="150">- * currently active set of bindings by using the &#34;mode &lt;name&gt;&#34; command.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L151">151</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="151">- *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L152">152</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="152">- */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L153">153</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="153">-struct Mode {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L154">154</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="154">-    char *name;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L155">155</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="155">-    struct bindings_head *bindings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L156">156</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="156">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L157">157</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="157">-    SLIST_ENTRY(Mode) modes;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L158">158</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="158">-};</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L159">159</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="159">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L160">160</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="160">-/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L161">161</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="161">  * Holds part of the configuration (the part which is not already in dedicated</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L162">162</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="162">  * structures in include/data.h).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L163">163</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="163">  *</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L164">164</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="164">@@ -340,13 &#43;326,6 @@ void switch_mode(const char *new_mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L165">165</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="165">  */void update_barconfig();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L166">166</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="166"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L167">167</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="167"> /**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L168">168</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="168">- * Returns a pointer to the Binding with the specified modifiers and keycode</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L169">169</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="169">- * or NULL if no such binding exists.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L170">170</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="170">- *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L171">171</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="171">- */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L172">172</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="172">-Binding *get_binding(uint16_t modifiers, bool key_release, xcb_keycode_t keycode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L173">173</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="173">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L174">174</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="174">-/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L175">175</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="175">  * Kills the configerror i3-nagbar process, if any.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L176">176</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="176">  *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L177">177</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="177">  * Called when reloading/restarting.</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/include/config_directives.h</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L182">182</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="182">@@ -11,6 &#43;11,12 @@</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L183">183</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="183"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L184">184</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="184"> #include &#34;config_parser.h&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L185">185</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="185"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L186">186</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="186">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L187">187</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="187">&#43; * A utility function to convert a string of modifiers to the corresponding bit</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L188">188</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="188">&#43; * mask.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L189">189</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="189">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L190">190</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="190">&#43;uint32_t modifiers_from_str(const char *str);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L191">191</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="191">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L192">192</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="192"> /** The beginning of the prototype for every cfg_ function. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L193">193</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="193"> #define I3_CFG Match *current_match, struct ConfigResult *result</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L194">194</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="194"> </pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/bindings.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L200">200</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="200">@@ -0,0 &#43;1,364 @@</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L201">201</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="201">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L202">202</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="202">&#43; * vim:ts=4:sw=4:expandtab</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L203">203</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="203">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L204">204</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="204">&#43; * i3 - an improved dynamic tiling window manager</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L205">205</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="205">&#43; * © 2009-2014 Michael Stapelberg and contributors (see also: LICENSE)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L206">206</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="206">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L207">207</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="207">&#43; * binding.c: Functions for configuring, finding and, running bindings.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L208">208</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="208">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L209">209</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="209">&#43;#include &#34;all.h&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L210">210</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="210">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L211">211</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="211">&#43;/* We need Xlib for XStringToKeysym */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L212">212</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="212">&#43;#include &lt;X11/Xlib.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L213">213</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="213">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L214">214</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="214">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L215">215</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="215">&#43; * The configuration file can contain multiple sets of bindings. Apart from the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L216">216</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="216">&#43; * default set, you can specify other sets and change the currently active set</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L217">217</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="217">&#43; * of bindings by using the &#34;mode &lt;name&gt;&#34; command.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L218">218</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="218">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L219">219</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="219">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L220">220</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="220">&#43;static SLIST_HEAD(modes_head, Mode) modes;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L221">221</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="221">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L222">222</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="222">&#43;struct Mode {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L223">223</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="223">&#43;    char *name;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L224">224</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="224">&#43;    struct bindings_head *bindings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L225">225</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="225">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L226">226</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="226">&#43;    SLIST_ENTRY(Mode) modes;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L227">227</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="227">&#43;};</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L228">228</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="228">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L229">229</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="229">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L230">230</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="230">&#43; * Returns the mode specified by `name` or creates a new mode and adds it to</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L231">231</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="231">&#43; * the list of modes.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L232">232</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="232">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L233">233</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="233">&#43;static struct Mode *mode_from_name(const char *name) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L234">234</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="234">&#43;    struct Mode *mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L235">235</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="235">&#43;    SLIST_FOREACH(mode, &amp;modes, modes) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L236">236</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="236">&#43;        if (strcmp(mode-&gt;name, name) == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L237">237</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="237">&#43;            break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L238">238</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="238">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L239">239</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="239">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L240">240</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="240">&#43;    if (mode == NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L241">241</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="241">&#43;        mode = scalloc(sizeof(struct Mode));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L242">242</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="242">&#43;        mode-&gt;name = sstrdup(name);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L243">243</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="243">&#43;        mode-&gt;bindings = scalloc(sizeof(struct bindings_head));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L244">244</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="244">&#43;        TAILQ_INIT(mode-&gt;bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L245">245</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="245">&#43;        SLIST_INSERT_HEAD(&amp;modes, mode, modes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L246">246</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="246">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L247">247</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="247">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L248">248</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="248">&#43;    return mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L249">249</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="249">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L250">250</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="250">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L251">251</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="251">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L252">252</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="252">&#43; * Destroys all bindings and all modes.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L253">253</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="253">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L254">254</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="254">&#43;static void clear_bindings(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L255">255</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="255">&#43;    struct Mode *mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L256">256</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="256">&#43;    Binding *bind;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L257">257</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="257">&#43;    while (!SLIST_EMPTY(&amp;modes)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L258">258</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="258">&#43;        mode = SLIST_FIRST(&amp;modes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L259">259</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="259">&#43;        FREE(mode-&gt;name);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L260">260</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="260">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L261">261</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="261">&#43;        /* Clear the old binding list */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L262">262</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="262">&#43;        bindings = mode-&gt;bindings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L263">263</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="263">&#43;        while (!TAILQ_EMPTY(bindings)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L264">264</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="264">&#43;            bind = TAILQ_FIRST(bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L265">265</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="265">&#43;            TAILQ_REMOVE(bindings, bind, bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L266">266</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="266">&#43;            FREE(bind-&gt;translated_to);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L267">267</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="267">&#43;            FREE(bind-&gt;command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L268">268</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="268">&#43;            FREE(bind);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L269">269</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="269">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L270">270</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="270">&#43;        FREE(bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L271">271</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="271">&#43;        SLIST_REMOVE(&amp;modes, mode, Mode, modes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L272">272</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="272">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L273">273</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="273">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L274">274</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="274">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L275">275</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="275">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L276">276</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="276">&#43; * Clears any existing modes and bindings and initializes the data structures.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L277">277</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="277">&#43; * To be called before parsing or reloading the config.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L278">278</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="278">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L279">279</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="279">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L280">280</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="280">&#43;void initialize_bindings() {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L281">281</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="281">&#43;    if (bindings != NULL)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L282">282</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="282">&#43;        clear_bindings();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L283">283</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="283">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L284">284</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="284">&#43;    SLIST_INIT(&amp;modes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L285">285</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="285">&#43;    struct Mode *default_mode = mode_from_name(DEFAULT_BINDING_MODE);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L286">286</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="286">&#43;    bindings = default_mode-&gt;bindings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L287">287</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="287">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L288">288</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="288">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L289">289</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="289">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L290">290</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="290">&#43; * Adds a binding from config parameters given as strings and returns a</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L291">291</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="291">&#43; * pointer to the binding structure. Returns NULL if the input code could not</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L292">292</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="292">&#43; * be parsed.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L293">293</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="293">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L294">294</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="294">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L295">295</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="295">&#43;Binding *configure_binding(const char *bindtype, const char *modifiers, const char *input_code, const char *release, const char *command, const char *modename) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L296">296</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="296">&#43;    Binding *new_binding = scalloc(sizeof(Binding));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L297">297</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="297">&#43;    DLOG(&#34;bindtype %s, modifiers %s, input code %s, release %s\n&#34;, bindtype, modifiers, input_code, release);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L298">298</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="298">&#43;    new_binding-&gt;release = (release != NULL ? B_UPON_KEYRELEASE : B_UPON_KEYPRESS);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L299">299</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="299">&#43;    if (strcmp(bindtype, &#34;bindsym&#34;) == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L300">300</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="300">&#43;        new_binding-&gt;symbol = sstrdup(input_code);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L301">301</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="301">&#43;    } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L302">302</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="302">&#43;        // TODO: strtol with proper error handling</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L303">303</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="303">&#43;        new_binding-&gt;keycode = atoi(input_code);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L304">304</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="304">&#43;        if (new_binding-&gt;keycode == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L305">305</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="305">&#43;            ELOG(&#34;Could not parse \&#34;%s\&#34; as an input code, ignoring this binding.\n&#34;, input_code);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L306">306</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="306">&#43;            return NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L307">307</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="307">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L308">308</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="308">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L309">309</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="309">&#43;    new_binding-&gt;mods = modifiers_from_str(modifiers);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L310">310</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="310">&#43;    new_binding-&gt;command = sstrdup(command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L311">311</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="311">&#43;    new_binding-&gt;input_type = B_KEYBOARD;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L312">312</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="312">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L313">313</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="313">&#43;    struct Mode *mode = mode_from_name(modename);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L314">314</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="314">&#43;    TAILQ_INSERT_TAIL(mode-&gt;bindings, new_binding, bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L315">315</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="315">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L316">316</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="316">&#43;    return new_binding;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L317">317</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="317">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L318">318</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="318">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L319">319</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="319">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L320">320</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="320">&#43; * Gets the keyboard binding with the specified modifiers and keycode. Returns</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L321">321</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="321">&#43; * NULL if no such binding exists.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L322">322</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="322">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L323">323</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="323">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L324">324</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="324">&#43;Binding *get_keyboard_binding(uint16_t modifiers, uint32_t keycode, bool key_release) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L325">325</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="325">&#43;    Binding *bind;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L326">326</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="326">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L327">327</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="327">&#43;    if (!key_release) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L328">328</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="328">&#43;        /* On a KeyPress event, we first reset all</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L329">329</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="329">&#43;         * B_UPON_KEYRELEASE_IGNORE_MODS bindings back to B_UPON_KEYRELEASE */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L330">330</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="330">&#43;        TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L331">331</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="331">&#43;            if (bind-&gt;release == B_UPON_KEYRELEASE_IGNORE_MODS)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L332">332</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="332">&#43;                bind-&gt;release = B_UPON_KEYRELEASE;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L333">333</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="333">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L334">334</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="334">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L335">335</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="335">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L336">336</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="336">&#43;    TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L337">337</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="337">&#43;        /* First compare the modifiers (unless this is a</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L338">338</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="338">&#43;         * B_UPON_KEYRELEASE_IGNORE_MODS binding and this is a KeyRelease</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L339">339</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="339">&#43;         * event) */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L340">340</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="340">&#43;        if (bind-&gt;mods != modifiers &amp;&amp;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L341">341</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="341">&#43;            (bind-&gt;release != B_UPON_KEYRELEASE_IGNORE_MODS ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L342">342</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="342">&#43;             !key_release))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L343">343</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="343">&#43;            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L344">344</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="344">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L345">345</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="345">&#43;        /* If a symbol was specified by the user, we need to look in</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L346">346</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="346">&#43;         * the array of translated keycodes for the event’s keycode */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L347">347</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="347">&#43;        if (bind-&gt;symbol != NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L348">348</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="348">&#43;            if (memmem(bind-&gt;translated_to,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L349">349</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="349">&#43;                       bind-&gt;number_keycodes * sizeof(xcb_keycode_t),</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L350">350</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="350">&#43;                       &amp;keycode, sizeof(xcb_keycode_t)) == NULL)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L351">351</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="351">&#43;                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L352">352</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="352">&#43;        } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L353">353</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="353">&#43;            /* This case is easier: The user specified a keycode */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L354">354</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="354">&#43;            if (bind-&gt;keycode != keycode)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L355">355</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="355">&#43;                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L356">356</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="356">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L357">357</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="357">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L358">358</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="358">&#43;        /* If this keybinding is a KeyRelease binding, it matches the key which</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L359">359</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="359">&#43;         * the user pressed. We therefore mark it as</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L360">360</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="360">&#43;         * B_UPON_KEYRELEASE_IGNORE_MODS for later, so that the user can</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L361">361</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="361">&#43;         * release the modifiers before the actual key and the KeyRelease will</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L362">362</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="362">&#43;         * still be matched. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L363">363</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="363">&#43;        if (bind-&gt;release == B_UPON_KEYRELEASE &amp;&amp; !key_release)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L364">364</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="364">&#43;            bind-&gt;release = B_UPON_KEYRELEASE_IGNORE_MODS;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L365">365</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="365">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L366">366</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="366">&#43;        /* Check if the binding is for a KeyPress or a KeyRelease event */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L367">367</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="367">&#43;        if ((bind-&gt;release == B_UPON_KEYPRESS &amp;&amp; key_release) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L368">368</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="368">&#43;            (bind-&gt;release &gt;= B_UPON_KEYRELEASE &amp;&amp; !key_release))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L369">369</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="369">&#43;            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L370">370</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="370">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L371">371</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="371">&#43;        break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L372">372</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="372">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L373">373</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="373">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L374">374</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="374">&#43;    return (bind == TAILQ_END(bindings) ? NULL : bind);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L375">375</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="375">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L376">376</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="376">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L377">377</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="377">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L378">378</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="378">&#43; * Runs the specified binding and returns the `CommandResult`.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L379">379</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="379">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L380">380</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="380">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L381">381</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="381">&#43;struct CommandResult *run_binding(Binding *binding) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L382">382</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="382">&#43;    char *command_copy = sstrdup(binding-&gt;command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L383">383</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="383">&#43;    struct CommandResult *command_output = parse_command(command_copy);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L384">384</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="384">&#43;    free(command_copy);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L385">385</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="385">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L386">386</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="386">&#43;    if (command_output-&gt;needs_tree_render)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L387">387</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="387">&#43;        tree_render();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L388">388</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="388">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L389">389</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="389">&#43;    return command_output;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L390">390</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="390">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L391">391</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="391">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L392">392</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="392">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L393">393</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="393">&#43;static void grab_keycode_for_binding(xcb_connection_t *conn, Binding *bind, uint32_t keycode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L394">394</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="394">&#43;    DLOG(&#34;Grabbing %d with modifiers %d (with mod_mask_lock %d)\n&#34;, keycode, bind-&gt;mods, bind-&gt;mods | XCB_MOD_MASK_LOCK);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L395">395</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="395">&#43;    /* Grab the key in all combinations */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L396">396</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="396">&#43;    #define GRAB_KEY(modifier) \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L397">397</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="397">&#43;        do { \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L398">398</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="398">&#43;            xcb_grab_key(conn, 0, root, modifier, keycode, \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L399">399</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="399">&#43;                         XCB_GRAB_MODE_SYNC, XCB_GRAB_MODE_ASYNC); \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L400">400</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="400">&#43;        } while (0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L401">401</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="401">&#43;    int mods = bind-&gt;mods;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L402">402</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="402">&#43;    if ((bind-&gt;mods &amp; BIND_MODE_SWITCH) != 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L403">403</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="403">&#43;        mods &amp;= ~BIND_MODE_SWITCH;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L404">404</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="404">&#43;        if (mods == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L405">405</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="405">&#43;            mods = XCB_MOD_MASK_ANY;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L406">406</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="406">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L407">407</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="407">&#43;    GRAB_KEY(mods);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L408">408</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="408">&#43;    GRAB_KEY(mods | xcb_numlock_mask);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L409">409</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="409">&#43;    GRAB_KEY(mods | XCB_MOD_MASK_LOCK);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L410">410</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="410">&#43;    GRAB_KEY(mods | xcb_numlock_mask | XCB_MOD_MASK_LOCK);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L411">411</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="411">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L412">412</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="412">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L413">413</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="413">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L414">414</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="414">&#43; * Translates keysymbols to keycodes for all bindings which use keysyms.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L415">415</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="415">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L416">416</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="416">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L417">417</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="417">&#43;void translate_binding_keysyms(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L418">418</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="418">&#43;    Binding *bind;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L419">419</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="419">&#43;    xcb_keysym_t keysym;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L420">420</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="420">&#43;    int col;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L421">421</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="421">&#43;    xcb_keycode_t i,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L422">422</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="422">&#43;                  min_keycode = xcb_get_setup(conn)-&gt;min_keycode,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L423">423</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="423">&#43;                  max_keycode = xcb_get_setup(conn)-&gt;max_keycode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L424">424</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="424">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L425">425</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="425">&#43;    TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L426">426</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="426">&#43;        if (bind-&gt;keycode &gt; 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L427">427</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="427">&#43;            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L428">428</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="428">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L429">429</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="429">&#43;        /* We need to translate the symbol to a keycode */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L430">430</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="430">&#43;        keysym = XStringToKeysym(bind-&gt;symbol);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L431">431</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="431">&#43;        if (keysym == NoSymbol) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L432">432</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="432">&#43;            ELOG(&#34;Could not translate string to key symbol: \&#34;%s\&#34;\n&#34;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L433">433</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="433">&#43;                 bind-&gt;symbol);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L434">434</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="434">&#43;            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L435">435</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="435">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L436">436</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="436">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L437">437</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="437">&#43;        /* Base column we use for looking up key symbols. We always consider</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L438">438</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="438">&#43;         * the base column and the corresponding shift column, so without</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L439">439</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="439">&#43;         * mode_switch, we look in 0 and 1, with mode_switch we look in 2 and</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L440">440</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="440">&#43;         * 3. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L441">441</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="441">&#43;        col = (bind-&gt;mods &amp; BIND_MODE_SWITCH ? 2 : 0);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L442">442</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="442">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L443">443</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="443">&#43;        FREE(bind-&gt;translated_to);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L444">444</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="444">&#43;        bind-&gt;number_keycodes = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L445">445</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="445">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L446">446</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="446">&#43;        for (i = min_keycode; i &amp;&amp; i &lt;= max_keycode; i&#43;&#43;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L447">447</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="447">&#43;            if ((xcb_key_symbols_get_keysym(keysyms, i, col) != keysym) &amp;&amp;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L448">448</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="448">&#43;                (xcb_key_symbols_get_keysym(keysyms, i, col&#43;1) != keysym))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L449">449</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="449">&#43;                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L450">450</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="450">&#43;            bind-&gt;number_keycodes&#43;&#43;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L451">451</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="451">&#43;            bind-&gt;translated_to = srealloc(bind-&gt;translated_to,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L452">452</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="452">&#43;                                           (sizeof(xcb_keycode_t) *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L453">453</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="453">&#43;                                            bind-&gt;number_keycodes));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L454">454</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="454">&#43;            bind-&gt;translated_to[bind-&gt;number_keycodes-1] = i;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L455">455</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="455">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L456">456</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="456">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L457">457</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="457">&#43;        DLOG(&#34;Translated symbol \&#34;%s\&#34; to %d keycode\n&#34;, bind-&gt;symbol,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L458">458</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="458">&#43;             bind-&gt;number_keycodes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L459">459</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="459">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L460">460</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="460">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L461">461</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="461">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L462">462</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="462">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L463">463</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="463">&#43; * Grabs the keys for which bindings exist. The server will send us keypress</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L464">464</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="464">&#43; * events for those keycodes.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L465">465</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="465">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L466">466</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="466">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L467">467</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="467">&#43;void grab_bound_keys(xcb_connection_t *conn, bool bind_mode_switch) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L468">468</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="468">&#43;    Binding *bind;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L469">469</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="469">&#43;    TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L470">470</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="470">&#43;        if ((bind_mode_switch &amp;&amp; (bind-&gt;mods &amp; BIND_MODE_SWITCH) == 0) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L471">471</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="471">&#43;            (!bind_mode_switch &amp;&amp; (bind-&gt;mods &amp; BIND_MODE_SWITCH) != 0))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L472">472</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="472">&#43;            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L473">473</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="473">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L474">474</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="474">&#43;        /* The easy case: the user specified a keycode directly. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L475">475</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="475">&#43;        if (bind-&gt;keycode &gt; 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L476">476</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="476">&#43;            grab_keycode_for_binding(conn, bind, bind-&gt;keycode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L477">477</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="477">&#43;            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L478">478</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="478">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L479">479</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="479">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L480">480</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="480">&#43;        xcb_keycode_t *walk = bind-&gt;translated_to;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L481">481</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="481">&#43;        for (uint32_t i = 0; i &lt; bind-&gt;number_keycodes; i&#43;&#43;)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L482">482</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="482">&#43;            grab_keycode_for_binding(conn, bind, *walk&#43;&#43;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L483">483</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="483">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L484">484</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="484">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L485">485</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="485">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L486">486</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="486">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L487">487</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="487">&#43; * Changes the set of currently active bindings to those that were configured</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L488">488</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="488">&#43; * in the specified mode if the mode exists.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L489">489</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="489">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L490">490</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="490">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L491">491</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="491">&#43;void switch_binding_mode(const char *new_mode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L492">492</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="492">&#43;    struct Mode *mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L493">493</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="493">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L494">494</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="494">&#43;    LOG(&#34;Switching to mode %s\n&#34;, new_mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L495">495</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="495">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L496">496</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="496">&#43;    SLIST_FOREACH(mode, &amp;modes, modes) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L497">497</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="497">&#43;        if (strcasecmp(mode-&gt;name, new_mode) != 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L498">498</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="498">&#43;            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L499">499</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="499">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L500">500</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="500">&#43;        ungrab_all_keys(conn);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L501">501</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="501">&#43;        bindings = mode-&gt;bindings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L502">502</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="502">&#43;        translate_binding_keysyms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L503">503</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="503">&#43;        grab_bound_keys(conn, false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L504">504</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="504">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L505">505</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="505">&#43;        char *event_msg;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L506">506</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="506">&#43;        sasprintf(&amp;event_msg, &#34;{\&#34;change\&#34;:\&#34;%s\&#34;}&#34;, mode-&gt;name);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L507">507</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="507">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L508">508</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="508">&#43;        ipc_send_event(&#34;mode&#34;, I3_IPC_EVENT_MODE, event_msg);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L509">509</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="509">&#43;        FREE(event_msg);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L510">510</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="510">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L511">511</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="511">&#43;        return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L512">512</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="512">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L513">513</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="513">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L514">514</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="514">&#43;    ELOG(&#34;ERROR: Mode not found\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L515">515</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="515">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L516">516</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="516">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L517">517</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="517">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L518">518</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="518">&#43; * Checks for duplicate bindings (the same keycode, keysym, or button is</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L519">519</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="519">&#43; * configured more than once). If a duplicate binding is found, a message is</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L520">520</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="520">&#43; * printed to stderr and the has_errors variable is set to true, which will</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L521">521</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="521">&#43; * start i3-nagbar.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L522">522</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="522">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L523">523</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="523">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L524">524</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="524">&#43;void validate_bindings(struct context *context) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L525">525</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="525">&#43;    Binding *bind, *current;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L526">526</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="526">&#43;    TAILQ_FOREACH(current, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L527">527</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="527">&#43;        TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L528">528</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="528">&#43;            /* Abort when we reach the current keybinding, only check the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L529">529</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="529">&#43;             * bindings before */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L530">530</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="530">&#43;            if (bind == current)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L531">531</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="531">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L532">532</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="532">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L533">533</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="533">&#43;            /* Check if one is using keysym while the other is using bindsym.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L534">534</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="534">&#43;             * If so, skip. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L535">535</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="535">&#43;            /* XXX: It should be checked at a later place (when translating the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L536">536</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="536">&#43;             * keysym to keycodes) if there are any duplicates */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L537">537</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="537">&#43;            if ((bind-&gt;symbol == NULL &amp;&amp; current-&gt;symbol != NULL) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L538">538</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="538">&#43;                (bind-&gt;symbol != NULL &amp;&amp; current-&gt;symbol == NULL))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L539">539</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="539">&#43;                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L540">540</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="540">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L541">541</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="541">&#43;            /* If bind is NULL, current has to be NULL, too (see above).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L542">542</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="542">&#43;             * If the keycodes differ, it can&#39;t be a duplicate. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L543">543</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="543">&#43;            if (bind-&gt;symbol != NULL &amp;&amp;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L544">544</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="544">&#43;                strcasecmp(bind-&gt;symbol, current-&gt;symbol) != 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L545">545</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="545">&#43;                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L546">546</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="546">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L547">547</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="547">&#43;            /* Check if the keycodes or modifiers are different. If so, they</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L548">548</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="548">&#43;             * can&#39;t be duplicate */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L549">549</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="549">&#43;            if (bind-&gt;keycode != current-&gt;keycode ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L550">550</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="550">&#43;                bind-&gt;mods != current-&gt;mods ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L551">551</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="551">&#43;                bind-&gt;release != current-&gt;release)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L552">552</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="552">&#43;                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L553">553</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="553">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L554">554</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="554">&#43;            context-&gt;has_errors = true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L555">555</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="555">&#43;            if (current-&gt;keycode != 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L556">556</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="556">&#43;                ELOG(&#34;Duplicate keybinding in config file:\n  modmask %d with keycode %d, command \&#34;%s\&#34;\n&#34;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L557">557</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="557">&#43;                     current-&gt;mods, current-&gt;keycode, current-&gt;command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L558">558</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="558">&#43;            } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L559">559</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="559">&#43;                ELOG(&#34;Duplicate keybinding in config file:\n  modmask %d with keysym %s, command \&#34;%s\&#34;\n&#34;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L560">560</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="560">&#43;                     current-&gt;mods, current-&gt;symbol, current-&gt;command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L561">561</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="561">&#43;            }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L562">562</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="562">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L563">563</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="563">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L564">564</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="564">&#43;}</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/commands.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L569">569</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="569">@@ -1057,7 &#43;1057,7 @@ void cmd_unmark(I3_CMD, char *mark) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L570">570</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="570">  */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L571">571</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="571"> void cmd_mode(I3_CMD, char *mode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L572">572</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="572">     DLOG(&#34;mode=%s\n&#34;, mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L573">573</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="573">-    switch_mode(mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L574">574</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="574">&#43;    switch_binding_mode(mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L575">575</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="575"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L576">576</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="576">     // XXX: default reply for now, make this a better reply</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L577">577</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="577">     ysuccess(true);</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/config.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L582">582</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="582">@@ -17,7 &#43;17,6 @@</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L583">583</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="583"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L584">584</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="584"> char *current_configpath = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L585">585</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="585"> Config config;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L586">586</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="586">-struct modes_head modes;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L587">587</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="587"> struct barconfig_head barconfigs = TAILQ_HEAD_INITIALIZER(barconfigs);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L588">588</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="588"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L589">589</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="589"> /**</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L590">590</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="590">@@ -30,186 &#43;29,6 @@ void ungrab_all_keys(xcb_connection_t *conn) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L591">591</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="591">     xcb_ungrab_key(conn, XCB_GRAB_ANY, root, XCB_BUTTON_MASK_ANY);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L592">592</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="592"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L593">593</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="593"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L594">594</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="594">-static void grab_keycode_for_binding(xcb_connection_t *conn, Binding *bind, uint32_t keycode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L595">595</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="595">-    DLOG(&#34;Grabbing %d with modifiers %d (with mod_mask_lock %d)\n&#34;, keycode, bind-&gt;mods, bind-&gt;mods | XCB_MOD_MASK_LOCK);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L596">596</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="596">-    /* Grab the key in all combinations */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L597">597</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="597">-    #define GRAB_KEY(modifier) \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L598">598</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="598">-        do { \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L599">599</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="599">-            xcb_grab_key(conn, 0, root, modifier, keycode, \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L600">600</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="600">-                         XCB_GRAB_MODE_SYNC, XCB_GRAB_MODE_ASYNC); \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L601">601</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="601">-        } while (0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L602">602</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="602">-    int mods = bind-&gt;mods;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L603">603</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="603">-    if ((bind-&gt;mods &amp; BIND_MODE_SWITCH) != 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L604">604</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="604">-        mods &amp;= ~BIND_MODE_SWITCH;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L605">605</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="605">-        if (mods == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L606">606</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="606">-            mods = XCB_MOD_MASK_ANY;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L607">607</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="607">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L608">608</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="608">-    GRAB_KEY(mods);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L609">609</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="609">-    GRAB_KEY(mods | xcb_numlock_mask);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L610">610</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="610">-    GRAB_KEY(mods | XCB_MOD_MASK_LOCK);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L611">611</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="611">-    GRAB_KEY(mods | xcb_numlock_mask | XCB_MOD_MASK_LOCK);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L612">612</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="612">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L613">613</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="613">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L614">614</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="614">-/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L615">615</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="615">- * Returns a pointer to the Binding with the specified modifiers and keycode</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L616">616</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="616">- * or NULL if no such binding exists.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L617">617</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="617">- *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L618">618</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="618">- */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L619">619</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="619">-Binding *get_binding(uint16_t modifiers, bool key_release, xcb_keycode_t keycode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L620">620</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="620">-    Binding *bind;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L621">621</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="621">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L622">622</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="622">-    if (!key_release) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L623">623</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="623">-        /* On a KeyPress event, we first reset all</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L624">624</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="624">-         * B_UPON_KEYRELEASE_IGNORE_MODS bindings back to B_UPON_KEYRELEASE */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L625">625</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="625">-        TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L626">626</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="626">-            if (bind-&gt;release == B_UPON_KEYRELEASE_IGNORE_MODS)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L627">627</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="627">-                bind-&gt;release = B_UPON_KEYRELEASE;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L628">628</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="628">-        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L629">629</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="629">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L630">630</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="630">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L631">631</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="631">-    TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L632">632</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="632">-        /* First compare the modifiers (unless this is a</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L633">633</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="633">-         * B_UPON_KEYRELEASE_IGNORE_MODS binding and this is a KeyRelease</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L634">634</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="634">-         * event) */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L635">635</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="635">-        if (bind-&gt;mods != modifiers &amp;&amp;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L636">636</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="636">-            (bind-&gt;release != B_UPON_KEYRELEASE_IGNORE_MODS ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L637">637</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="637">-             !key_release))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L638">638</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="638">-            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L639">639</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="639">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L640">640</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="640">-        /* If a symbol was specified by the user, we need to look in</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L641">641</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="641">-         * the array of translated keycodes for the event’s keycode */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L642">642</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="642">-        if (bind-&gt;symbol != NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L643">643</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="643">-            if (memmem(bind-&gt;translated_to,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L644">644</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="644">-                       bind-&gt;number_keycodes * sizeof(xcb_keycode_t),</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L645">645</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="645">-                       &amp;keycode, sizeof(xcb_keycode_t)) == NULL)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L646">646</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="646">-                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L647">647</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="647">-        } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L648">648</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="648">-            /* This case is easier: The user specified a keycode */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L649">649</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="649">-            if (bind-&gt;keycode != keycode)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L650">650</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="650">-                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L651">651</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="651">-        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L652">652</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="652">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L653">653</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="653">-        /* If this keybinding is a KeyRelease binding, it matches the key which</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L654">654</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="654">-         * the user pressed. We therefore mark it as</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L655">655</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="655">-         * B_UPON_KEYRELEASE_IGNORE_MODS for later, so that the user can</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L656">656</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="656">-         * release the modifiers before the actual key and the KeyRelease will</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L657">657</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="657">-         * still be matched. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L658">658</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="658">-        if (bind-&gt;release == B_UPON_KEYRELEASE &amp;&amp; !key_release)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L659">659</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="659">-            bind-&gt;release = B_UPON_KEYRELEASE_IGNORE_MODS;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L660">660</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="660">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L661">661</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="661">-        /* Check if the binding is for a KeyPress or a KeyRelease event */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L662">662</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="662">-        if ((bind-&gt;release == B_UPON_KEYPRESS &amp;&amp; key_release) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L663">663</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="663">-            (bind-&gt;release &gt;= B_UPON_KEYRELEASE &amp;&amp; !key_release))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L664">664</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="664">-            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L665">665</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="665">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L666">666</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="666">-        break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L667">667</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="667">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L668">668</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="668">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L669">669</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="669">-    return (bind == TAILQ_END(bindings) ? NULL : bind);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L670">670</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="670">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L671">671</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="671">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L672">672</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="672">-/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L673">673</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="673">- * Translates keysymbols to keycodes for all bindings which use keysyms.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L674">674</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="674">- *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L675">675</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="675">- */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L676">676</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="676">-void translate_keysyms(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L677">677</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="677">-    Binding *bind;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L678">678</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="678">-    xcb_keysym_t keysym;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L679">679</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="679">-    int col;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L680">680</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="680">-    xcb_keycode_t i,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L681">681</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="681">-                  min_keycode = xcb_get_setup(conn)-&gt;min_keycode,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L682">682</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="682">-                  max_keycode = xcb_get_setup(conn)-&gt;max_keycode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L683">683</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="683">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L684">684</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="684">-    TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L685">685</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="685">-        if (bind-&gt;keycode &gt; 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L686">686</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="686">-            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L687">687</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="687">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L688">688</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="688">-        /* We need to translate the symbol to a keycode */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L689">689</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="689">-        keysym = XStringToKeysym(bind-&gt;symbol);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L690">690</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="690">-        if (keysym == NoSymbol) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L691">691</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="691">-            ELOG(&#34;Could not translate string to key symbol: \&#34;%s\&#34;\n&#34;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L692">692</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="692">-                 bind-&gt;symbol);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L693">693</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="693">-            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L694">694</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="694">-        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L695">695</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="695">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L696">696</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="696">-        /* Base column we use for looking up key symbols. We always consider</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L697">697</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="697">-         * the base column and the corresponding shift column, so without</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L698">698</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="698">-         * mode_switch, we look in 0 and 1, with mode_switch we look in 2 and</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L699">699</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="699">-         * 3. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L700">700</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="700">-        col = (bind-&gt;mods &amp; BIND_MODE_SWITCH ? 2 : 0);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L701">701</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="701">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L702">702</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="702">-        FREE(bind-&gt;translated_to);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L703">703</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="703">-        bind-&gt;number_keycodes = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L704">704</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="704">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L705">705</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="705">-        for (i = min_keycode; i &amp;&amp; i &lt;= max_keycode; i&#43;&#43;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L706">706</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="706">-            if ((xcb_key_symbols_get_keysym(keysyms, i, col) != keysym) &amp;&amp;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L707">707</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="707">-                (xcb_key_symbols_get_keysym(keysyms, i, col&#43;1) != keysym))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L708">708</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="708">-                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L709">709</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="709">-            bind-&gt;number_keycodes&#43;&#43;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L710">710</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="710">-            bind-&gt;translated_to = srealloc(bind-&gt;translated_to,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L711">711</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="711">-                                           (sizeof(xcb_keycode_t) *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L712">712</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="712">-                                            bind-&gt;number_keycodes));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L713">713</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="713">-            bind-&gt;translated_to[bind-&gt;number_keycodes-1] = i;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L714">714</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="714">-        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L715">715</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="715">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L716">716</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="716">-        DLOG(&#34;Translated symbol \&#34;%s\&#34; to %d keycode\n&#34;, bind-&gt;symbol,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L717">717</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="717">-             bind-&gt;number_keycodes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L718">718</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="718">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L719">719</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="719">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L720">720</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="720">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L721">721</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="721">-/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L722">722</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="722">- * Grab the bound keys (tell X to send us keypress events for those keycodes)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L723">723</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="723">- *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L724">724</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="724">- */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L725">725</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="725">-void grab_all_keys(xcb_connection_t *conn, bool bind_mode_switch) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L726">726</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="726">-    Binding *bind;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L727">727</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="727">-    TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L728">728</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="728">-        if ((bind_mode_switch &amp;&amp; (bind-&gt;mods &amp; BIND_MODE_SWITCH) == 0) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L729">729</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="729">-            (!bind_mode_switch &amp;&amp; (bind-&gt;mods &amp; BIND_MODE_SWITCH) != 0))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L730">730</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="730">-            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L731">731</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="731">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L732">732</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="732">-        /* The easy case: the user specified a keycode directly. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L733">733</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="733">-        if (bind-&gt;keycode &gt; 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L734">734</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="734">-            grab_keycode_for_binding(conn, bind, bind-&gt;keycode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L735">735</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="735">-            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L736">736</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="736">-        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L737">737</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="737">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L738">738</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="738">-        xcb_keycode_t *walk = bind-&gt;translated_to;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L739">739</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="739">-        for (uint32_t i = 0; i &lt; bind-&gt;number_keycodes; i&#43;&#43;)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L740">740</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="740">-            grab_keycode_for_binding(conn, bind, *walk&#43;&#43;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L741">741</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="741">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L742">742</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="742">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L743">743</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="743">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L744">744</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="744">-/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L745">745</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="745">- * Switches the key bindings to the given mode, if the mode exists</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L746">746</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="746">- *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L747">747</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="747">- */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L748">748</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="748">-void switch_mode(const char *new_mode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L749">749</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="749">-    struct Mode *mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L750">750</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="750">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L751">751</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="751">-    LOG(&#34;Switching to mode %s\n&#34;, new_mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L752">752</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="752">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L753">753</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="753">-    SLIST_FOREACH(mode, &amp;modes, modes) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L754">754</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="754">-        if (strcasecmp(mode-&gt;name, new_mode) != 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L755">755</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="755">-            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L756">756</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="756">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L757">757</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="757">-        ungrab_all_keys(conn);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L758">758</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="758">-        bindings = mode-&gt;bindings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L759">759</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="759">-        translate_keysyms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L760">760</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="760">-        grab_all_keys(conn, false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L761">761</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="761">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L762">762</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="762">-        char *event_msg;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L763">763</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="763">-        sasprintf(&amp;event_msg, &#34;{\&#34;change\&#34;:\&#34;%s\&#34;}&#34;, mode-&gt;name);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L764">764</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="764">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L765">765</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="765">-        ipc_send_event(&#34;mode&#34;, I3_IPC_EVENT_MODE, event_msg);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L766">766</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="766">-        FREE(event_msg);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L767">767</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="767">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L768">768</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="768">-        return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L769">769</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="769">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L770">770</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="770">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L771">771</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="771">-    ELOG(&#34;ERROR: Mode not found\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L772">772</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="772">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L773">773</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="773">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L774">774</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="774"> /*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L775">775</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="775">  * Sends the current bar configuration as an event to all barconfig_update listeners.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L776">776</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="776">  * This update mechnism currently only includes the hidden_state and the mode in the config.</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L777">777</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="777">@@ -344,25 &#43;163,6 @@ void load_configuration(xcb_connection_t *conn, const char *override_configpath,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L778">778</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="778">         /* First ungrab the keys */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L779">779</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="779">         ungrab_all_keys(conn);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L780">780</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="780"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L781">781</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="781">-        struct Mode *mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L782">782</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="782">-        Binding *bind;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L783">783</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="783">-        while (!SLIST_EMPTY(&amp;modes)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L784">784</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="784">-            mode = SLIST_FIRST(&amp;modes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L785">785</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="785">-            FREE(mode-&gt;name);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L786">786</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="786">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L787">787</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="787">-            /* Clear the old binding list */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L788">788</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="788">-            bindings = mode-&gt;bindings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L789">789</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="789">-            while (!TAILQ_EMPTY(bindings)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L790">790</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="790">-                bind = TAILQ_FIRST(bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L791">791</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="791">-                TAILQ_REMOVE(bindings, bind, bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L792">792</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="792">-                FREE(bind-&gt;translated_to);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L793">793</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="793">-                FREE(bind-&gt;command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L794">794</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="794">-                FREE(bind);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L795">795</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="795">-            }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L796">796</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="796">-            FREE(bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L797">797</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="797">-            SLIST_REMOVE(&amp;modes, mode, Mode, modes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L798">798</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="798">-        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L799">799</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="799">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L800">800</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="800">         struct Assignment *assign;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L801">801</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="801">         while (!TAILQ_EMPTY(&amp;assignments)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L802">802</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="802">             assign = TAILQ_FIRST(&amp;assignments);</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L803">803</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="803">@@ -424,15 &#43;224,7 @@ void load_configuration(xcb_connection_t *conn, const char *override_configpath,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L804">804</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="804">         free_font();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L805">805</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="805">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L806">806</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="806"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L807">807</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="807">-    SLIST_INIT(&amp;modes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L808">808</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="808">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L809">809</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="809">-    struct Mode *default_mode = scalloc(sizeof(struct Mode));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L810">810</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="810">-    default_mode-&gt;name = sstrdup(&#34;default&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L811">811</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="811">-    default_mode-&gt;bindings = scalloc(sizeof(struct bindings_head));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L812">812</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="812">-    TAILQ_INIT(default_mode-&gt;bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L813">813</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="813">-    SLIST_INSERT_HEAD(&amp;modes, default_mode, modes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L814">814</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="814">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L815">815</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="815">-    bindings = default_mode-&gt;bindings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L816">816</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="816">&#43;    initialize_bindings();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L817">817</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="817"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L818">818</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="818"> #define REQUIRED_OPTION(name) \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L819">819</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="819">     if (config.name == NULL) \</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L820">820</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="820">@@ -477,8 &#43;269,8 @@ void load_configuration(xcb_connection_t *conn, const char *override_configpath,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L821">821</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="821">     parse_configuration(override_configpath);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L822">822</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="822"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L823">823</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="823">     if (reload) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L824">824</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="824">-        translate_keysyms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L825">825</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="825">-        grab_all_keys(conn, false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L826">826</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="826">&#43;        translate_binding_keysyms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L827">827</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="827">&#43;        grab_bound_keys(conn, false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L828">828</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="828">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L829">829</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="829"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L830">830</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="830">     if (config.font.type == FONT_TYPE_NONE) {</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/config_directives.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L835">835</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="835">@@ -130,7 &#43;130,11 @@ static bool eval_boolstr(const char *str) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L836">836</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="836">             strcasecmp(str, &#34;active&#34;) == 0);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L837">837</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="837"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L838">838</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="838"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L839">839</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="839">-static uint32_t modifiers_from_str(const char *str) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L840">840</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="840">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L841">841</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="841">&#43; * A utility function to convert a string of modifiers to the corresponding bit</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L842">842</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="842">&#43; * mask.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L843">843</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="843">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L844">844</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="844">&#43;uint32_t modifiers_from_str(const char *str) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L845">845</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="845">     /* It might be better to use strtok() here, but the simpler strstr() should</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L846">846</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="846">      * do for now. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L847">847</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="847">     uint32_t result = 0;</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L848">848</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="848">@@ -167,24 &#43;171,8 @@ CFGFUN(font, const char *font) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L849">849</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="849"> 	font_pattern = sstrdup(font);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L850">850</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="850"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L851">851</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="851"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L852">852</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="852">-// TODO: refactor with mode_binding</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L853">853</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="853"> CFGFUN(binding, const char *bindtype, const char *modifiers, const char *key, const char *release, const char *command) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L854">854</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="854">-    Binding *new_binding = scalloc(sizeof(Binding));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L855">855</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="855">-    DLOG(&#34;bindtype %s, modifiers %s, key %s, release %s\n&#34;, bindtype, modifiers, key, release);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L856">856</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="856">-    new_binding-&gt;release = (release != NULL ? B_UPON_KEYRELEASE : B_UPON_KEYPRESS);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L857">857</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="857">-    if (strcmp(bindtype, &#34;bindsym&#34;) == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L858">858</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="858">-        new_binding-&gt;symbol = sstrdup(key);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L859">859</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="859">-    } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L860">860</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="860">-        // TODO: strtol with proper error handling</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L861">861</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="861">-        new_binding-&gt;keycode = atoi(key);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L862">862</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="862">-        if (new_binding-&gt;keycode == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L863">863</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="863">-            ELOG(&#34;Could not parse \&#34;%s\&#34; as a keycode, ignoring this binding.\n&#34;, key);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L864">864</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="864">-            return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L865">865</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="865">-        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L866">866</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="866">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L867">867</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="867">-    new_binding-&gt;mods = modifiers_from_str(modifiers);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L868">868</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="868">-    new_binding-&gt;command = sstrdup(command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L869">869</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="869">-    TAILQ_INSERT_TAIL(bindings, new_binding, bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L870">870</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="870">&#43;    configure_binding(bindtype, modifiers, key, release, command, DEFAULT_BINDING_MODE);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L871">871</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="871"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L872">872</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="872"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L873">873</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="873"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L874">874</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="874">@@ -192,39 &#43;180,20 @@ CFGFUN(binding, const char *bindtype, const char *modifiers, const char *key, co</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L875">875</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="875">  * Mode handling</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L876">876</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="876">  ******************************************************************************/</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L877">877</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="877"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L878">878</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="878">-static struct bindings_head *current_bindings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L879">879</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="879">&#43;static char *current_mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L880">880</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="880"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L881">881</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="881"> CFGFUN(mode_binding, const char *bindtype, const char *modifiers, const char *key, const char *release, const char *command) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L882">882</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="882">-    Binding *new_binding = scalloc(sizeof(Binding));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L883">883</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="883">-    DLOG(&#34;bindtype %s, modifiers %s, key %s, release %s\n&#34;, bindtype, modifiers, key, release);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L884">884</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="884">-    new_binding-&gt;release = (release != NULL ? B_UPON_KEYRELEASE : B_UPON_KEYPRESS);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L885">885</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="885">-    if (strcmp(bindtype, &#34;bindsym&#34;) == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L886">886</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="886">-        new_binding-&gt;symbol = sstrdup(key);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L887">887</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="887">-    } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L888">888</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="888">-        // TODO: strtol with proper error handling</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L889">889</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="889">-        new_binding-&gt;keycode = atoi(key);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L890">890</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="890">-        if (new_binding-&gt;keycode == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L891">891</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="891">-            ELOG(&#34;Could not parse \&#34;%s\&#34; as a keycode, ignoring this binding.\n&#34;, key);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L892">892</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="892">-            return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L893">893</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="893">-        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L894">894</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="894">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L895">895</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="895">-    new_binding-&gt;mods = modifiers_from_str(modifiers);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L896">896</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="896">-    new_binding-&gt;command = sstrdup(command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L897">897</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="897">-    TAILQ_INSERT_TAIL(current_bindings, new_binding, bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L898">898</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="898">&#43;    configure_binding(bindtype, modifiers, key, release, command, current_mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L899">899</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="899"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L900">900</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="900"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L901">901</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="901"> CFGFUN(enter_mode, const char *modename) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L902">902</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="902">-    if (strcasecmp(modename, &#34;default&#34;) == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L903">903</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="903">-        ELOG(&#34;You cannot use the name \&#34;default\&#34; for your mode\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L904">904</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="904">&#43;    if (strcasecmp(modename,DEFAULT_BINDING_MODE) == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L905">905</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="905">&#43;        ELOG(&#34;You cannot use the name %s for your mode\n&#34;, DEFAULT_BINDING_MODE);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L906">906</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="906">         exit(1);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L907">907</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="907">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L908">908</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="908">     DLOG(&#34;\t now in mode %s\n&#34;, modename);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L909">909</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="909">-    struct Mode *mode = scalloc(sizeof(struct Mode));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L910">910</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="910">-    mode-&gt;name = sstrdup(modename);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L911">911</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="911">-    mode-&gt;bindings = scalloc(sizeof(struct bindings_head));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L912">912</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="912">-    TAILQ_INIT(mode-&gt;bindings);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L913">913</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="913">-    current_bindings = mode-&gt;bindings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L914">914</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="914">-    SLIST_INSERT_HEAD(&amp;modes, mode, modes);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L915">915</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="915">&#43;    FREE(current_mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L916">916</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="916">&#43;    current_mode = sstrdup(modename);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L917">917</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="917"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L918">918</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="918"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L919">919</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="919"> CFGFUN(exec, const char *exectype, const char *no_startup_id, const char *command) {</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/config_parser.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L924">924</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="924">@@ -844,55 &#43;844,6 @@ static char *migrate_config(char *input, off_t size) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L925">925</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="925"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L926">926</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="926"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L927">927</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="927"> /*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L928">928</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="928">- * Checks for duplicate key bindings (the same keycode or keysym is configured</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L929">929</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="929">- * more than once). If a duplicate binding is found, a message is printed to</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L930">930</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="930">- * stderr and the has_errors variable is set to true, which will start</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L931">931</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="931">- * i3-nagbar.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L932">932</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="932">- *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L933">933</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="933">- */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L934">934</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="934">-static void check_for_duplicate_bindings(struct context *context) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L935">935</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="935">-    Binding *bind, *current;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L936">936</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="936">-    TAILQ_FOREACH(current, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L937">937</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="937">-        TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L938">938</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="938">-            /* Abort when we reach the current keybinding, only check the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L939">939</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="939">-             * bindings before */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L940">940</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="940">-            if (bind == current)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L941">941</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="941">-                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L942">942</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="942">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L943">943</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="943">-            /* Check if one is using keysym while the other is using bindsym.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L944">944</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="944">-             * If so, skip. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L945">945</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="945">-            /* XXX: It should be checked at a later place (when translating the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L946">946</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="946">-             * keysym to keycodes) if there are any duplicates */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L947">947</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="947">-            if ((bind-&gt;symbol == NULL &amp;&amp; current-&gt;symbol != NULL) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L948">948</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="948">-                (bind-&gt;symbol != NULL &amp;&amp; current-&gt;symbol == NULL))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L949">949</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="949">-                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L950">950</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="950">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L951">951</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="951">-            /* If bind is NULL, current has to be NULL, too (see above).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L952">952</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="952">-             * If the keycodes differ, it can&#39;t be a duplicate. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L953">953</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="953">-            if (bind-&gt;symbol != NULL &amp;&amp;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L954">954</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="954">-                strcasecmp(bind-&gt;symbol, current-&gt;symbol) != 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L955">955</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="955">-                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L956">956</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="956">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L957">957</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="957">-            /* Check if the keycodes or modifiers are different. If so, they</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L958">958</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="958">-             * can&#39;t be duplicate */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L959">959</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="959">-            if (bind-&gt;keycode != current-&gt;keycode ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L960">960</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="960">-                bind-&gt;mods != current-&gt;mods ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L961">961</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="961">-                bind-&gt;release != current-&gt;release)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L962">962</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="962">-                continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L963">963</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="963">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L964">964</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="964">-            context-&gt;has_errors = true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L965">965</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="965">-            if (current-&gt;keycode != 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L966">966</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="966">-                ELOG(&#34;Duplicate keybinding in config file:\n  modmask %d with keycode %d, command \&#34;%s\&#34;\n&#34;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L967">967</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="967">-                     current-&gt;mods, current-&gt;keycode, current-&gt;command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L968">968</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="968">-            } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L969">969</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="969">-                ELOG(&#34;Duplicate keybinding in config file:\n  modmask %d with keysym %s, command \&#34;%s\&#34;\n&#34;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L970">970</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="970">-                     current-&gt;mods, current-&gt;symbol, current-&gt;command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L971">971</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="971">-            }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L972">972</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="972">-        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L973">973</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="973">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L974">974</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="974">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L975">975</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="975">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L976">976</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="976">-/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L977">977</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="977">  * Parses the given file by first replacing the variables, then calling</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L978">978</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="978">  * parse_config and possibly launching i3-nagbar.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L979">979</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="979">  *</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L980">980</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="980">@@ -1056,7 &#43;1007,7 @@ void parse_file(const char *f) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L981">981</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="981">     struct ConfigResult *config_output = parse_config(new, context);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L982">982</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="982">     yajl_gen_free(config_output-&gt;json_gen);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L983">983</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="983"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L984">984</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="984">-    check_for_duplicate_bindings(context);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L985">985</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="985">&#43;    validate_bindings(context);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L986">986</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="986"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L987">987</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="987">     if (context-&gt;has_errors || context-&gt;has_warnings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L988">988</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="988">         ELOG(&#34;FYI: You are using i3 version &#34; I3_VERSION &#34;\n&#34;);</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/handlers.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L993">993</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="993">@@ -259,8 &#43;259,8 @@ static void handle_mapping_notify(xcb_mapping_notify_event_t *event) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L994">994</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="994">     xcb_numlock_mask = aio_get_mod_mask_for(XCB_NUM_LOCK, keysyms);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L995">995</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="995"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L996">996</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="996">     ungrab_all_keys(conn);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L997">997</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="997">-    translate_keysyms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L998">998</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="998">-    grab_all_keys(conn, false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L999">999</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="999">&#43;    translate_binding_keysyms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1000">1000</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1000">&#43;    grab_bound_keys(conn, false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1001">1001</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1001"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1002">1002</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1002">     return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1003">1003</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1003"> }</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/key_press.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L1008">1008</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="1008">@@ -84,7 &#43;84,7 @@ void handle_key_press(xcb_key_press_event_t *event) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1009">1009</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1009">     DLOG(&#34;(checked mode_switch, state %d)\n&#34;, state_filtered);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1010">1010</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1010"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1011">1011</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1011">     /* Find the binding */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1012">1012</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1012">-    Binding *bind = get_binding(state_filtered, key_release, event-&gt;detail);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1013">1013</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1013">&#43;    Binding *bind = get_keyboard_binding(state_filtered, event-&gt;detail, key_release);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1014">1014</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1014"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1015">1015</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1015">     /* No match? Then the user has Mode_switch enabled but does not have a</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1016">1016</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1016">      * specific keybinding. Fall back to the default keybindings (without</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L1017">1017</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="1017">@@ -93,7 &#43;93,7 @@ void handle_key_press(xcb_key_press_event_t *event) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1018">1018</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1018">     if (bind == NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1019">1019</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1019">         state_filtered &amp;= ~(BIND_MODE_SWITCH);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1020">1020</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1020">         DLOG(&#34;no match, new state_filtered = %d\n&#34;, state_filtered);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1021">1021</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1021">-        if ((bind = get_binding(state_filtered, key_release, event-&gt;detail)) == NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1022">1022</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1022">&#43;        if ((bind = get_keyboard_binding(state_filtered, event-&gt;detail, key_release)) == NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1023">1023</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1023">             /* This is not a real error since we can have release and</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1024">1024</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1024">              * non-release keybindings. On a KeyPress event for which there is</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1025">1025</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1025">              * only a !release-binding, but no release-binding, the</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L1026">1026</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="1026">@@ -105,12 &#43;105,7 @@ void handle_key_press(xcb_key_press_event_t *event) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1027">1027</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1027">         }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1028">1028</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1028">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1029">1029</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1029"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1030">1030</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1030">-    char *command_copy = sstrdup(bind-&gt;command);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1031">1031</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1031">-    struct CommandResult *command_output = parse_command(command_copy);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1032">1032</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1032">-    free(command_copy);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1033">1033</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1033">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1034">1034</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1034">-    if (command_output-&gt;needs_tree_render)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1035">1035</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1035">-        tree_render();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1036">1036</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1036">&#43;    struct CommandResult *command_output = run_binding(bind);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1037">1037</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1037"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1038">1038</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1038">     /* We parse the JSON reply to figure out whether there was an error</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1039">1039</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1039">      * (&#34;success&#34; being false in on of the returned dictionaries). */</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/main.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L1044">1044</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="1044">@@ -206,13 &#43;206,13 @@ static void xkb_got_event(EV_P_ struct ev_io *w, int revents) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1045">1045</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1045"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1046">1046</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1046">         if (ev.state.group == XkbGroup2Index) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1047">1047</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1047">             DLOG(&#34;Mode_switch enabled\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1048">1048</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1048">-            grab_all_keys(conn, true);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1049">1049</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1049">&#43;            grab_bound_keys(conn, true);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1050">1050</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1050">         }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1051">1051</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1051"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1052">1052</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1052">         if (ev.state.group == XkbGroup1Index) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1053">1053</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1053">             DLOG(&#34;Mode_switch disabled\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1054">1054</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1054">             ungrab_all_keys(conn);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1055">1055</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1055">-            grab_all_keys(conn, false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1056">1056</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1056">&#43;            grab_bound_keys(conn, false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1057">1057</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1057">         }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1058">1058</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1058">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1059">1059</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1059"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L1060">1060</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="1060">@@ -227,8 &#43;227,8 @@ static void xkb_got_event(EV_P_ struct ev_io *w, int revents) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1061">1061</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1061"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1062">1062</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1062">     ungrab_all_keys(conn);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1063">1063</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1063">     DLOG(&#34;Re-grabbing...\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1064">1064</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1064">-    translate_keysyms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1065">1065</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1065">-    grab_all_keys(conn, (xkb_current_group == XkbGroup2Index));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1066">1066</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1066">&#43;    translate_binding_keysyms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1067">1067</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1067">&#43;    grab_bound_keys(conn, (xkb_current_group == XkbGroup2Index));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1068">1068</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1068">     DLOG(&#34;Done\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1069">1069</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1069"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1070">1070</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1070"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L1071">1071</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="1071">@@ -663,8 &#43;663,8 @@ int main(int argc, char *argv[]) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1072">1072</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1072"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1073">1073</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1073">     xcb_numlock_mask = aio_get_mod_mask_for(XCB_NUM_LOCK, keysyms);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1074">1074</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1074"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1075">1075</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1075">-    translate_keysyms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1076">1076</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1076">-    grab_all_keys(conn, false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1077">1077</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1077">&#43;    translate_binding_keysyms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1078">1078</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1078">&#43;    grab_bound_keys(conn, false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1079">1079</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1079"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1080">1080</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1080">     bool needs_tree_init = true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1081">1081</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1081">     if (layout_path) {</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/workspace.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L1086">1086</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="1086">@@ -116,7 &#43;116,9 @@ Con *create_workspace_on_output(Output *output, Con *content) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1087">1087</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1087">     Con *ws = con_new(NULL, NULL);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1088">1088</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1088">     ws-&gt;type = CT_WORKSPACE;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1089">1089</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1089"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1090">1090</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1090">-    /* try the configured workspace bindings first to find a free name */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1091">1091</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1091">&#43;    /* try the configured workspace bindings first to find a free name.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1092">1092</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1092">&#43;    *  TODO: try to figure out a way to do this without directly using the list</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1093">1093</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="1093">&#43;    *  of bindings.*/</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1094">1094</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1094">     Binding *bind;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1095">1095</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1095">     TAILQ_FOREACH(bind, bindings, bindings) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1096">1096</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="1096">         DLOG(&#34;binding with command %s\n&#34;, bind-&gt;command);</pre>
  </td>
  </tr>


</table>
</div>


</div>

  </body>
</html>

