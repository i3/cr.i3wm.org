
<!DOCTYPE html>
<html>
  <head>
    <title>i3 Patch: introduced i3 command for changing the hidden state and the mode of i3bar</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" media="screen" href="http://i3wm.org/css/style.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/public/stylesheets/main.css">
    <link rel="shortcut icon" type="image/png" href="http://i3wm.org/favicon.png">
    <script src="/public/js/jquery-1.9.0.min.js" type="text/javascript" charset="utf-8"></script>
	<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'>
    
    
      <script src="/public/js/patch.js" type="text/javascript" charset="utf-8"></script>
    
  </head>
  <body>


<div id="main">
	<a href="/"><h1 id="title">i3 - improved tiling WM</h1></a>
				<ul id="nav">
						<li><a style="border-bottom: 2px solid #fff" href="/">Reviews</a></li>
						<li><a href="http://bugs.i3wm.org/">Bugs</a></li>
				</ul>
<br style="clear: both">

<div id="content">

<h1>introduced i3 command for changing the hidden state and the mode of i3bar</h1>
<div style="float: right">
<p>
Patch status: superseded
</p>
<p>
Patch by haptix@web.de
</p>
</div>

<p>
<strong>Long description</strong>:<br>
<pre>The state and mode of each i3bar instance can now be controlled from within i3.
Therefore, two new i3 command were introduced:
    _
    bar state show|hide|toggle [&lt;bar_id&gt;]

    show: always show the bar
    hide: normal hide mode
    toggle: toggle between show and hide (individually for each bar)
    _
    bar mode dock|hide|invisible|toggle [&lt;bar_id&gt;]

    hide,dock: like before
    invisible: always keep the bar hidden
    toggle: toggle between dock and hide (individually for each bar)

This patch introduces a state (&#34;state hide|show&#34;) in the barconfig,
which indicates the current state of each i3bar instance. It only affects the
bar when in hide mode. Additionally, a new invisible mode was introduced. In
order to change the state or mode of the bar from i3, a barconfig-update event
was introduced, for which a bar can subscribe and the bar then gets notified
about the currently set state and mode in its barconfig.

For convenience, an id field (&#34;id &lt;bar_id&gt;&#34;) was added to the barconfig, where one can
set the desired id for the corresponding bar. If the id is not specified, i3 will
deterministically choose an id; otherwise, with the previous random approach for finding
a new id, which is actually not shared with i3bar, as it would determine its id on
startup, the event-subscription would be destroyed on reload. Still, this issue remains
when manually changing the bar_id in the config and then reloading.

fixes #833, #651
</pre>
</p>


<p>
To apply this patch, use:<br>
<code>curl http://cr.i3wm.org/patch/144/raw.patch | git am</code>
</p>




<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/docs/ipc</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L61">61</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="61">@@ -626,6 &#43;626,9 @@ mode (2)::</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L62">62</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="62"> window (3)::</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L63">63</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="63"> 	Sent when a client&#39;s window is successfully reparented (that is when i3</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L64">64</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="64"> 	has finished fitting it into a container).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L65">65</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="65">&#43;barconfig_update (4)::</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L66">66</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="66">&#43;    Sent when the state or mode field in the barconfig of any bar instance was</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L67">67</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="67">&#43;    updated.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L68">68</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="68"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L69">69</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="69"> *Example:*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L70">70</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="70"> --------------------------------------------------------------------</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L71">71</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="71">@@ -723,6 &#43;726,24 @@ window title as &#34;urxvt&#34;).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L72">72</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="72"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L73">73</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="73"> ---------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L74">74</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="74"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L75">75</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="75">&#43;=== barconfig_update event</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L76">76</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="76">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L77">77</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="77">&#43;This event consists of a single serialized map reporting on options from the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L78">78</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="78">&#43;barconfig of the specified bar_id that were updated in i3. The map always</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L79">79</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="79">&#43;consists of a property &#43;id (string)&#43;, which specifies to which bar instance the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L80">80</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="80">&#43;send config update belongs, a property &#43;state (string)&#43;, which indicates the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L81">81</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="81">&#43;hidden state of an i3bar instance, and a property &#43;mode (string)&#43;, which</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L82">82</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="82">&#43;corresponds to current mode.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L83">83</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="83">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L84">84</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="84">&#43;*Example:*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L85">85</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="85">&#43;---------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L86">86</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="86">&#43;{</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L87">87</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="87">&#43;    &#34;id&#34;: &#34;bar-0&#34;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L88">88</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="88">&#43;    &#34;state&#34;: &#34;hide&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L89">89</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="89">&#43;    &#34;mode&#34;: &#34;hide&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L90">90</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="90">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L91">91</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="91">&#43;---------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L92">92</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="92">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L93">93</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="93"> == See also (existing libraries)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L94">94</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="94"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L95">95</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="95"> [[libraries]]</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/docs/userguide</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L100">100</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="100">@@ -997,19 &#43;997,31 @@ bar {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L101">101</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="101"> === Display mode</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L102">102</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="102"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L103">103</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="103"> You can have i3bar either be visible permanently at one edge of the screen</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L104">104</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="104">-(&#43;dock&#43; mode) or make it show up when you press your modifier key (&#43;hide&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L105">105</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="105">&#43;(&#43;dock&#43; mode) or make it show up when you press your modifier key (&#43;hide&#43; mode),</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L106">106</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="106">&#43;i3bar can also be forced to be hidden until the mode changes again (&#43;invisible&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L107">107</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="107"> mode). The modifier key can be configured using the &#43;modifier&#43; option.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L108">108</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="108"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L109">109</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="109"> The hide mode maximizes screen space that can be used for actual windows. Also,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L110">110</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="110"> i3bar sends the &#43;SIGSTOP&#43; and &#43;SIGCONT&#43; signals to the statusline process to</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L111">111</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="111"> save battery power.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L112">112</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="112"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L113">113</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="113">-The default is dock mode; in hide mode, the default modifier is Mod4 (usually</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L114">114</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="114">-the windows key).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L115">115</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="115">&#43;The state option for i3bar is only relevant for hide mode and has no effect in</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L116">116</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="116">&#43;dock mode or invisible mode. It indicates the current state of the bar: (1) The</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L117">117</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="117">&#43;bar acts like in normal hide mode, it is hidden and is only unhidden in case of</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L118">118</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="118">&#43;urgency hints or by pressing the modifier key (&#43;hide&#43; state), or (2) it is</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L119">119</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="119">&#43;drawn on top of the currently visible workspace (&#43;show&#43; state). </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L120">120</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="120">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L121">121</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="121">&#43;Both, the state and the mode option can be changed during runtime through the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L122">122</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="122">&#43;corresponding bar commands and will be reverted to the configured values on</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L123">123</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="123">&#43;reload.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L124">124</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="124">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L125">125</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="125">&#43;The default mode is dock mode; in hide mode, the default modifier is Mod4 (usually</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L126">126</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="126">&#43;the windows key). The default value for the state is hide.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L127">127</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="127"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L128">128</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="128"> *Syntax*:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L129">129</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="129"> ----------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L130">130</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="130">-mode &lt;dock|hide&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L131">131</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="131">&#43;mode &lt;dock|hide|invisible&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L132">132</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="132">&#43;state &lt;hide|show&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L133">133</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="133"> modifier &lt;Modifier&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L134">134</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="134"> ----------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L135">135</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="135"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L136">136</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="136">@@ -1017,12 &#43;1029,31 @@ modifier &lt;Modifier&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L137">137</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="137"> ----------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L138">138</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="138"> bar {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L139">139</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="139">     mode hide</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L140">140</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="140">&#43;    state hide</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L141">141</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="141">     modifier Mod1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L142">142</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="142"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L143">143</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="143"> ----------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L144">144</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="144"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L145">145</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="145"> Available modifiers are Mod1-Mod5, Shift, Control (see &#43;xmodmap(1)&#43;).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L146">146</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="146"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L147">147</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="147">&#43;=== Bar ID</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L148">148</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="148">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L149">149</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="149">&#43;Specifies the bar ID for the configured bar instance. If this option is missing,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L150">150</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="150">&#43;the ID is set to &#39;bar-x&#39;, where x corresponds to the position of the embedding</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L151">151</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="151">&#43;bar block in the config file (&#39;bar-0&#39;, &#39;bar-1&#39;, ...).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L152">152</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="152">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L153">153</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="153">&#43;*Syntax*:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L154">154</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="154">&#43;---------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L155">155</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="155">&#43;id &lt;bar_id&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L156">156</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="156">&#43;---------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L157">157</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="157">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L158">158</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="158">&#43;*Example*:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L159">159</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="159">&#43;---------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L160">160</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="160">&#43;bar {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L161">161</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="161">&#43;    id bar-1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L162">162</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="162">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L163">163</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="163">&#43;---------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L164">164</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="164">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L165">165</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="165"> [[i3bar_position]]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L166">166</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="166"> === Position</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L167">167</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="167"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L168">168</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="168">@@ -1775,6 &#43;1806,35 @@ bindsym $mod&#43;minus scratchpad show</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L169">169</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="169"> bindsym mod4&#43;s [title=&#34;^Sup ::&#34;] scratchpad show</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L170">170</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="170"> ------------------------------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L171">171</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="171"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L172">172</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="172">&#43;=== i3bar control</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L173">173</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="173">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L174">174</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="174">&#43;There are two options in the configuration of each i3bar instance that can be</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L175">175</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="175">&#43;changed during runtime by invoking a command through i3. The commands &#43;bar</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L176">176</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="176">&#43;state&#43; and &#43;bar mode&#43; allow setting the current state respectively mode option</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L177">177</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="177">&#43;of each bar. It is also possible to toggle between hide state and show state as</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L178">178</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="178">&#43;well as between dock mode and hide mode. Each i3bar instance can be controlled</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L179">179</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="179">&#43;individually by specifying a bar_id, if none is given, the command is executed</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L180">180</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="180">&#43;for all bar instances.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L181">181</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="181">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L182">182</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="182">&#43;*Syntax*:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L183">183</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="183">&#43;---------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L184">184</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="184">&#43;bar state hide|show|toggle [&lt;bar_id&gt;]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L185">185</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="185">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L186">186</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="186">&#43;bar mode dock|hide|invisible|toggle [&lt;bar_id&gt;]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L187">187</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="187">&#43;---------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L188">188</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="188">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L189">189</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="189">&#43;*Examples*:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L190">190</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="190">&#43;------------------------------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L191">191</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="191">&#43;# Toggle between hide state and show state</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L192">192</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="192">&#43;bindsym $mod&#43;b bar state toggle</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L193">193</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="193">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L194">194</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="194">&#43;# Set the bar instance with id &#39;bar-1&#39; to stay hidden</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L195">195</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="195">&#43;bindsym $mod&#43;Shift&#43;b bar mode invisible bar-1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L196">196</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="196">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L197">197</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="197">&#43;# Toggle between dock mode and hide mode</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L198">198</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="198">&#43;bindsym $mod&#43;n bar mode toggle</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L199">199</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="199">&#43;------------------------------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L200">200</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="200">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L201">201</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="201"> [[multi_monitor]]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L202">202</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="202"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L203">203</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="203"> == Multiple monitors</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/i3bar/include/config.h</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L208">208</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="208">@@ -19,7 &#43;19,6 @@ typedef enum {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L209">209</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="209"> } position_t;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L210">210</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="210"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L211">211</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="211"> typedef struct config_t {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L212">212</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="212">-    int          hide_on_modifier;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L213">213</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="213">     int          modifier;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L214">214</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="214">     position_t   position;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L215">215</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="215">     int          verbose;</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L216">216</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="216">@@ -31,6 &#43;30,12 @@ typedef struct config_t {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L217">217</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="217">     char         *tray_output;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L218">218</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="218">     int          num_outputs;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L219">219</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="219">     char         **outputs;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L220">220</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="220">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L221">221</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="221">&#43;    /* Bar display mode (hide unless modifier is pressed or show in dock mode or always hide in invisible mode) */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L222">222</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="222">&#43;    enum { M_DOCK = 0, M_HIDE = 1, M_INVISIBLE = 2 } hide_on_modifier;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L223">223</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="223">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L224">224</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="224">&#43;    /* The current state of the bar, which indicates whether it is hidden or shown */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L225">225</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="225">&#43;    enum { S_HIDE = 0, S_SHOW = 1 } state;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L226">226</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="226"> } config_t;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L227">227</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="227"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L228">228</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="228"> config_t config;</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/i3bar/src/config.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L233">233</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="233">@@ -73,7 &#43;73,15 @@ static int config_string_cb(void *params_, const unsigned char *val, unsigned in</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L234">234</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="234"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L235">235</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="235">     if (!strcmp(cur_key, &#34;mode&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L236">236</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="236">         DLOG(&#34;mode = %.*s, len = %d\n&#34;, len, val, len);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L237">237</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="237">-        config.hide_on_modifier = (len == 4 &amp;&amp; !strncmp((const char*)val, &#34;hide&#34;, strlen(&#34;hide&#34;)));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L238">238</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="238">&#43;        config.hide_on_modifier = (len == 4 &amp;&amp; !strncmp((const char*)val, &#34;dock&#34;, strlen(&#34;dock&#34;)) ? M_DOCK</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L239">239</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="239">&#43;            : (len == 4 &amp;&amp; !strncmp((const char*)val, &#34;hide&#34;, strlen(&#34;hide&#34;)) ? M_HIDE</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L240">240</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="240">&#43;                : M_INVISIBLE));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L241">241</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="241">&#43;        return 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L242">242</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="242">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L243">243</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="243">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L244">244</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="244">&#43;    if (!strcmp(cur_key, &#34;state&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L245">245</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="245">&#43;        DLOG(&#34;state = %.*s, len = %d\n&#34;, len, val, len);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L246">246</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="246">&#43;        config.state = (len == 4 &amp;&amp; !strncmp((const char*)val, &#34;hide&#34;, strlen(&#34;hide&#34;)) ? S_HIDE : S_SHOW);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L247">247</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="247">         return 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L248">248</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="248">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L249">249</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="249"> </pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/i3bar/src/ipc.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L254">254</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="254">@@ -149,12 &#43;149,36 @@ void got_mode_event(char *event) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L255">255</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="255">     draw_bars(false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L256">256</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="256"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L257">257</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="257"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L258">258</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="258">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L259">259</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="259">&#43; * Called, when a barconfig_update event arrives (i.e. i3 changed the bar state)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L260">260</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="260">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L261">261</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="261">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L262">262</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="262">&#43;void got_bar_config_update(char *event) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L263">263</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="263">&#43;    /* check whether this affect this bar instance by checking the bar_id */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L264">264</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="264">&#43;    char* expected_id;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L265">265</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="265">&#43;    sasprintf(&amp;expected_id, &#34;\&#34;id\&#34;:\&#34;%s\&#34;&#34;, config.bar_id);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L266">266</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="266">&#43;    if(strstr(event, expected_id) == NULL)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L267">267</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="267">&#43;       return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L268">268</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="268">&#43;    FREE(expected_id);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L269">269</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="269">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L270">270</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="270">&#43;    /* update the configuration with the received settings */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L271">271</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="271">&#43;    DLOG(&#34;Received bar config update \&#34;%s\&#34;\n&#34;, event);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L272">272</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="272">&#43;    int old_mode = config.hide_on_modifier;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L273">273</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="273">&#43;    parse_config_json(event);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L274">274</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="274">&#43;    if (old_mode != config.hide_on_modifier) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L275">275</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="275">&#43;        reconfig_windows();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L276">276</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="276">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L277">277</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="277"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L278">278</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="278">-/* Data-structure to easily call the reply-handlers later */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L279">279</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="279">&#43;    draw_bars(false);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L280">280</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="280">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L281">281</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="281">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L282">282</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="282">&#43;/* Data-structure to easily call the event-handlers later */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L283">283</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="283"> handler_t event_handlers[] = {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L284">284</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="284">     &amp;got_workspace_event,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L285">285</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="285">     &amp;got_output_event,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L286">286</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="286">-    &amp;got_mode_event</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L287">287</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="287">&#43;    &amp;got_mode_event,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L288">288</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="288">&#43;    NULL,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L289">289</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="289">&#43;    &amp;got_bar_config_update,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L290">290</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="290"> };</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L291">291</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="291"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L292">292</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="292"> /*</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L293">293</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="293">@@ -310,8 &#43;334,8 @@ void destroy_connection(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L294">294</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="294">  */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L295">295</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="295"> void subscribe_events(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L296">296</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="296">     if (config.disable_ws) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L297">297</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="297">-        i3_send_msg(I3_IPC_MESSAGE_TYPE_SUBSCRIBE, &#34;[ \&#34;output\&#34;, \&#34;mode\&#34; ]&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L298">298</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="298">&#43;        i3_send_msg(I3_IPC_MESSAGE_TYPE_SUBSCRIBE, &#34;[ \&#34;output\&#34;, \&#34;mode\&#34;, \&#34;barconfig_update\&#34; ]&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L299">299</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="299">     } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L300">300</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="300">-        i3_send_msg(I3_IPC_MESSAGE_TYPE_SUBSCRIBE, &#34;[ \&#34;workspace\&#34;, \&#34;output\&#34;, \&#34;mode\&#34; ]&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L301">301</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="301">&#43;        i3_send_msg(I3_IPC_MESSAGE_TYPE_SUBSCRIBE, &#34;[ \&#34;workspace\&#34;, \&#34;output\&#34;, \&#34;mode\&#34;, \&#34;barconfig_update\&#34; ]&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L302">302</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="302">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L303">303</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="303"> }</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/i3bar/src/xcb.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L308">308</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="308">@@ -198,7 &#43;198,7 @@ void refresh_statusline(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L309">309</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="309">  *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L310">310</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="310">  */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L311">311</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="311"> void hide_bars(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L312">312</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="312">-    if (!config.hide_on_modifier) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L313">313</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="313">&#43;    if ((config.hide_on_modifier == M_DOCK) || (config.state == S_SHOW)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L314">314</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="314">         return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L315">315</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="315">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L316">316</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="316"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L317">317</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="317">@@ -217,7 &#43;217,7 @@ void hide_bars(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L318">318</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="318">  *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L319">319</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="319">  */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L320">320</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="320"> void unhide_bars(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L321">321</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="321">-    if (!config.hide_on_modifier) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L322">322</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="322">&#43;    if (config.hide_on_modifier != M_HIDE) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L323">323</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="323">         return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L324">324</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="324">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L325">325</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="325"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L326">326</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="326">@@ -988,25 &#43;988,13 @@ char *init_xcb_early() {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L327">327</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="327"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L328">328</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="328"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L329">329</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="329"> /*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L330">330</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="330">- * Initialization which depends on &#39;config&#39; being usable. Called after the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L331">331</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="331">- * configuration has arrived.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L332">332</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="332">&#43; * Register for xkb keyevents. To grab modifiers without blocking other applications from receiving key-events</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L333">333</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="333">&#43; * involving that modifier, we sadly have to use xkb which is not yet fully supported</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L334">334</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="334">&#43; * in xcb.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L335">335</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="335">  *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L336">336</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="336">  */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L337">337</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="337">-void init_xcb_late(char *fontname) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L338">338</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="338">-    if (fontname == NULL)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L339">339</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="339">-        fontname = &#34;-misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L340">340</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="340">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L341">341</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="341">-    /* Load the font */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L342">342</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="342">-    font = load_font(fontname, true);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L343">343</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="343">-    set_font(&amp;font);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L344">344</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="344">-    DLOG(&#34;Calculated Font-height: %d\n&#34;, font.height);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L345">345</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="345">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L346">346</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="346">-    xcb_flush(xcb_connection);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L347">347</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="347">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L348">348</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="348">-    /* To grab modifiers without blocking other applications from receiving key-events</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L349">349</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="349">-     * involving that modifier, we sadly have to use xkb which is not yet fully supported</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L350">350</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="350">-     * in xcb */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L351">351</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="351">-    if (config.hide_on_modifier) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L352">352</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="352">&#43;void register_xkb_keyevents() {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L353">353</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="353">&#43;    if (xkb_dpy == NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L354">354</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="354">         int xkb_major, xkb_minor, xkb_errbase, xkb_err;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L355">355</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="355">         xkb_major = XkbMajorVersion;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L356">356</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="356">         xkb_minor = XkbMinorVersion;</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L357">357</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="357">@@ -1047,6 &#43;1035,39 @@ void init_xcb_late(char *fontname) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L358">358</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="358"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L359">359</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="359"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L360">360</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="360"> /*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L361">361</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="361">&#43; * Deregister from xkb keyevents.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L362">362</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="362">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L363">363</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="363">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L364">364</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="364">&#43;void deregister_xkb_keyevents() {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L365">365</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="365">&#43;    if (xkb_dpy != NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L366">366</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="366">&#43;        ev_io_stop (main_loop, xkb_io);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L367">367</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="367">&#43;        close(xkb_io-&gt;fd);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L368">368</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="368">&#43;        FREE(xkb_io);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L369">369</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="369">&#43;        FREE(xkb_dpy);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L370">370</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="370">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L371">371</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="371">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L372">372</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="372">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L373">373</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="373">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L374">374</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="374">&#43; * Initialization which depends on &#39;config&#39; being usable. Called after the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L375">375</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="375">&#43; * configuration has arrived.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L376">376</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="376">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L377">377</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="377">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L378">378</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="378">&#43;void init_xcb_late(char *fontname) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L379">379</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="379">&#43;    if (fontname == NULL)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L380">380</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="380">&#43;        fontname = &#34;-misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L381">381</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="381">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L382">382</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="382">&#43;    /* Load the font */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L383">383</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="383">&#43;    font = load_font(fontname, true);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L384">384</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="384">&#43;    set_font(&amp;font);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L385">385</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="385">&#43;    DLOG(&#34;Calculated Font-height: %d\n&#34;, font.height);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L386">386</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="386">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L387">387</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="387">&#43;    xcb_flush(xcb_connection);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L388">388</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="388">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L389">389</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="389">&#43;    if (config.hide_on_modifier == M_HIDE)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L390">390</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="390">&#43;        register_xkb_keyevents();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L391">391</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="391">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L392">392</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="392">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L393">393</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="393">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L394">394</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="394">  * Inform clients waiting for a new _NET_SYSTEM_TRAY that we took the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L395">395</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="395">  * selection.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L396">396</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="396">  *</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L397">397</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="397">@@ -1368,8 &#43;1389,8 @@ void reconfig_windows(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L398">398</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="398">             mask = XCB_CW_BACK_PIXEL | XCB_CW_OVERRIDE_REDIRECT | XCB_CW_EVENT_MASK;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L399">399</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="399">             /* Black background */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L400">400</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="400">             values[0] = colors.bar_bg;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L401">401</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="401">-            /* If hide_on_modifier is set, i3 is not supposed to manage our bar-windows */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L402">402</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="402">-            values[1] = config.hide_on_modifier;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L403">403</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="403">&#43;            /* If hide_on_modifier is set to hide or invisible mode, i3 is not supposed to manage our bar-windows */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L404">404</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="404">&#43;            values[1] = (config.hide_on_modifier ? 1 : 0);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L405">405</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="405">             /* We enable the following EventMask fields:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L406">406</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="406">              * EXPOSURE, to get expose events (we have to re-draw then)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L407">407</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="407">              * SUBSTRUCTURE_REDIRECT, to get ConfigureRequests when the tray</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L408">408</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="408">@@ -1490,7 &#43;1511,7 @@ void reconfig_windows(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L409">409</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="409"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L410">410</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="410">             /* We finally map the bar (display it on screen), unless the modifier-switch is on */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L411">411</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="411">             xcb_void_cookie_t map_cookie;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L412">412</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="412">-            if (!config.hide_on_modifier) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L413">413</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="413">&#43;            if (config.hide_on_modifier == M_DOCK) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L414">414</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="414">                 map_cookie = xcb_map_window_checked(xcb_connection, walk-&gt;bar);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L415">415</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="415">             }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L416">416</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="416"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L417">417</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="417">@@ -1501,7 &#43;1522,7 @@ void reconfig_windows(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L418">418</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="418">                 xcb_request_failed(name_cookie,  &#34;Could not set WM_NAME&#34;)   ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L419">419</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="419">                 xcb_request_failed(strut_cookie, &#34;Could not set strut&#34;)     ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L420">420</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="420">                 xcb_request_failed(gc_cookie,    &#34;Could not create graphical context&#34;) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L421">421</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="421">-                (!config.hide_on_modifier &amp;&amp; xcb_request_failed(map_cookie, &#34;Could not map window&#34;))) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L422">422</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="422">&#43;                ((config.hide_on_modifier == M_DOCK) &amp;&amp; xcb_request_failed(map_cookie, &#34;Could not map window&#34;))) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L423">423</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="423">                 exit(EXIT_FAILURE);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L424">424</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="424">             }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L425">425</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="425"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L426">426</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="426">@@ -1533,6 &#43;1554,14 @@ void reconfig_windows(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L427">427</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="427">                                                                         mask,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L428">428</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="428">                                                                         values);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L429">429</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="429"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L430">430</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="430">&#43;            mask = XCB_CW_OVERRIDE_REDIRECT;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L431">431</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="431">&#43;            values[0] = (config.hide_on_modifier ? 1 : 0);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L432">432</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="432">&#43;            DLOG(&#34;Changing Window attribute override_redirect for output %s to %d\n&#34;, walk-&gt;name, values[0]);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L433">433</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="433">&#43;            xcb_void_cookie_t chg_cookie = xcb_change_window_attributes(xcb_connection,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L434">434</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="434">&#43;                                                                        walk-&gt;bar,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L435">435</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="435">&#43;                                                                        mask,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L436">436</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="436">&#43;                                                                        values);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L437">437</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="437">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L438">438</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="438">             DLOG(&#34;Recreating buffer for output %s\n&#34;, walk-&gt;name);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L439">439</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="439">             xcb_void_cookie_t pm_cookie = xcb_create_pixmap_checked(xcb_connection,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L440">440</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="440">                                                                     root_screen-&gt;root_depth,</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L441">441</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="441">@@ -1541,10 &#43;1570,26 @@ void reconfig_windows(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L442">442</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="442">                                                                     walk-&gt;rect.w,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L443">443</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="443">                                                                     walk-&gt;rect.h);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L444">444</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="444"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L445">445</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="445">-            if (xcb_request_failed(cfg_cookie, &#34;Could not reconfigure window&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L446">446</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="446">-                exit(EXIT_FAILURE);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L447">447</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="447">&#43;            /* Unmap the window, and draw it again when in dock mode */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L448">448</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="448">&#43;            xcb_void_cookie_t umap_cookie = xcb_unmap_window_checked(xcb_connection, walk-&gt;bar);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L449">449</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="449">&#43;            xcb_void_cookie_t map_cookie;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L450">450</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="450">&#43;            if (config.hide_on_modifier == M_DOCK) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L451">451</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="451">&#43;                map_cookie = xcb_map_window_checked(xcb_connection, walk-&gt;bar);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L452">452</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="452">&#43;            }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L453">453</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="453">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L454">454</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="454">&#43;            if (config.hide_on_modifier == M_HIDE) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L455">455</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="455">&#43;                /* Switching to hide mode, register for keyevents */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L456">456</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="456">&#43;                register_xkb_keyevents();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L457">457</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="457">&#43;            } else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L458">458</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="458">&#43;                /* Switching to dock/invisible mode, deregister from keyevents */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L459">459</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="459">&#43;                deregister_xkb_keyevents();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L460">460</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="460">             }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L461">461</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="461">-            if (xcb_request_failed(pm_cookie,  &#34;Could not create pixmap&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L462">462</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="462">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L463">463</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="463">&#43;            if (xcb_request_failed(cfg_cookie, &#34;Could not reconfigure window&#34;) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L464">464</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="464">&#43;                xcb_request_failed(chg_cookie, &#34;Could not change window&#34;) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L465">465</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="465">&#43;                xcb_request_failed(pm_cookie,  &#34;Could not create pixmap&#34;) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L466">466</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="466">&#43;                xcb_request_failed(umap_cookie,  &#34;Could not unmap window&#34;) ||</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L467">467</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="467">&#43;                ((config.hide_on_modifier == M_DOCK) &amp;&amp; xcb_request_failed(map_cookie, &#34;Could not map window&#34;))) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L468">468</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="468">                 exit(EXIT_FAILURE);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L469">469</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="469">             }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L470">470</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="470">         }</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L471">471</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="471">@@ -1718,11 &#43;1763,14 @@ void draw_bars(bool unhide) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L472">472</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="472">         i = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L473">473</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="473">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L474">474</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="474"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L475">475</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="475">&#43;    /* Assure the bar is hidden/unhidden according to the specified state */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L476">476</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="476">&#43;    bool should_unhide = (config.state == S_SHOW || (unhide &amp;&amp; config.state == S_HIDE));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L477">477</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="477">&#43;    bool should_hide = (config.hide_on_modifier == M_INVISIBLE);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L478">478</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="478">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L479">479</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="479">     if (!mod_pressed) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L480">480</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="480">-        if (unhide) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L481">481</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="481">-            /* The urgent-hint should get noticed, so we unhide the bars shortly */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L482">482</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="482">&#43;        if ((unhide || should_unhide) &amp;&amp; !should_hide) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L483">483</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="483">             unhide_bars();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L484">484</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="484">-        } else if (walks_away) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L485">485</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="485">&#43;        } else if (walks_away || should_hide) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L486">486</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="486">             FREE(last_urgent_ws);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L487">487</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="487">             hide_bars();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L488">488</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="488">         }</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/include/commands.h</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L493">493</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="493">@@ -265,4 &#43;265,10 @@ void cmd_scratchpad_show(I3_CMD);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L494">494</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="494">  */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L495">495</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="495"> void cmd_rename_workspace(I3_CMD, char *old_name, char *new_name);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L496">496</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="496"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L497">497</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="497">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L498">498</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="498">&#43; * Implementation of &#39;bar (state hide|show|toggle)|(mode dock|hide|invisible|toggle) [&lt;bar_id&gt;]&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L499">499</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="499">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L500">500</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="500">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L501">501</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="501">&#43;void cmd_bar(I3_CMD, char *bar_type, char *bar_value, char *bar_id);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L502">502</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="502">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L503">503</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="503"> #endif</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/include/config.h</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L508">508</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="508">@@ -199,6 &#43;199,9 @@ struct Config {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L509">509</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="509">         /* just ignore the popup, that is, don’t map it */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L510">510</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="510">         PDF_IGNORE = 2,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L511">511</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="511">     } popup_during_fullscreen;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L512">512</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="512">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L513">513</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="513">&#43;    /* The number of currently parsed barconfigs */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L514">514</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="514">&#43;    int number_barconfigs;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L515">515</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="515"> };</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L516">516</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="516"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L517">517</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="517"> /**</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L518">518</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="518">@@ -226,8 &#43;229,11 @@ struct Barconfig {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L519">519</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="519">      * root window! */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L520">520</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="520">     char *socket_path;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L521">521</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="521"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L522">522</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="522">-    /** Bar display mode (hide unless modifier is pressed or show in dock mode) */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L523">523</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="523">-    enum { M_DOCK = 0, M_HIDE = 1 } mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L524">524</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="524">&#43;    /** Bar display mode (hide unless modifier is pressed or show in dock mode or always hide in invisible mode) */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L525">525</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="525">&#43;    enum { M_DOCK = 0, M_HIDE = 1, M_INVISIBLE = 2 } mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L526">526</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="526">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L527">527</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="527">&#43;    /* The current state of the bar, which indicates whether it is hidden or shown */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L528">528</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="528">&#43;    enum { S_HIDE = 0, S_SHOW = 1 } state;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L529">529</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="529"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L530">530</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="530">     /** Bar modifier (to show bar when in hide mode). */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L531">531</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="531">     enum {</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L532">532</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="532">@@ -324,6 &#43;330,12 @@ void grab_all_keys(xcb_connection_t *conn, bool bind_mode_switch);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L533">533</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="533"> void switch_mode(const char *new_mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L534">534</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="534"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L535">535</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="535"> /**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L536">536</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="536">&#43; * Sends the current bar configuration as an event to all barconfig_update listeners.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L537">537</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="537">&#43; * This update mechnism currently only includes the state and the mode in the config.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L538">538</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="538">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L539">539</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="539">&#43; */void update_barconfig();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L540">540</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="540">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L541">541</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="541">&#43;/**</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L542">542</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="542">  * Returns a pointer to the Binding with the specified modifiers and keycode</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L543">543</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="543">  * or NULL if no such binding exists.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L544">544</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="544">  *</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/include/config_directives.h</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L549">549</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="549">@@ -62,6 &#43;62,8 @@ CFGFUN(mode_binding, const char *bindtype, const char *modifiers, const char *ke</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L550">550</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="550"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L551">551</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="551"> CFGFUN(bar_font, const char *font);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L552">552</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="552"> CFGFUN(bar_mode, const char *mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L553">553</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="553">&#43;CFGFUN(bar_state, const char *state);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L554">554</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="554">&#43;CFGFUN(bar_id, const char *bar_id);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L555">555</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="555"> CFGFUN(bar_output, const char *output);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L556">556</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="556"> CFGFUN(bar_verbose, const char *verbose);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L557">557</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="557"> CFGFUN(bar_modifier, const char *modifier);</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/include/i3/ipc.h</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L562">562</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="562">@@ -99,4 &#43;99,7 @@ typedef struct i3_ipc_header {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L563">563</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="563"> /* The window event will be triggered upon window changes */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L564">564</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="564"> #define I3_IPC_EVENT_WINDOW                     (I3_IPC_EVENT_MASK | 3)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L565">565</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="565"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L566">566</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="566">&#43;/** Bar config update will be triggered to update the bar config */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L567">567</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="567">&#43;#define I3_IPC_EVENT_BARCONFIG_UPDATE           (I3_IPC_EVENT_MASK | 4)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L568">568</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="568">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L569">569</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="569"> #endif</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/parser-specs/commands.spec</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L574">574</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="574">@@ -35,6 &#43;35,7 @@ state INITIAL:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L575">575</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="575">   &#39;nop&#39; -&gt; NOP</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L576">576</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="576">   &#39;scratchpad&#39; -&gt; SCRATCHPAD</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L577">577</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="577">   &#39;mode&#39; -&gt; MODE</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L578">578</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="578">&#43;  &#39;bar&#39; -&gt; BAR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L579">579</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="579"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L580">580</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="580"> state CRITERIA:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L581">581</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="581">   ctype = &#39;class&#39; -&gt; CRITERION</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L582">582</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="582">@@ -319,3 &#43;320,24 @@ state NOP:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L583">583</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="583"> state SCRATCHPAD:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L584">584</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="584">   &#39;show&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L585">585</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="585">       -&gt; call cmd_scratchpad_show()</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L586">586</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="586">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L587">587</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="587">&#43;# bar (state hide|show|toggle)|(mode dock|hide|invisible|toggle) [&lt;bar_id&gt;]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L588">588</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="588">&#43;state BAR:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L589">589</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="589">&#43;  bar_type = &#39;state&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L590">590</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="590">&#43;      -&gt; BAR_STATE</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L591">591</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="591">&#43;  bar_type = &#39;mode&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L592">592</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="592">&#43;      -&gt; BAR_MODE</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L593">593</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="593">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L594">594</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="594">&#43;state BAR_STATE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L595">595</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="595">&#43;  bar_value = &#39;hide&#39;, &#39;show&#39;, &#39;toggle&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L596">596</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="596">&#43;      -&gt; BAR_W_ID</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L597">597</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="597">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L598">598</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="598">&#43;state BAR_MODE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L599">599</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="599">&#43;  bar_value = &#39;dock&#39;, &#39;hide&#39;, &#39;invisible&#39;, &#39;toggle&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L600">600</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="600">&#43;      -&gt; BAR_W_ID</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L601">601</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="601">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L602">602</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="602">&#43;state BAR_W_ID:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L603">603</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="603">&#43;  bar_id = word</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L604">604</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="604">&#43;      -&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L605">605</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="605">&#43;  end</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L606">606</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="606">&#43;      -&gt; call cmd_bar($bar_type, $bar_value, $bar_id)</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/parser-specs/config.spec</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L611">611</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="611">@@ -349,6 &#43;349,8 @@ state BAR:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L612">612</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="612">   &#39;status_command&#39;    -&gt; BAR_STATUS_COMMAND</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L613">613</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="613">   &#39;socket_path&#39;       -&gt; BAR_SOCKET_PATH</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L614">614</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="614">   &#39;mode&#39;              -&gt; BAR_MODE</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L615">615</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="615">&#43;  &#39;state&#39;             -&gt; BAR_STATE</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L616">616</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="616">&#43;  &#39;id&#39;                -&gt; BAR_ID</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L617">617</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="617">   &#39;modifier&#39;          -&gt; BAR_MODIFIER</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L618">618</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="618">   &#39;position&#39;          -&gt; BAR_POSITION</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L619">619</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="619">   &#39;output&#39;            -&gt; BAR_OUTPUT</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L620">620</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="620">@@ -378,9 &#43;380,17 @@ state BAR_SOCKET_PATH:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L621">621</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="621">       -&gt; call cfg_bar_socket_path($path); BAR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L622">622</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="622"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L623">623</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="623"> state BAR_MODE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L624">624</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="624">-  mode = &#39;dock&#39;, &#39;hide&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L625">625</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="625">&#43;  mode = &#39;dock&#39;, &#39;hide&#39;, &#39;invisible&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L626">626</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="626">       -&gt; call cfg_bar_mode($mode); BAR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L627">627</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="627"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L628">628</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="628">&#43;state BAR_STATE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L629">629</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="629">&#43;  state = &#39;hide&#39;, &#39;show&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L630">630</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="630">&#43;      -&gt; call cfg_bar_state($state); BAR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L631">631</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="631">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L632">632</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="632">&#43;state BAR_ID:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L633">633</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="633">&#43;  bar_id = word</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L634">634</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="634">&#43;      -&gt; call cfg_bar_id($bar_id); BAR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L635">635</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="635">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L636">636</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="636"> state BAR_MODIFIER:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L637">637</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="637">   modifier = &#39;Mod1&#39;, &#39;Mod2&#39;, &#39;Mod3&#39;, &#39;Mod4&#39;, &#39;Mod5&#39;, &#39;Control&#39;, &#39;Ctrl&#39;, &#39;Shift&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L638">638</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="638">       -&gt; call cfg_bar_modifier($modifier); BAR</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/commands.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L643">643</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="643">@@ -1632,6 &#43;1632,8 @@ void cmd_reload(I3_CMD) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L644">644</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="644">     x_set_i3_atoms();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L645">645</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="645">     /* Send an IPC event just in case the ws names have changed */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L646">646</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="646">     ipc_send_event(&#34;workspace&#34;, I3_IPC_EVENT_WORKSPACE, &#34;{\&#34;change\&#34;:\&#34;reload\&#34;}&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L647">647</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="647">&#43;    /* Send an update event for the barconfig just in case it has changed */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L648">648</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="648">&#43;    update_barconfig();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L649">649</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="649"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L650">650</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="650">     // XXX: default reply for now, make this a better reply</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L651">651</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="651">     ysuccess(true);</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L652">652</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="652">@@ -1915,3 &#43;1917,113 @@ void cmd_rename_workspace(I3_CMD, char *old_name, char *new_name) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L653">653</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="653"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L654">654</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="654">     ipc_send_event(&#34;workspace&#34;, I3_IPC_EVENT_WORKSPACE, &#34;{\&#34;change\&#34;:\&#34;rename\&#34;}&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L655">655</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="655"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L656">656</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="656">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L657">657</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="657">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L658">658</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="658">&#43; * Implementation of &#39;bar mode dock|hide|invisible|toggle [&lt;bar_id&gt;]&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L659">659</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="659">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L660">660</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="660">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L661">661</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="661">&#43;bool cmd_bar_mode(char *bar_mode, char *bar_id) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L662">662</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="662">&#43;    int mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L663">663</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="663">&#43;    bool toggle = false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L664">664</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="664">&#43;    if (strcmp(bar_mode, &#34;dock&#34;) == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L665">665</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="665">&#43;        mode = M_DOCK;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L666">666</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="666">&#43;    else if (strcmp(bar_mode, &#34;hide&#34;) == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L667">667</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="667">&#43;        mode = M_HIDE;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L668">668</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="668">&#43;    else if (strcmp(bar_mode, &#34;invisible&#34;) == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L669">669</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="669">&#43;        mode = M_INVISIBLE;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L670">670</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="670">&#43;    else if (strcmp(bar_mode, &#34;toggle&#34;) == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L671">671</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="671">&#43;        toggle = true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L672">672</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="672">&#43;    else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L673">673</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="673">&#43;        ELOG(&#34;Unknown bar mode \&#34;%s\&#34;, this is a mismatch between code and parser spec.\n&#34;, bar_mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L674">674</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="674">&#43;        return false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L675">675</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="675">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L676">676</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="676">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L677">677</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="677">&#43;    bool changed_sth = false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L678">678</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="678">&#43;    Barconfig *current = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L679">679</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="679">&#43;    TAILQ_FOREACH(current, &amp;barconfigs, configs) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L680">680</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="680">&#43;        if (bar_id &amp;&amp; strcmp(current-&gt;id, bar_id) != 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L681">681</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="681">&#43;            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L682">682</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="682">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L683">683</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="683">&#43;        if (toggle)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L684">684</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="684">&#43;            mode = (current-&gt;mode &#43; 1) % 2;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L685">685</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="685">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L686">686</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="686">&#43;        DLOG(&#34;Changing bar mode of bar_id &#39;%s&#39; to &#39;%s (%d)&#39;\n&#34;, current-&gt;id, bar_mode, mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L687">687</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="687">&#43;        current-&gt;mode = mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L688">688</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="688">&#43;        changed_sth = true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L689">689</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="689">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L690">690</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="690">&#43;        if (bar_id)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L691">691</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="691">&#43;             break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L692">692</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="692">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L693">693</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="693">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L694">694</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="694">&#43;    if (bar_id &amp;&amp; !changed_sth) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L695">695</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="695">&#43;        DLOG(&#34;Changing bar mode of bar_id %s failed, bar_id not found.\n&#34;, bar_id);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L696">696</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="696">&#43;        return false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L697">697</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="697">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L698">698</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="698">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L699">699</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="699">&#43;    return true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L700">700</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="700">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L701">701</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="701">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L702">702</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="702">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L703">703</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="703">&#43; * Implementation of &#39;bar state hide|show|toggle [&lt;bar_id&gt;]&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L704">704</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="704">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L705">705</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="705">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L706">706</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="706">&#43;bool cmd_bar_state(char *bar_state, char *bar_id) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L707">707</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="707">&#43;    int state;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L708">708</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="708">&#43;    bool toggle = false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L709">709</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="709">&#43;    if (strcmp(bar_state, &#34;hide&#34;) == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L710">710</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="710">&#43;        state = S_HIDE;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L711">711</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="711">&#43;    else if (strcmp(bar_state, &#34;show&#34;) == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L712">712</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="712">&#43;        state = S_SHOW;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L713">713</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="713">&#43;    else if (strcmp(bar_state, &#34;toggle&#34;) == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L714">714</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="714">&#43;        toggle = true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L715">715</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="715">&#43;    else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L716">716</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="716">&#43;        ELOG(&#34;Unknown bar state \&#34;%s\&#34;, this is a mismatch between code and parser spec.\n&#34;, bar_state);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L717">717</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="717">&#43;        return false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L718">718</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="718">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L719">719</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="719">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L720">720</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="720">&#43;    bool changed_sth = false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L721">721</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="721">&#43;    Barconfig *current = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L722">722</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="722">&#43;    TAILQ_FOREACH(current, &amp;barconfigs, configs) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L723">723</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="723">&#43;        if (bar_id &amp;&amp; strcmp(current-&gt;id, bar_id) != 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L724">724</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="724">&#43;            continue;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L725">725</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="725">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L726">726</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="726">&#43;        if (toggle)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L727">727</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="727">&#43;            state = (current-&gt;state &#43; 1) % 2;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L728">728</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="728">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L729">729</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="729">&#43;        DLOG(&#34;Changing bar state of bar_id &#39;%s&#39; to &#39;%s (%d)&#39;\n&#34;, current-&gt;id, bar_state, state);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L730">730</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="730">&#43;        current-&gt;state = state;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L731">731</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="731">&#43;        changed_sth = true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L732">732</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="732">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L733">733</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="733">&#43;        if (bar_id)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L734">734</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="734">&#43;             break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L735">735</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="735">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L736">736</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="736">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L737">737</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="737">&#43;    if (bar_id &amp;&amp; !changed_sth) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L738">738</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="738">&#43;        DLOG(&#34;Changing bar state of bar_id %s failed, bar_id not found.\n&#34;, bar_id);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L739">739</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="739">&#43;        return false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L740">740</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="740">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L741">741</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="741">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L742">742</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="742">&#43;    return true;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L743">743</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="743">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L744">744</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="744">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L745">745</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="745">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L746">746</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="746">&#43; * Implementation of &#39;bar (state hide|show|toggle)|(mode dock|hide|invisible|toggle) [&lt;bar_id&gt;]&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L747">747</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="747">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L748">748</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="748">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L749">749</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="749">&#43;void cmd_bar(I3_CMD, char *bar_type, char *bar_value, char *bar_id) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L750">750</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="750">&#43;    bool ret;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L751">751</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="751">&#43;    if (strcmp(bar_type, &#34;mode&#34;) == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L752">752</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="752">&#43;        ret = cmd_bar_mode(bar_value, bar_id);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L753">753</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="753">&#43;    else if (strcmp(bar_type, &#34;state&#34;) == 0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L754">754</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="754">&#43;        ret = cmd_bar_state(bar_value, bar_id);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L755">755</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="755">&#43;    else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L756">756</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="756">&#43;        ELOG(&#34;Unknown bar option type \&#34;%s\&#34;, this is a mismatch between code and parser spec.\n&#34;, bar_type);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L757">757</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="757">&#43;        ret = false;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L758">758</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="758">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L759">759</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="759">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L760">760</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="760">&#43;    ysuccess(ret);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L761">761</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="761">&#43;    if (!ret)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L762">762</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="762">&#43;        return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L763">763</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="763">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L764">764</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="764">&#43;    update_barconfig();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L765">765</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="765">&#43;}</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/config.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L770">770</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="770">@@ -211,6 &#43;211,49 @@ void switch_mode(const char *new_mode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L771">771</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="771"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L772">772</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="772"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L773">773</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="773"> /*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L774">774</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="774">&#43; * Sends the current bar configuration as an event to all barconfig_update listeners.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L775">775</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="775">&#43; * This update mechnism currently only includes the state and the mode in the config.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L776">776</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="776">&#43; *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L777">777</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="777">&#43; */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L778">778</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="778">&#43;void update_barconfig() {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L779">779</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="779">&#43;    Barconfig *current;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L780">780</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="780">&#43;    TAILQ_FOREACH(current, &amp;barconfigs, configs) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L781">781</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="781">&#43;        /* Build json message */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L782">782</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="782">&#43;        char *state;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L783">783</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="783">&#43;        switch (current-&gt;state) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L784">784</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="784">&#43;            case S_SHOW:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L785">785</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="785">&#43;                state =&#34;show&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L786">786</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="786">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L787">787</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="787">&#43;            case S_HIDE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L788">788</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="788">&#43;            default:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L789">789</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="789">&#43;                state = &#34;hide&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L790">790</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="790">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L791">791</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="791">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L792">792</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="792">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L793">793</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="793">&#43;        char *mode;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L794">794</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="794">&#43;        switch (current-&gt;mode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L795">795</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="795">&#43;            case M_HIDE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L796">796</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="796">&#43;                mode =&#34;hide&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L797">797</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="797">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L798">798</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="798">&#43;            case M_INVISIBLE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L799">799</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="799">&#43;                mode =&#34;invisible&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L800">800</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="800">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L801">801</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="801">&#43;            case M_DOCK:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L802">802</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="802">&#43;            default:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L803">803</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="803">&#43;                mode = &#34;dock&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L804">804</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="804">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L805">805</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="805">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L806">806</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="806">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L807">807</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="807">&#43;        /* Send an event to all barconfig listeners*/</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L808">808</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="808">&#43;        char *event_msg;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L809">809</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="809">&#43;        sasprintf(&amp;event_msg, &#34;{ \&#34;id\&#34;:\&#34;%s\&#34;, \&#34;state\&#34;:\&#34;%s\&#34;, \&#34;mode\&#34;:\&#34;%s\&#34; }&#34;, current-&gt;id, state, mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L810">810</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="810">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L811">811</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="811">&#43;        ipc_send_event(&#34;barconfig_update&#34;, I3_IPC_EVENT_BARCONFIG_UPDATE, event_msg);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L812">812</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="812">&#43;        FREE(event_msg);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L813">813</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="813">&#43;    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L814">814</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="814">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L815">815</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="815">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L816">816</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="816">&#43;/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L817">817</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="817">  * Get the path of the first configuration file found. If override_configpath</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L818">818</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="818">  * is specified, that path is returned and saved for further calls. Otherwise,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L819">819</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="819">  * checks the home directory first, then the system directory first, always</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/config_directives.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L824">824</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="824">@@ -452,7 &#43;452,15 @@ CFGFUN(bar_font, const char *font) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L825">825</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="825"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L826">826</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="826"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L827">827</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="827"> CFGFUN(bar_mode, const char *mode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L828">828</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="828">-    current_bar.mode = (strcmp(mode, &#34;hide&#34;) == 0 ? M_HIDE : M_DOCK);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L829">829</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="829">&#43;    current_bar.mode = (strcmp(mode, &#34;dock&#34;) == 0 ? M_DOCK : (strcmp(mode, &#34;hide&#34;) == 0 ? M_HIDE : M_INVISIBLE));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L830">830</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="830">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L831">831</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="831">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L832">832</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="832">&#43;CFGFUN(bar_state, const char *state) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L833">833</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="833">&#43;    current_bar.state = (strcmp(state, &#34;hide&#34;) == 0 ? S_HIDE : S_SHOW);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L834">834</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="834">&#43;}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L835">835</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="835">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L836">836</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="836">&#43;CFGFUN(bar_id, const char *bar_id) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L837">837</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="837">&#43;    current_bar.id = sstrdup(bar_id);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L838">838</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="838"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L839">839</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="839"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L840">840</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="840"> CFGFUN(bar_output, const char *output) {</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L841">841</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="841">@@ -548,15 &#43;556,11 @@ CFGFUN(bar_workspace_buttons, const char *value) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L842">842</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="842"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L843">843</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="843"> CFGFUN(bar_finish) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L844">844</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="844">     DLOG(&#34;\t new bar configuration finished, saving.\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L845">845</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="845">-    /* Generate a unique ID for this bar */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L846">846</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="846">-    current_bar.id = sstrdup(&#34;bar-XXXXXX&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L847">847</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="847">-    /* This works similar to mktemp in that it replaces the last six X with</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L848">848</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="848">-     * random letters, but without the restriction that the given buffer</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L849">849</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="849">-     * has to contain a valid path name. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L850">850</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="850">-    char *x = current_bar.id &#43; strlen(&#34;bar-&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L851">851</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="851">-    while (*x != &#39;\0&#39;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L852">852</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="852">-        *(x&#43;&#43;) = (rand() % 26) &#43; &#39;a&#39;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L853">853</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="853">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L854">854</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="854">&#43;    /* Generate a unique ID for this bar if not already configured */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L855">855</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="855">&#43;    if (!current_bar.id)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L856">856</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="856">&#43;        sasprintf(&amp;current_bar.id, &#34;bar-%d&#34;, config.number_barconfigs);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L857">857</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="857">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L858">858</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="858">&#43;    config.number_barconfigs&#43;&#43;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L859">859</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="859"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L860">860</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="860">     /* If no font was explicitly set, we use the i3 font as default */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L861">861</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="861">     if (!current_bar.font &amp;&amp; font_pattern)</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/src/ipc.c</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L866">866</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="866">@@ -621,9 &#43;621,29 @@ IPC_HANDLER(get_bar_config) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L867">867</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="867">         YSTR_IF_SET(socket_path);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L868">868</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="868"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L869">869</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="869">         ystr(&#34;mode&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L870">870</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="870">-        if (config-&gt;mode == M_HIDE)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L871">871</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="871">-            ystr(&#34;hide&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L872">872</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="872">-        else ystr(&#34;dock&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L873">873</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="873">&#43;        switch (config-&gt;mode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L874">874</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="874">&#43;            case M_HIDE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L875">875</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="875">&#43;                ystr(&#34;hide&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L876">876</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="876">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L877">877</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="877">&#43;            case M_INVISIBLE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L878">878</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="878">&#43;                ystr(&#34;invisible&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L879">879</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="879">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L880">880</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="880">&#43;            case M_DOCK:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L881">881</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="881">&#43;            default:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L882">882</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="882">&#43;                ystr(&#34;dock&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L883">883</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="883">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L884">884</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="884">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L885">885</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="885">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L886">886</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="886">&#43;        ystr(&#34;state&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L887">887</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="887">&#43;        switch (config-&gt;state) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L888">888</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="888">&#43;            case S_SHOW:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L889">889</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="889">&#43;                ystr(&#34;show&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L890">890</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="890">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L891">891</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="891">&#43;            case S_HIDE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L892">892</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="892">&#43;            default:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L893">893</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="893">&#43;                ystr(&#34;hide&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L894">894</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="894">&#43;                break;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L895">895</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="895">&#43;        }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L896">896</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="896"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L897">897</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="897">         ystr(&#34;modifier&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L898">898</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="898">         switch (config-&gt;modifier) {</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/testcases/t/187-commands-parser.t</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L903">903</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="903">@@ -144,7 &#43;144,7 @@ is(parser_calls(&#34;\nworkspace test&#34;),</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L904">904</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="904"> ################################################################################</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L905">905</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="905"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L906">906</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="906"> is(parser_calls(&#39;unknown_literal&#39;),</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L907">907</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="907">-   &#34;ERROR: Expected one of these tokens: &lt;end&gt;, &#39;[&#39;, &#39;move&#39;, &#39;exec&#39;, &#39;exit&#39;, &#39;restart&#39;, &#39;reload&#39;, &#39;border&#39;, &#39;layout&#39;, &#39;append_layout&#39;, &#39;workspace&#39;, &#39;focus&#39;, &#39;kill&#39;, &#39;open&#39;, &#39;fullscreen&#39;, &#39;split&#39;, &#39;floating&#39;, &#39;mark&#39;, &#39;resize&#39;, &#39;rename&#39;, &#39;nop&#39;, &#39;scratchpad&#39;, &#39;mode&#39;\n&#34; .</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L908">908</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="908">&#43;   &#34;ERROR: Expected one of these tokens: &lt;end&gt;, &#39;[&#39;, &#39;move&#39;, &#39;exec&#39;, &#39;exit&#39;, &#39;restart&#39;, &#39;reload&#39;, &#39;border&#39;, &#39;layout&#39;, &#39;append_layout&#39;, &#39;workspace&#39;, &#39;focus&#39;, &#39;kill&#39;, &#39;open&#39;, &#39;fullscreen&#39;, &#39;split&#39;, &#39;floating&#39;, &#39;mark&#39;, &#39;resize&#39;, &#39;rename&#39;, &#39;nop&#39;, &#39;scratchpad&#39;, &#39;mode&#39;, &#39;bar&#39;\n&#34; .</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L909">909</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="909">    &#34;ERROR: Your command: unknown_literal\n&#34; .</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L910">910</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="910">    &#34;ERROR:               ^^^^^^^^^^^^^^^&#34;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L911">911</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="911">    &#39;error for unknown literal ok&#39;);</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/testcases/t/201-config-parser.t</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L916">916</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="916">@@ -627,7 &#43;627,7 @@ EOT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L917">917</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="917"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L918">918</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="918"> $expected = &lt;&lt;&#39;EOT&#39;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L919">919</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="919"> cfg_bar_output(LVDS-1)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L920">920</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="920">-ERROR: CONFIG: Expected one of these tokens: &lt;end&gt;, &#39;#&#39;, &#39;set&#39;, &#39;i3bar_command&#39;, &#39;status_command&#39;, &#39;socket_path&#39;, &#39;mode&#39;, &#39;modifier&#39;, &#39;position&#39;, &#39;output&#39;, &#39;tray_output&#39;, &#39;font&#39;, &#39;workspace_buttons&#39;, &#39;verbose&#39;, &#39;colors&#39;, &#39;}&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L921">921</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="921">&#43;ERROR: CONFIG: Expected one of these tokens: &lt;end&gt;, &#39;#&#39;, &#39;set&#39;, &#39;i3bar_command&#39;, &#39;status_command&#39;, &#39;socket_path&#39;, &#39;mode&#39;, &#39;state&#39;, &#39;id&#39;, &#39;modifier&#39;, &#39;position&#39;, &#39;output&#39;, &#39;tray_output&#39;, &#39;font&#39;, &#39;workspace_buttons&#39;, &#39;verbose&#39;, &#39;colors&#39;, &#39;}&#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L922">922</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="922"> ERROR: CONFIG: (in file &lt;stdin&gt;)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L923">923</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="923"> ERROR: CONFIG: Line   1: bar {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L924">924</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="924"> ERROR: CONFIG: Line   2:     output LVDS-1</pre>
  </td>
  </tr>


</table>
</div>


</div>

  </body>
</html>

