
<!DOCTYPE html>
<html>
  <head>
    <title>i3 Patch: Testcases: Use Xephyr instead of XDummy</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" media="screen" href="http://i3wm.org/css/style.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/public/stylesheets/main.css">
    <link rel="shortcut icon" type="image/png" href="http://i3wm.org/favicon.png">
    <script src="/public/js/jquery-1.9.0.min.js" type="text/javascript" charset="utf-8"></script>
	<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'>
    
    
      <script src="/public/js/patch.js" type="text/javascript" charset="utf-8"></script>
    
  </head>
  <body>


<div id="main">
	<a href="/"><h1 id="title">i3 - improved tiling WM</h1></a>
				<ul id="nav">
						<li><a style="border-bottom: 2px solid #fff" href="/">Reviews</a></li>
						<li><a href="http://bugs.i3wm.org/">Bugs</a></li>
				</ul>
<br style="clear: both">

<div id="content">

<h1>Testcases: Use Xephyr instead of XDummy</h1>
<div style="float: right">
<p>
Patch status: merged
</p>
<p>
Patch by Tony Crisci
</p>
</div>

<p>
<strong>Long description</strong>:<br>
<pre>Replace the XDummy script with Xephyr. This is done because of some
changes in the Xorg server that make XDummy difficult to use.

Rename library internal variables and function names to replace &#34;xdummy&#34;
with &#34;xserver&#34; to show this change (except for renaming the package and
lib file for better git history).

Rename the switch `--keep-xdummy-output` to `--keep-xserver-output`.
This switch should now be rarely used because Xephyr requires less set
up.

Replace &#34;xdummy&#34; with &#34;xephyr&#34; in comments and utility help
information. Update docs to show the new dependency.

fixes #1367
</pre>
</p>


<p>
To apply this patch, use:<br>
<code>curl http://cr.i3wm.org/patch/649/raw.patch | git am</code>
</p>




<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/docs/testsuite</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L34">34</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="34">@@ -74,6 &#43;74,9 @@ client, simply called &#43;cpan&#43;. It comes with every Perl installation and can be</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L35">35</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="35"> used to install the testsuite. Many users prefer to use the more modern</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L36">36</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="36"> &#43;cpanminus&#43; instead, though (because it asks no questions and just works):</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L37">37</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="37"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L38">38</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="38">&#43;The tests additionally require &#43;Xephyr(1)&#43; to run a nested X server. Install</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L39">39</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="39">&#43;&#43;xserver-xephyr&#43; on Debian or &#43;xorg-xserver-xephyr&#43; on Arch Linux.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L40">40</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="40">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L41">41</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="41"> .Installing testsuite dependencies using cpanminus (preferred)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L42">42</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="42"> --------------------------------------------------------------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L43">43</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="43"> $ cd ~/i3/testcases</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L44">44</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="44">@@ -102,7 &#43;105,7 @@ more testcases. Also, it takes care of starting up a separate instance of i3</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L45">45</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="45"> with an appropriate configuration file and creates a folder for each run</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L46">46</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="46"> containing the appropriate i3 logfile for each testcase. The latest folder can</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L47">47</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="47"> always be found under the symlink &#43;latest/&#43;. Unless told differently, it will</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L48">48</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="48">-run the tests on a separate X server instance (using the Xdummy script).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L49">49</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="49">&#43;run the tests on a separate X server instance (using Xephyr).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L50">50</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="50"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L51">51</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="51"> .Example invocation of complete-run.pl&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L52">52</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="52"> ---------------------------------------</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L53">53</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="53">@@ -146,12 &#43;149,11 @@ $ less latest/i3-log-for-04-floating.t</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L54">54</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="54"> If your attempt to run the tests with a bare call to ./complete-run.pl fails, try this:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L55">55</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="55"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L56">56</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="56"> ---------------------------------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L57">57</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="57">-$ ./complete-run.pl --parallel=1 --keep-xdummy-output</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L58">58</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="58">&#43;$ ./complete-run.pl --parallel=1 --keep-xserver-output</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L59">59</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="59"> ---------------------------------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L60">60</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="60"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L61">61</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="61">-One common cause of failures is not having the X dummy server module</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L62">62</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="62">-installed.  Under Debian and Ubuntu this is the package</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L63">63</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="63">-&#43;xserver-xorg-video-dummy&#43;.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L64">64</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="64">&#43;This will show the output of Xephyr, which is the X server implementation we</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L65">65</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="65">&#43;use for testing.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L66">66</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="66"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L67">67</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="67"> ==== IPC interface</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L68">68</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="68"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L69">69</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="69">@@ -175,10 &#43;177,9 @@ manager.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L70">70</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="70"> === Filesystem structure</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L71">71</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="71"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L72">72</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="72"> In the git root of i3, the testcases live in the folder &#43;testcases&#43;. This</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L73">73</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="73">-folder contains the &#43;complete-run.pl&#43; and &#43;Xdummy&#43; scripts and a base</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L74">74</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="74">-configuration file which will be used for the tests. The different testcases</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L75">75</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="75">-(their file extension is .t, not .pl) themselves can be found in the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L76">76</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="76">-conventionally named subfolder &#43;t&#43;:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L77">77</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="77">&#43;folder contains the &#43;complete-run.pl&#43; and a base configuration file which will</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L78">78</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="78">&#43;be used for the tests. The different testcases (their file extension is .t, not</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L79">79</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="79">&#43;.pl) themselves can be found in the conventionally named subfolder &#43;t&#43;:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L80">80</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="80"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L81">81</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="81"> .Filesystem structure</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L82">82</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="82"> --------------------------------------------</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L83">83</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="83">@@ -197,7 &#43;198,6 @@ conventionally named subfolder &#43;t&#43;:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L84">84</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="84"> │   │   ├── omitted for brevity</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L85">85</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="85"> │   │   ├── ...</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L86">86</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="86"> │   │   └── 74-regress-focus-toggle.t</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L87">87</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="87">-│   └── Xdummy</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L88">88</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="88"> --------------------------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L89">89</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="89"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L90">90</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="90"> == Anatomy of a testcase</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/testcases/.gitignore</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L95">95</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="95">@@ -8,4 &#43;8,3 @@ inc</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L96">96</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="96"> META.yml</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L97">97</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="97"> i3-cfg-for-*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L98">98</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="98"> -</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L99">99</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="99">-Xdummy.so</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">/dev/null</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L105">105</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="105">@@ -1,1930 &#43;0,0 @@</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L106">106</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="106">-#!/bin/sh</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L107">107</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="107">-# ----------------------------------------------------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L108">108</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="108">-#    Copyright (C) 2005-2010 Karl J. Runge &lt;runge@karlrunge.com&gt; </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L109">109</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="109">-#    All rights reserved.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L110">110</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="110">-# </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L111">111</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="111">-# This file is part of Xdummy.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L112">112</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="112">-# </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L113">113</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="113">-# Xdummy is free software; you can redistribute it and/or modify</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L114">114</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="114">-# it under the terms of the GNU General Public License as published by</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L115">115</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="115">-# the Free Software Foundation; either version 2 of the License, or (at</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L116">116</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="116">-# your option) any later version.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L117">117</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="117">-# </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L118">118</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="118">-# Xdummy is distributed in the hope that it will be useful,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L119">119</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="119">-# but WITHOUT ANY WARRANTY; without even the implied warranty of</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L120">120</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="120">-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L121">121</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="121">-# GNU General Public License for more details.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L122">122</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="122">-# </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L123">123</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="123">-# You should have received a copy of the GNU General Public License</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L124">124</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="124">-# along with Xdummy; if not, write to the Free Software</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L125">125</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="125">-# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L126">126</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="126">-# or see &lt;http://www.gnu.org/licenses/&gt;.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L127">127</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="127">-# ----------------------------------------------------------------------</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L128">128</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="128">-# </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L129">129</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="129">-# </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L130">130</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="130">-# Xdummy: an LD_PRELOAD hack to run a stock Xorg(1) or XFree86(1) server</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L131">131</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="131">-# with the &#34;dummy&#34; video driver to make it avoid Linux VT switching, etc.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L132">132</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="132">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L133">133</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="133">-# Run &#34;Xdummy -help&#34; for more info.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L134">134</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="134">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L135">135</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="135">-install=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L136">136</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="136">-uninstall=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L137">137</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="137">-runit=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L138">138</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="138">-prconf=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L139">139</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="139">-notweak=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L140">140</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="140">-root=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L141">141</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="141">-nosudo=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L142">142</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="142">-xserver=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L143">143</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="143">-geom=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L144">144</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="144">-nomodelines=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L145">145</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="145">-depth=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L146">146</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="146">-debug=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L147">147</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="147">-strace=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L148">148</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="148">-cmdline_config=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L149">149</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="149">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L150">150</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="150">-PATH=$PATH:/bin:/usr/bin</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L151">151</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="151">-export PATH</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L152">152</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="152">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L153">153</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="153">-program=`basename &#34;$0&#34;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L154">154</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="154">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L155">155</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="155">-help () {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L156">156</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="156">-	${PAGER:-more} &lt;&lt; END</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L157">157</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="157">-$program:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L158">158</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="158">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L159">159</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="159">-    A hack to run a stock Xorg(1) or XFree86(1) X server with the &#34;dummy&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L160">160</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="160">-    (RAM-only framebuffer) video driver such that it AVOIDS the Linux VT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L161">161</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="161">-    switching, opening device files in /dev, keyboard and mouse conflicts,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L162">162</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="162">-    and other problems associated with the normal use of &#34;dummy&#34;.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L163">163</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="163">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L164">164</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="164">-    In other words, it tries to make Xorg/XFree86 with the &#34;dummy&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L165">165</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="165">-    device driver act more like Xvfb(1).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L166">166</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="166">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L167">167</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="167">-    The primary motivation for the Xdummy script is to provide a virtual X</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L168">168</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="168">-    server for x11vnc but with more features than Xvfb (or Xvnc); however</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L169">169</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="169">-    it could be used for other reasons (e.g. better automated testing</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L170">170</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="170">-    than with Xvfb.)  One nice thing is the dummy server supports RANDR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L171">171</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="171">-    dynamic resizing while Xvfb does not.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L172">172</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="172">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L173">173</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="173">-    So, for example, x11vnc&#43;Xdummy terminal services are a little better</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L174">174</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="174">-    than x11vnc&#43;Xvfb.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L175">175</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="175">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L176">176</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="176">-    To achieve this, while running the real Xserver $program intercepts</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L177">177</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="177">-    system and library calls via the LD_PRELOAD method and modifies</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L178">178</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="178">-    the behavior to make it work correctly (e.g. avoid the VT stuff.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L179">179</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="179">-    LD_PRELOAD tricks are usually &#34;clever hacks&#34; and so might not work</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L180">180</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="180">-    in all situations or break when something changes.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L181">181</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="181">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L182">182</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="182">-    WARNING: Take care in using Xdummy, although it never has it is</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L183">183</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="183">-    possible that it could damage hardware.  One can use the -prconf</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L184">184</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="184">-    option to have it print out the xorg.conf config that it would use</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L185">185</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="185">-    and then inspect it carefully before actually using it.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L186">186</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="186">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L187">187</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="187">-    This program no longer needs to be run as root as of 12/2009.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L188">188</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="188">-    However, if there are problems for certain situations (usually older</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L189">189</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="189">-    servers) it may perform better if run as root (use the -root option.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L190">190</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="190">-    When running as root remember the previous paragraph and that Xdummy</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L191">191</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="191">-    comes without any warranty.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L192">192</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="192">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L193">193</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="193">-    gcc/cc and other build tools are required for this script to be able</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L194">194</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="194">-    to compile the LD_PRELOAD shared object.  Be sure they are installed</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L195">195</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="195">-    on the system.  See -install and -uninstall described below.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L196">196</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="196">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L197">197</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="197">-    Your Linux distribution may not install the dummy driver by default,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L198">198</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="198">-    e.g:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L199">199</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="199">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L200">200</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="200">-        /usr/lib/xorg/modules/drivers/dummy_drv.so</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L201">201</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="201">-    </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L202">202</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="202">-    some have it in a package named xserver-xorg-video-dummy you that</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L203">203</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="203">-    need to install.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L204">204</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="204">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L205">205</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="205">-Usage:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L206">206</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="206">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L207">207</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="207">-	$program &lt;${program}-args&gt; &lt;Xserver-args&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L208">208</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="208">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L209">209</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="209">-	(actually, the arguments can be supplied in any order.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L210">210</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="210">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L211">211</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="211">-Examples:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L212">212</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="212">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L213">213</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="213">-	$program -install</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L214">214</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="214">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L215">215</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="215">-	$program :1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L216">216</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="216">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L217">217</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="217">-	$program -debug :1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L218">218</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="218">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L219">219</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="219">-	$program -tmpdir ~/mytmp :1 -nolisten tcp</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L220">220</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="220">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L221">221</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="221">-startx example:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L222">222</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="222">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L223">223</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="223">-	startx -e bash -- $program :2 -depth 16</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L224">224</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="224">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L225">225</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="225">-	(if startx needs to be run as root, you can su(1) to a normal</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L226">226</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="226">-	user in the bash shell and then launch ~/.xinitrc or ~/.xsession,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L227">227</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="227">-	gnome-session, startkde, startxfce4, etc.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L228">228</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="228">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L229">229</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="229">-xdm example:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L230">230</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="230">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L231">231</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="231">-	xdm -config /usr/local/dummy/xdm-config -nodaemon</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L232">232</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="232">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L233">233</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="233">-	where the xdm-config file has line:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L234">234</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="234">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L235">235</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="235">-	     DisplayManager.servers:         /usr/local/dummy/Xservers</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L236">236</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="236">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L237">237</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="237">-	and /usr/local/dummy/Xservers has lines:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L238">238</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="238">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L239">239</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="239">-	     :1 local /usr/local/dummy/Xdummy :1 -debug</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L240">240</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="240">-	     :2 local /usr/local/dummy/Xdummy :2 -debug</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L241">241</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="241">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L242">242</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="242">-        (-debug is optional)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L243">243</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="243">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L244">244</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="244">-gdm/kdm example:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L245">245</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="245">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L246">246</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="246">-	TBD.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L247">247</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="247">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L248">248</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="248">-Root permission and x11vnc:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L249">249</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="249">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L250">250</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="250">-	Update: as of 12/2009 this program no longer must be run as root.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L251">251</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="251">-	So try it as non-root before running it as root and/or the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L252">252</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="252">-	following schemes.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L253">253</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="253">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L254">254</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="254">-	In some circumstances X server program may need to be run as root.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L255">255</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="255">-	If so, one could run x11vnc as root with -unixpw (it switches</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L256">256</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="256">-	to the user that logs in) and that may be OK, some other ideas:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L257">257</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="257">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L258">258</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="258">-	- add this to sudo via visudo:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L259">259</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="259">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L260">260</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="260">-		ALL ALL = NOPASSWD: /usr/local/bin/Xdummy</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L261">261</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="261">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L262">262</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="262">-	- use this little suid wrapper:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L263">263</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="263">-/* </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L264">264</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="264">- * xdummy.c</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L265">265</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="265">- *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L266">266</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="266">-   cc -o ./xdummy xdummy.c</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L267">267</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="267">-   sudo cp ./xdummy /usr/local/bin/xdummy</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L268">268</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="268">-   sudo chown root:root /usr/local/bin/xdummy</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L269">269</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="269">-   sudo chmod u&#43;s /usr/local/bin/xdummy</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L270">270</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="270">- *</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L271">271</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="271">- */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L272">272</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="272">-#include &lt;unistd.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L273">273</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="273">-#include &lt;stdlib.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L274">274</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="274">-#include &lt;sys/types.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L275">275</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="275">-#include &lt;stdio.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L276">276</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="276">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L277">277</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="277">-int main (int argc, char *argv[]) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L278">278</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="278">-	extern char **environ;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L279">279</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="279">-	char str[100];</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L280">280</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="280">-	sprintf(str, &#34;XDUMMY_UID=%d&#34;, (int) getuid());</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L281">281</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="281">-	putenv(str);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L282">282</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="282">-	setuid(0);  </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L283">283</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="283">-	setgid(0);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L284">284</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="284">-	execv(&#34;/usr/local/bin/Xdummy&#34;, argv); </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L285">285</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="285">-	exit(1);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L286">286</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="286">-	return 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L287">287</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="287">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L288">288</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="288">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L289">289</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="289">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L290">290</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="290">-Options:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L291">291</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="291">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L292">292</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="292">-    ${program}-args:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L293">293</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="293">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L294">294</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="294">-	-install	Compile the LD_PRELOAD shared object and install it</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L295">295</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="295">-			next to the $program script file as:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L296">296</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="296">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L297">297</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="297">-			  $0.so</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L298">298</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="298">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L299">299</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="299">-			When that file exists it is used as the LD_PRELOAD</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L300">300</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="300">-			shared object without recompiling.  Otherwise,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L301">301</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="301">-			each time $program is run the LD_PRELOAD shared</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L302">302</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="302">-			object is compiled as a file in /tmp (or -tmpdir)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L303">303</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="303">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L304">304</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="304">-			If you set the environment variable</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L305">305</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="305">-			INTERPOSE_GETUID=1 when building, then when</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L306">306</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="306">-			$program is run as an ordinary user, the shared</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L307">307</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="307">-			object will interpose getuid() calls and pretend</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L308">308</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="308">-			to be root.  Otherwise it doesn&#39;t pretend to</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L309">309</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="309">-			be root.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L310">310</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="310">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L311">311</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="311">-			You can also set the CFLAGS environment variable</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L312">312</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="312">-			to anything else you want on the compile cmdline.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L313">313</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="313">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L314">314</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="314">-	-uninstall	Remove the file:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L315">315</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="315">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L316">316</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="316">-			  $0.so</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L317">317</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="317">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L318">318</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="318">-			The LD_PRELOAD shared object will then be compiled</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L319">319</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="319">-			each time this program is run.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L320">320</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="320">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L321">321</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="321">-	The X server is not started under -install, -uninstall, or -prconf.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L322">322</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="322">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L323">323</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="323">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L324">324</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="324">-	:N		The DISPLAY (e.g. :15) is often the first</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L325">325</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="325">-			argument.  It is passed to the real X server and</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L326">326</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="326">-			also used by the Xdummy script as an identifier.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L327">327</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="327">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L328">328</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="328">-	-geom geom1[,geom2...]	Take the geometry (e.g. 1024x768) or list</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L329">329</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="329">-			of geometries and insert them into the Screen</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L330">330</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="330">-			section of the tweaked X server config file.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L331">331</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="331">-			Use this to have a different geometry than the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L332">332</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="332">-			one(s) in the system config file.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L333">333</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="333">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L334">334</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="334">-			The option -geometry can be used instead of -geom;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L335">335</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="335">-			x11vnc calls Xdummy and Xvfb this way.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L336">336</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="336">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L337">337</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="337">-	-nomodelines	When you specify -geom/-geometry, $program will</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L338">338</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="338">-			create Modelines for each geometry and put them</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L339">339</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="339">-			in the Monitor section.  If you do not want this</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L340">340</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="340">-			then supply -nomodelines.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L341">341</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="341">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L342">342</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="342">-	-depth n	Use pixel color depth n (e.g. 8, 16, or 24). This</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L343">343</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="343">-			makes sure the X config file has a Screen.Display</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L344">344</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="344">-			subsection of this depth.  Note this option is</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L345">345</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="345">-			ALSO passed to the X server.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L346">346</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="346">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L347">347</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="347">-	-DEPTH n	Same as -depth, except not passed to X server.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L348">348</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="348">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L349">349</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="349">-	-tmpdir dir	Specify a temporary directory, owned by you and</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L350">350</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="350">-			only writable by you.  This is used in place of</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L351">351</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="351">-			/tmp/Xdummy.\$USER/..  to place the $program.so</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L352">352</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="352">-			shared object, tweaked config files, etc.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L353">353</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="353">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L354">354</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="354">-	-nonroot	Run in non-root mode (working 12/2009, now default)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L355">355</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="355">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L356">356</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="356">-	-root		Run as root (may still be needed in some</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L357">357</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="357">-			environments.)  Same as XDUMMY_RUN_AS_ROOT=1.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L358">358</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="358">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L359">359</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="359">-	-nosudo		Do not try to use sudo(1) when re-running as root,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L360">360</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="360">-			use su(1) instead.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L361">361</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="361">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L362">362</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="362">-	-xserver path	Specify the path to the Xserver to use.  Default</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L363">363</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="363">-			is to try &#34;Xorg&#34; first and then &#34;XFree86&#34;.  If</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L364">364</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="364">-			those are not in \$PATH, it tries these locations:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L365">365</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="365">-				/usr/bin/Xorg</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L366">366</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="366">-				/usr/X11R6/bin/Xorg</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L367">367</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="367">-				/usr/X11R6/bin/XFree86</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L368">368</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="368">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L369">369</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="369">-	-n		Do not run the command to start the X server,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L370">370</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="370">-			just show the command that $program would run.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L371">371</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="371">-			The LD_PRELOAD shared object will be built,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L372">372</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="372">-			if needed.  Also note any XDUMMY* environment</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L373">373</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="373">-			variables that need to be set.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L374">374</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="374">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L375">375</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="375">-	-prconf		Print, to stdout, the tweaked Xorg/XFree86</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L376">376</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="376">-			config file (-config and -xf86config server</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L377">377</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="377">-			options, respectively.)  The Xserver is not</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L378">378</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="378">-			started.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L379">379</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="379">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L380">380</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="380">-	-notweak	Do not tweak (modify) the Xorg/XFree86 config file</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L381">381</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="381">-			(system or server command line) at all.  The -geom</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L382">382</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="382">-			and similar config file modifications are ignored.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L383">383</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="383">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L384">384</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="384">-			It is up to you to make sure it is a working</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L385">385</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="385">-			config file (e.g. &#34;dummy&#34; driver, etc.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L386">386</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="386">-			Perhaps you want to use a file based on the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L387">387</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="387">-			-prconf output.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L388">388</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="388">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L389">389</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="389">-	-debug		Extra debugging output.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L390">390</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="390">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L391">391</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="391">-	-strace		strace(1) the Xserver process (for troubleshooting.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L392">392</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="392">-	-ltrace		ltrace(1) instead of strace (can be slow.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L393">393</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="393">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L394">394</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="394">-	-h, -help	Print out this help.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L395">395</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="395">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L396">396</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="396">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L397">397</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="397">-    Xserver-args:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L398">398</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="398">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L399">399</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="399">-	Most of the Xorg and XFree86 options will work and are simply</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L400">400</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="400">-	passed along if you supply them.  Important ones that may be</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L401">401</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="401">-	supplied if missing:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L402">402</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="402">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L403">403</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="403">-	:N		X Display number for server to use.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L404">404</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="404">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L405">405</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="405">-	vtNN		Linux virtual terminal (VT) to use (a VT is currently</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L406">406</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="406">-			still used, just not switched to and from.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L407">407</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="407">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L408">408</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="408">-	-config file		Driver &#34;dummy&#34; tweaked config file, a</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L409">409</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="409">-	-xf86config file	number of settings are tweaked besides Driver.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L410">410</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="410">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L411">411</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="411">-	If -config/-xf86config is not given, the system one</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L412">412</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="412">-	(e.g. /etc/X11/xorg.conf) is used.  If the system one cannot be</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L413">413</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="413">-	found, a built-in one is used.	Any settings in the config file</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L414">414</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="414">-	that are not consistent with &#34;dummy&#34; mode will be overwritten</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L415">415</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="415">-	(unless -notweak is specified.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L416">416</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="416">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L417">417</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="417">-	Use -config xdummy-builtin to force usage of the builtin config.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L418">418</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="418">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L419">419</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="419">-	If &#34;file&#34; is only a basename (e.g. &#34;xorg.dummy.conf&#34;) with no /&#39;s,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L420">420</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="420">-	then no tweaking of it is done: the X server will look for that</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L421">421</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="421">-	basename via its normal search algorithm.  If the found file does</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L422">422</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="422">-	not refer to the &#34;dummy&#34; driver, etc, then the X server will fail.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L423">423</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="423">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L424">424</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="424">-Notes:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L425">425</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="425">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L426">426</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="426">-    The Xorg/XFree86 &#34;dummy&#34; driver is currently undocumented.  It works</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L427">427</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="427">-    well in this mode, but it is evidently not intended for end-users.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L428">428</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="428">-    So it could be removed or broken at any time.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L429">429</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="429">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L430">430</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="430">-    If the display Xserver-arg (e.g. :1) is not given, or &#34;:&#34; is given</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L431">431</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="431">-    that indicates $program should try to find a free one (based on</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L432">432</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="432">-    tcp ports.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L433">433</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="433">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L434">434</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="434">-    If the display virtual terminal, VT, (e.g. vt9) is not given that</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L435">435</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="435">-    indicates $program should try to find a free one (or guess a high one.) </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L436">436</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="436">-    </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L437">437</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="437">-    This program is not completely secure WRT files in /tmp (but it tries</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L438">438</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="438">-    to a good degree.)  Better is to use the -tmpdir option to supply a</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L439">439</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="439">-    directory only writable by you.  Even better is to get rid of users</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L440">440</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="440">-    on the local machine you do not trust :-)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L441">441</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="441">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L442">442</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="442">-    Set XDUMMY_SET_XV=1 to turn on debugging output for this script.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L443">443</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="443">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L444">444</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="444">-END</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L445">445</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="445">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L446">446</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="446">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L447">447</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="447">-warn() {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L448">448</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="448">-	echo &#34;$*&#34; 1&gt;&amp;2</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L449">449</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="449">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L450">450</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="450">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L451">451</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="451">-if [ &#34;X$XDUMMY_SET_XV&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L452">452</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="452">-	set -xv</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L453">453</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="453">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L454">454</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="454">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L455">455</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="455">-if [ &#34;X$XDUMMY_UID&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L456">456</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="456">-	XDUMMY_UID=`id -u`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L457">457</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="457">-	export XDUMMY_UID</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L458">458</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="458">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L459">459</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="459">-if [ &#34;X$XDUMMY_UID&#34; = &#34;X0&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L460">460</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="460">-	if [ &#34;X$SUDO_UID&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L461">461</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="461">-		XDUMMY_UID=$SUDO_UID</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L462">462</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="462">-		export XDUMMY_UID</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L463">463</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="463">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L464">464</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="464">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L465">465</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="465">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L466">466</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="466">-# check if root=1 first:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L467">467</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="467">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L468">468</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="468">-if [ &#34;X$XDUMMY_RUN_AS_ROOT&#34; = &#34;X1&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L469">469</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="469">-	root=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L470">470</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="470">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L471">471</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="471">-for arg in $*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L472">472</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="472">-do</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L473">473</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="473">-	if [ &#34;X$arg&#34; = &#34;X-nonroot&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L474">474</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="474">-		root=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L475">475</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="475">-	elif [ &#34;X$arg&#34; = &#34;X-root&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L476">476</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="476">-		root=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L477">477</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="477">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L478">478</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="478">-done</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L479">479</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="479">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L480">480</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="480">-# See if it really needs to be run as root:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L481">481</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="481">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L482">482</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="482">-if [ &#34;X$XDUMMY_SU_EXEC&#34; = &#34;X&#34; -a &#34;X$root&#34; = &#34;X1&#34; -a &#34;X`id -u`&#34; != &#34;X0&#34;  ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L483">483</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="483">-	# this is to prevent infinite loop in case su/sudo doesn&#39;t work:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L484">484</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="484">-	XDUMMY_SU_EXEC=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L485">485</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="485">-	export XDUMMY_SU_EXEC</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L486">486</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="486">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L487">487</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="487">-	dosu=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L488">488</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="488">-	nosudo=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L489">489</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="489">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L490">490</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="490">-	for arg in $*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L491">491</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="491">-	do</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L492">492</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="492">-		if [ &#34;X$arg&#34; = &#34;X-nonroot&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L493">493</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="493">-			dosu=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L494">494</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="494">-		elif [ &#34;X$arg&#34; = &#34;X-nosudo&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L495">495</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="495">-			nosudo=&#34;1&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L496">496</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="496">-		elif [ &#34;X$arg&#34; = &#34;X-help&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L497">497</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="497">-			dosu=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L498">498</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="498">-		elif [ &#34;X$arg&#34; = &#34;X-h&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L499">499</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="499">-			dosu=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L500">500</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="500">-		elif [ &#34;X$arg&#34; = &#34;X-install&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L501">501</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="501">-			dosu=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L502">502</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="502">-		elif [ &#34;X$arg&#34; = &#34;X-uninstall&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L503">503</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="503">-			dosu=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L504">504</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="504">-		elif [ &#34;X$arg&#34; = &#34;X-n&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L505">505</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="505">-			dosu=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L506">506</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="506">-		elif [ &#34;X$arg&#34; = &#34;X-prconf&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L507">507</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="507">-			dosu=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L508">508</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="508">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L509">509</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="509">-	done</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L510">510</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="510">-	if [ $dosu ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L511">511</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="511">-		# we need to restart it with su/sudo:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L512">512</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="512">-		if type sudo &gt; /dev/null 2&gt;&amp;1; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L513">513</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="513">-			:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L514">514</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="514">-		else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L515">515</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="515">-			nosudo=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L516">516</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="516">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L517">517</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="517">-		if [ &#34;X$nosudo&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L518">518</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="518">-			warn &#34;$program: supply the sudo password to restart as root:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L519">519</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="519">-			if [ &#34;X$XDUMMY_UID&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L520">520</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="520">-				exec sudo $0 -uid $XDUMMY_UID &#34;$@&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L521">521</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="521">-			else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L522">522</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="522">-				exec sudo $0 &#34;$@&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L523">523</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="523">-			fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L524">524</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="524">-		else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L525">525</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="525">-			warn &#34;$program: supply the root password to restart as root:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L526">526</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="526">-			if [ &#34;X$XDUMMY_UID&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L527">527</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="527">-				exec su -c &#34;$0 -uid $XDUMMY_UID $*&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L528">528</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="528">-			else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L529">529</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="529">-				exec su -c &#34;$0 $*&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L530">530</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="530">-			fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L531">531</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="531">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L532">532</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="532">-		# DONE:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L533">533</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="533">-		exit</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L534">534</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="534">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L535">535</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="535">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L536">536</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="536">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L537">537</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="537">-# This will hold the X display, e.g. :20</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L538">538</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="538">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L539">539</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="539">-disp=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L540">540</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="540">-args=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L541">541</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="541">-cmdline_config=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L542">542</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="542">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L543">543</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="543">-# Process Xdummy args:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L544">544</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="544">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L545">545</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="545">-while [ &#34;X$1&#34; != &#34;X&#34; ]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L546">546</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="546">-do</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L547">547</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="547">-    if [ &#34;X$1&#34; = &#34;X-config&#34; -o &#34;X$1&#34; = &#34;X-xf86config&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L548">548</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="548">-    	cmdline_config=&#34;$2&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L549">549</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="549">-    fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L550">550</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="550">-    case $1 in </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L551">551</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="551">-	&#34;:&#34;*)	disp=$1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L552">552</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="552">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L553">553</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="553">-	&#34;-install&#34;) install=1; runit=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L554">554</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="554">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L555">555</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="555">-	&#34;-uninstall&#34;) uninstall=1; runit=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L556">556</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="556">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L557">557</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="557">-	&#34;-n&#34;)  runit=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L558">558</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="558">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L559">559</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="559">-	&#34;-no&#34;) runit=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L560">560</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="560">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L561">561</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="561">-	&#34;-norun&#34;) runit=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L562">562</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="562">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L563">563</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="563">-	&#34;-prconf&#34;) prconf=1; runit=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L564">564</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="564">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L565">565</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="565">-	&#34;-notweak&#34;) notweak=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L566">566</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="566">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L567">567</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="567">-	&#34;-noconf&#34;)  notweak=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L568">568</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="568">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L569">569</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="569">-	&#34;-nonroot&#34;) root=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L570">570</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="570">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L571">571</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="571">-	&#34;-root&#34;)    root=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L572">572</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="572">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L573">573</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="573">-	&#34;-nosudo&#34;) nosudo=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L574">574</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="574">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L575">575</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="575">-	&#34;-xserver&#34;) xserver=&#34;$2&#34;; shift</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L576">576</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="576">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L577">577</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="577">-	&#34;-uid&#34;) XDUMMY_UID=&#34;$2&#34;; shift</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L578">578</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="578">-		export XDUMMY_UID</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L579">579</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="579">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L580">580</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="580">-	&#34;-geom&#34;)     geom=&#34;$2&#34;; shift</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L581">581</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="581">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L582">582</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="582">-	&#34;-geometry&#34;) geom=&#34;$2&#34;; shift</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L583">583</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="583">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L584">584</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="584">-	&#34;-nomodelines&#34;) nomodelines=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L585">585</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="585">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L586">586</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="586">-	&#34;-depth&#34;) depth=&#34;$2&#34;; args=&#34;$args -depth $2&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L587">587</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="587">-		  shift</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L588">588</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="588">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L589">589</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="589">-	&#34;-DEPTH&#34;) depth=&#34;$2&#34;; shift</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L590">590</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="590">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L591">591</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="591">-	&#34;-tmpdir&#34;) XDUMMY_TMPDIR=&#34;$2&#34;; shift</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L592">592</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="592">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L593">593</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="593">-	&#34;-debug&#34;)   debug=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L594">594</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="594">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L595">595</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="595">-	&#34;-nodebug&#34;) debug=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L596">596</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="596">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L597">597</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="597">-	&#34;-strace&#34;) strace=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L598">598</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="598">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L599">599</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="599">-	&#34;-ltrace&#34;) strace=2</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L600">600</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="600">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L601">601</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="601">-	&#34;-h&#34;)	 help; exit 0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L602">602</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="602">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L603">603</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="603">-	&#34;-help&#34;) help; exit 0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L604">604</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="604">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L605">605</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="605">-	*)	args=&#34;$args $1&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L606">606</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="606">-                ;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L607">607</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="607">-    esac</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L608">608</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="608">-    shift</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L609">609</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="609">-done</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L610">610</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="610">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L611">611</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="611">-# Try to get a username for use in our tmp directory, etc.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L612">612</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="612">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L613">613</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="613">-user=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L614">614</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="614">-if [ X`id -u` = &#34;X0&#34;  ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L615">615</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="615">-	user=root	# this will also be used below for id=0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L616">616</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="616">-elif [ &#34;X$USER&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L617">617</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="617">-	user=$USER</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L618">618</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="618">-elif [ &#34;X$LOGNAME&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L619">619</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="619">-	user=$LOGNAME</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L620">620</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="620">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L621">621</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="621">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L622">622</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="622">-# Keep trying...</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L623">623</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="623">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L624">624</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="624">-if [ &#34;X$user&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L625">625</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="625">-	user=`whoami 2&gt;/dev/null`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L626">626</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="626">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L627">627</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="627">-if [ &#34;X$user&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L628">628</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="628">-	user=`basename &#34;$HOME&#34;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L629">629</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="629">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L630">630</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="630">-if [ &#34;X$user&#34; = &#34;X&#34; -o &#34;X$user&#34; = &#34;X.&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L631">631</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="631">-	user=&#34;u$$&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L632">632</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="632">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L633">633</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="633">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L634">634</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="634">-if [ &#34;X$debug&#34; = &#34;X1&#34; -a &#34;X$runit&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L635">635</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="635">-	echo &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L636">636</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="636">-	echo &#34;/usr/bin/env:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L637">637</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="637">-	env | egrep -v &#39;^(LS_COLORS|TERMCAP)&#39; | sort</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L638">638</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="638">-	echo &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L639">639</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="639">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L640">640</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="640">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L641">641</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="641">-# Function to compile the LD_PRELOAD shared object:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L642">642</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="642">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L643">643</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="643">-make_so() {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L644">644</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="644">-	# extract code embedded in this script into a tmp C file: </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L645">645</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="645">-	n1=`grep -n &#39;^#code_begin&#39; $0 | head -1 | awk -F: &#39;{print $1}&#39;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L646">646</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="646">-	n2=`grep -n &#39;^#code_end&#39;   $0 | head -1 | awk -F: &#39;{print $1}&#39;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L647">647</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="647">-	n1=`expr $n1 &#43; 1`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L648">648</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="648">-	dn=`expr $n2 - $n1`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L649">649</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="649">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L650">650</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="650">-	tmp=$tdir/Xdummy.$RANDOM$$.c</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L651">651</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="651">-	rm -f $tmp</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L652">652</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="652">-	if [ -e $tmp -o -h $tmp ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L653">653</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="653">-		warn &#34;$tmp still exists.&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L654">654</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="654">-		exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L655">655</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="655">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L656">656</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="656">-	touch $tmp || exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L657">657</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="657">-	tail -n &#43;$n1 $0 | head -n $dn &gt; $tmp</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L658">658</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="658">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L659">659</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="659">-	# compile it to Xdummy.so:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L660">660</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="660">-	if [ -f &#34;$SO&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L661">661</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="661">-		mv $SO $SO.$$</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L662">662</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="662">-		rm -f $SO.$$</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L663">663</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="663">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L664">664</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="664">-	rm -f $SO</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L665">665</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="665">-	touch $SO</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L666">666</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="666">-	if [ ! -f &#34;$SO&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L667">667</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="667">-		SO=$tdir/Xdummy.$user.so</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L668">668</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="668">-		warn &#34;warning switching LD_PRELOAD shared object to: $SO&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L669">669</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="669">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L670">670</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="670">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L671">671</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="671">-	if [ -f &#34;$SO&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L672">672</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="672">-		mv $SO $SO.$$</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L673">673</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="673">-		rm -f $SO.$$</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L674">674</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="674">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L675">675</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="675">-	rm -f $SO</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L676">676</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="676">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L677">677</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="677">-	# we assume gcc:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L678">678</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="678">-	if [ &#34;X$INTERPOSE_GETUID&#34; = &#34;X1&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L679">679</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="679">-		CFLAGS=&#34;$CFLAGS -DINTERPOSE_GETUID&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L680">680</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="680">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L681">681</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="681">-	echo &#34;$program:&#34; cc -shared -fPIC $CFLAGS -o $SO $tmp</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L682">682</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="682">-                         cc -shared -fPIC $CFLAGS -o $SO $tmp</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L683">683</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="683">-	rc=$?</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L684">684</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="684">-	rm -f $tmp</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L685">685</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="685">-	if [ $rc != 0 ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L686">686</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="686">-		warn &#34;$program: cannot build $SO&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L687">687</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="687">-		exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L688">688</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="688">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L689">689</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="689">-	if [ &#34;X$debug&#34; != &#34;X&#34; -o &#34;X$install&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L690">690</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="690">-		warn &#34;$program: created  $SO&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L691">691</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="691">-		ls -l &#34;$SO&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L692">692</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="692">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L693">693</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="693">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L694">694</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="694">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L695">695</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="695">-# Set tdir to tmp dir for make_so():</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L696">696</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="696">-if [ &#34;X$XDUMMY_TMPDIR&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L697">697</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="697">-	tdir=$XDUMMY_TMPDIR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L698">698</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="698">-	mkdir -p $tdir</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L699">699</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="699">-else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L700">700</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="700">-	tdir=&#34;/tmp&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L701">701</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="701">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L702">702</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="702">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L703">703</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="703">-# Handle -install/-uninstall case:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L704">704</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="704">-SO=$0.so</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L705">705</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="705">-if [ &#34;X$install&#34; != &#34;X&#34; -o &#34;X$uninstall&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L706">706</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="706">-	if [ -e &#34;$SO&#34; -o -h &#34;$SO&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L707">707</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="707">-		warn &#34;$program: removing $SO&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L708">708</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="708">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L709">709</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="709">-	if [ -f &#34;$SO&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L710">710</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="710">-		mv $SO $SO.$$</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L711">711</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="711">-		rm -f $SO.$$</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L712">712</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="712">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L713">713</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="713">-	rm -f $SO</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L714">714</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="714">-	if [ -e &#34;$SO&#34; -o -h &#34;$SO&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L715">715</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="715">-		warn &#34;warning: $SO still exists.&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L716">716</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="716">-		exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L717">717</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="717">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L718">718</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="718">-	if [ $install ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L719">719</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="719">-		make_so</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L720">720</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="720">-		if [ ! -f &#34;$SO&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L721">721</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="721">-			exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L722">722</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="722">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L723">723</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="723">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L724">724</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="724">-	exit 0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L725">725</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="725">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L726">726</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="726">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L727">727</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="727">-# We need a tmp directory for the .so, tweaked config file, and for</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L728">728</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="728">-# redirecting filenames we cannot create (under -nonroot)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L729">729</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="729">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L730">730</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="730">-tack=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L731">731</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="731">-if [ &#34;X$XDUMMY_TMPDIR&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L732">732</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="732">-	XDUMMY_TMPDIR=&#34;/tmp/Xdummy.$user&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L733">733</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="733">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L734">734</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="734">-	# try to tack on a unique subdir (display number or pid)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L735">735</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="735">-	# to allow multiple instances</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L736">736</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="736">-	#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L737">737</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="737">-	if [ &#34;X$disp&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L738">738</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="738">-		t0=$disp</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L739">739</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="739">-	else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L740">740</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="740">-		t0=$1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L741">741</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="741">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L742">742</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="742">-	tack=`echo &#34;$t0&#34; | sed -e &#39;s/^.*://&#39;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L743">743</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="743">-	if echo &#34;$tack&#34; | grep &#39;^[0-9][0-9]*$&#39; &gt; /dev/null; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L744">744</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="744">-		:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L745">745</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="745">-	else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L746">746</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="746">-		tack=$$</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L747">747</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="747">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L748">748</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="748">-	if [ &#34;X$tack&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L749">749</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="749">-		XDUMMY_TMPDIR=&#34;$XDUMMY_TMPDIR/$tack&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L750">750</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="750">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L751">751</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="751">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L752">752</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="752">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L753">753</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="753">-tmp=$XDUMMY_TMPDIR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L754">754</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="754">-if echo &#34;$tmp&#34; | grep &#39;^/tmp&#39; &gt; /dev/null; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L755">755</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="755">-	if [ &#34;X$tmp&#34; != &#34;X/tmp&#34; -a &#34;X$tmp&#34; != &#34;X/tmp/&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L756">756</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="756">-		# clean this subdir of /tmp out, otherwise leave it...</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L757">757</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="757">-		rm -rf $XDUMMY_TMPDIR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L758">758</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="758">-		if [ -e $XDUMMY_TMPDIR ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L759">759</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="759">-			warn &#34;$XDUMMY_TMPDIR still exists&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L760">760</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="760">-			exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L761">761</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="761">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L762">762</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="762">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L763">763</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="763">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L764">764</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="764">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L765">765</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="765">-mkdir -p $XDUMMY_TMPDIR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L766">766</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="766">-chmod 700 $XDUMMY_TMPDIR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L767">767</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="767">-if [ &#34;X$tack&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L768">768</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="768">-	chmod 700 `dirname &#34;$XDUMMY_TMPDIR&#34;` 2&gt;/dev/null</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L769">769</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="769">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L770">770</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="770">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L771">771</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="771">-# See if we can write something there:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L772">772</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="772">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L773">773</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="773">-tfile=&#34;$XDUMMY_TMPDIR/test.file&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L774">774</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="774">-touch $tfile</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L775">775</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="775">-if [ ! -f &#34;$tfile&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L776">776</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="776">-	XDUMMY_TMPDIR=&#34;/tmp/Xdummy.$$.$USER&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L777">777</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="777">-	warn &#34;warning: setting tmpdir to $XDUMMY_TMPDIR ...&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L778">778</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="778">-	rm -rf $XDUMMY_TMPDIR || exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L779">779</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="779">-	mkdir -p $XDUMMY_TMPDIR || exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L780">780</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="780">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L781">781</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="781">-rm -f $tfile</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L782">782</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="782">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L783">783</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="783">-export XDUMMY_TMPDIR</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L784">784</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="784">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L785">785</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="785">-# Compile the LD_PRELOAD shared object if needed (needs XDUMMY_TMPDIR)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L786">786</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="786">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L787">787</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="787">-if [ ! -f &#34;$SO&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L788">788</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="788">-	SO=&#34;$XDUMMY_TMPDIR/Xdummy.so&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L789">789</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="789">-	make_so</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L790">790</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="790">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L791">791</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="791">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L792">792</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="792">-# Decide which X server to use:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L793">793</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="793">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L794">794</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="794">-if [ &#34;X$xserver&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L795">795</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="795">-	if type Xorg &gt;/dev/null 2&gt;&amp;1; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L796">796</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="796">-		xserver=&#34;Xorg&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L797">797</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="797">-	elif type XFree86 &gt;/dev/null 2&gt;&amp;1; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L798">798</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="798">-		xserver=&#34;XFree86&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L799">799</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="799">-	elif -x /usr/bin/Xorg; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L800">800</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="800">-		xserver=&#34;/usr/bin/Xorg&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L801">801</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="801">-	elif -x /usr/X11R6/bin/Xorg; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L802">802</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="802">-		xserver=&#34;/usr/X11R6/bin/Xorg&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L803">803</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="803">-	elif -x /usr/X11R6/bin/XFree86; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L804">804</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="804">-		xserver=&#34;/usr/X11R6/bin/XFree86&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L805">805</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="805">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L806">806</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="806">-	if [ &#34;X$xserver&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L807">807</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="807">-		# just let it fail below.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L808">808</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="808">-		xserver=&#34;/usr/bin/Xorg&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L809">809</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="809">-		warn &#34;$program: cannot locate a stock Xserver... assuming $xserver&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L810">810</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="810">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L811">811</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="811">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L812">812</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="812">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L813">813</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="813">-# See if the binary is suid or not readable under -nonroot mode:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L814">814</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="814">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L815">815</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="815">-if [ &#34;X$BASH_VERSION&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L816">816</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="816">-	xserver_path=`type -p $xserver 2&gt;/dev/null`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L817">817</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="817">-else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L818">818</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="818">-	xserver_path=`type $xserver 2&gt;/dev/null | awk &#39;{print $NF}&#39;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L819">819</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="819">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L820">820</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="820">-if [ -e &#34;$xserver_path&#34; -a &#34;X$root&#34; = &#34;X&#34; -a &#34;X$runit&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L821">821</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="821">-	if [ ! -r $xserver_path -o -u $xserver_path -o -g $xserver_path ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L822">822</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="822">-		# XXX not quite correct with rm -rf $XDUMMY_TMPDIR ...</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L823">823</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="823">-		# we keep on a filesystem we know root can write to.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L824">824</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="824">-		base=`basename &#34;$xserver_path&#34;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L825">825</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="825">-		new=&#34;/tmp/$base.$user.bin&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L826">826</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="826">-		if [ -e $new ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L827">827</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="827">-			snew=`ls -l $new          | awk &#39;{print $5}&#39; | grep &#39;^[0-9][0-9]*$&#39;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L828">828</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="828">-			sold=`ls -l $xserver_path | awk &#39;{print $5}&#39; | grep &#39;^[0-9][0-9]*$&#39;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L829">829</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="829">-			if [ &#34;X$snew&#34; != &#34;X&#34; -a &#34;X$sold&#34; != &#34;X&#34; -a &#34;X$sold&#34; != &#34;X$snew&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L830">830</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="830">-				warn &#34;removing different sized copy:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L831">831</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="831">-				ls -l $new $xserver_path</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L832">832</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="832">-				rm -f $new</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L833">833</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="833">-			fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L834">834</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="834">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L835">835</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="835">-		if [ ! -e $new -o ! -s $new ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L836">836</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="836">-			rm -f $new</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L837">837</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="837">-			touch $new || exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L838">838</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="838">-			chmod 700 $new || exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L839">839</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="839">-			if [ ! -r $xserver_path ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L840">840</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="840">-				warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L841">841</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="841">-				warn &#34;NEED TO COPY UNREADABLE $xserver_path to $new as root:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L842">842</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="842">-				warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L843">843</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="843">-				ls -l $xserver_path 1&gt;&amp;2</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L844">844</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="844">-				warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L845">845</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="845">-				warn &#34;This only needs to be done once:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L846">846</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="846">-				warn &#34;    cat $xserver_path &gt; $new&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L847">847</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="847">-				warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L848">848</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="848">-				nos=$nosudo</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L849">849</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="849">-				if type sudo &gt; /dev/null 2&gt;&amp;1; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L850">850</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="850">-					:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L851">851</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="851">-				else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L852">852</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="852">-					nos=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L853">853</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="853">-				fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L854">854</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="854">-				if [ &#34;X$nos&#34; = &#34;X1&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L855">855</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="855">-					warn &#34;Please supply root passwd to &#39;su -c&#39;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L856">856</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="856">-					su -c &#34;cat $xserver_path &gt; $new&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L857">857</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="857">-				else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L858">858</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="858">-					warn &#34;Please supply the sudo passwd if asked:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L859">859</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="859">-					sudo /bin/sh -c &#34;cat $xserver_path &gt; $new&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L860">860</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="860">-				fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L861">861</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="861">-			else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L862">862</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="862">-				warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L863">863</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="863">-				warn &#34;COPYING SETUID $xserver_path to $new&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L864">864</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="864">-				warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L865">865</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="865">-				ls -l $xserver_path 1&gt;&amp;2</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L866">866</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="866">-				warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L867">867</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="867">-				cat $xserver_path &gt; $new</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L868">868</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="868">-			fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L869">869</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="869">-			ls -l $new</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L870">870</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="870">-			if [ -s $new ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L871">871</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="871">-				:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L872">872</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="872">-			else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L873">873</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="873">-				rm -f $new</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L874">874</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="874">-				ls -l $new</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L875">875</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="875">-				exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L876">876</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="876">-			fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L877">877</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="877">-			warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L878">878</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="878">-			warn &#34;Please restart Xdummy now.&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L879">879</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="879">-			exit 0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L880">880</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="880">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L881">881</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="881">-		if [ ! -O $new ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L882">882</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="882">-			warn &#34;file \&#34;$new\&#34; not owned by us!&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L883">883</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="883">-			ls -l $new</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L884">884</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="884">-			exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L885">885</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="885">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L886">886</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="886">-		xserver=$new</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L887">887</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="887">-	fi </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L888">888</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="888">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L889">889</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="889">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L890">890</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="890">-# Work out display:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L891">891</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="891">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L892">892</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="892">-if [ &#34;X$disp&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L893">893</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="893">-	:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L894">894</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="894">-elif [ &#34;X$1&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L895">895</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="895">-	if echo &#34;$1&#34; | grep &#39;^:[0-9]&#39; &gt; /dev/null; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L896">896</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="896">-		disp=$1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L897">897</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="897">-		shift</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L898">898</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="898">-	elif [ &#34;X$1&#34; = &#34;X:&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L899">899</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="899">-		# &#34;:&#34; means for us to find one.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L900">900</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="900">-		shift</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L901">901</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="901">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L902">902</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="902">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L903">903</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="903">-if [ &#34;X$disp&#34; = &#34;X&#34; -o &#34;X$disp&#34; = &#34;X:&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L904">904</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="904">-	# try to find an open display port:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L905">905</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="905">-	# (tcp outdated...)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L906">906</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="906">-	ports=`netstat -ant | grep LISTEN | awk &#39;{print $4}&#39; | sed -e &#39;s/^.*://&#39;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L907">907</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="907">-	n=0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L908">908</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="908">-	while [ $n -le 20 ]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L909">909</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="909">-	do</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L910">910</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="910">-		port=`printf &#34;60%02d&#34; $n`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L911">911</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="911">-		if echo &#34;$ports&#34; | grep &#34;^${port}\$&#34; &gt; /dev/null; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L912">912</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="912">-			:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L913">913</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="913">-		else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L914">914</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="914">-			disp=&#34;:$n&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L915">915</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="915">-			warn &#34;$program: auto-selected DISPLAY $disp&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L916">916</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="916">-			break	</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L917">917</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="917">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L918">918</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="918">-		n=`expr $n &#43; 1`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L919">919</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="919">-	done</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L920">920</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="920">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L921">921</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="921">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L922">922</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="922">-# Work out which vt to use, try to find/guess an open one if necessary.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L923">923</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="923">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L924">924</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="924">-vt=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L925">925</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="925">-for arg in $*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L926">926</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="926">-do</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L927">927</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="927">-	if echo &#34;$arg&#34; | grep &#39;^vt&#39; &gt; /dev/null; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L928">928</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="928">-		vt=$arg</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L929">929</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="929">-		break</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L930">930</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="930">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L931">931</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="931">-done</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L932">932</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="932">-if [ &#34;X$vt&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L933">933</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="933">-	if [ &#34;X$user&#34; = &#34;Xroot&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L934">934</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="934">-		# root can user fuser(1) to see if it is in use:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L935">935</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="935">-		if type fuser &gt;/dev/null 2&gt;&amp;1; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L936">936</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="936">-			# try /dev/tty17 thru /dev/tty32</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L937">937</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="937">-			n=17</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L938">938</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="938">-			while [ $n -le 32 ]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L939">939</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="939">-			do</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L940">940</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="940">-				dev=&#34;/dev/tty$n&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L941">941</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="941">-				if fuser $dev &gt;/dev/null 2&gt;&amp;1; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L942">942</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="942">-					:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L943">943</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="943">-				else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L944">944</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="944">-					vt=&#34;vt$n&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L945">945</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="945">-					warn &#34;$program: auto-selected VT $vt =&gt; $dev&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L946">946</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="946">-					break</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L947">947</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="947">-				fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L948">948</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="948">-				n=`expr $n &#43; 1`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L949">949</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="949">-			done</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L950">950</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="950">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L951">951</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="951">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L952">952</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="952">-	if [ &#34;X$vt&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L953">953</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="953">-		# take a wild guess...</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L954">954</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="954">-		vt=vt16</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L955">955</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="955">-		warn &#34;$program: selected fallback VT $vt&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L956">956</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="956">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L957">957</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="957">-else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L958">958</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="958">-	vt=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L959">959</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="959">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L960">960</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="960">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L961">961</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="961">-# Decide flavor of Xserver:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L962">962</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="962">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L963">963</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="963">-stype=`basename &#34;$xserver&#34;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L964">964</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="964">-if echo &#34;$stype&#34; | grep -i xfree86 &gt; /dev/null; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L965">965</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="965">-	stype=xfree86</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L966">966</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="966">-else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L967">967</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="967">-	stype=xorg</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L968">968</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="968">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L969">969</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="969">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L970">970</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="970">-tweak_config() {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L971">971</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="971">-    in=&#34;$1&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L972">972</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="972">-    config2=&#34;$XDUMMY_TMPDIR/xdummy_modified_xconfig.conf&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L973">973</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="973">-    if [ &#34;X$disp&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L974">974</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="974">-    	d=`echo &#34;$disp&#34; | sed -e &#39;s,/,,g&#39; -e &#39;s/:/_/g&#39;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L975">975</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="975">-	config2=&#34;$config2$d&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L976">976</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="976">-    fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L977">977</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="977">-    </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L978">978</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="978">-    # perl script to tweak the config file... add/delete options, etc.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L979">979</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="979">-    #</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L980">980</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="980">-    env XDUMMY_GEOM=$geom \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L981">981</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="981">-        XDUMMY_DEPTH=$depth \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L982">982</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="982">-        XDUMMY_NOMODELINES=$nomodelines \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L983">983</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="983">-        perl &gt; $config2 &lt; $in -e &#39;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L984">984</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="984">-    $n = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L985">985</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="985">-    $geom  = $ENV{XDUMMY_GEOM};</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L986">986</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="986">-    $depth = $ENV{XDUMMY_DEPTH};</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L987">987</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="987">-    $nomodelines = $ENV{XDUMMY_NOMODELINES};</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L988">988</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="988">-    $mode_str = &#34;&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L989">989</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="989">-    $videoram = &#34;24000&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L990">990</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="990">-    $HorizSync   = &#34;30.0 - 130.0&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L991">991</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="991">-    $VertRefresh = &#34;50.0 - 250.0&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L992">992</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="992">-    if ($geom ne &#34;&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L993">993</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="993">-    	my $tmp = &#34;&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L994">994</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="994">-	foreach $g (split(/,/, $geom)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L995">995</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="995">-		$tmp .= &#34;\&#34;$g\&#34; &#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L996">996</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="996">-		if (!$nomodelines &amp;&amp; $g =~ /(\d&#43;)x(\d&#43;)/) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L997">997</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="997">-			my $w = $1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L998">998</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="998">-			my $h = $2;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L999">999</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="999">-			$mode_str .= &#34;  Modeline \&#34;$g\&#34; &#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1000">1000</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1000">-			my $dot = sprintf(&#34;%.2f&#34;, $w * $h * 70 * 1.e-6);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1001">1001</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1001">-			$mode_str .= $dot;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1002">1002</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1002">-			$mode_str .= &#34; &#34; . $w;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1003">1003</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1003">-			$mode_str .= &#34; &#34; . int(1.02 * $w);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1004">1004</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1004">-			$mode_str .= &#34; &#34; . int(1.10 * $w);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1005">1005</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1005">-			$mode_str .= &#34; &#34; . int(1.20 * $w);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1006">1006</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1006">-			$mode_str .= &#34; &#34; . $h;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1007">1007</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1007">-			$mode_str .= &#34; &#34; . int($h &#43; 1);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1008">1008</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1008">-			$mode_str .= &#34; &#34; . int($h &#43; 3);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1009">1009</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1009">-			$mode_str .= &#34; &#34; . int($h &#43; 20);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1010">1010</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1010">-			$mode_str .= &#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1011">1011</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1011">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1012">1012</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1012">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1013">1013</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1013">-	$tmp =~ s/\s*$//;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1014">1014</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1014">-	$geom = $tmp;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1015">1015</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1015">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1016">1016</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1016">-    while (&lt;&gt;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1017">1017</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1017">-	if ($ENV{XDUMMY_NOTWEAK}) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1018">1018</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1018">-		print $_;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1019">1019</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1019">-		next;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1020">1020</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1020">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1021">1021</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1021">-	$n&#43;&#43;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1022">1022</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1022">-	if (/^\s*#/) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1023">1023</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1023">-		# pass comments straight thru</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1024">1024</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1024">-		print;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1025">1025</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1025">-		next;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1026">1026</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1026">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1027">1027</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1027">-	if (/^\s*Section\s&#43;(\S&#43;)/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1028">1028</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1028">-		# start of Section</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1029">1029</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1029">-		$sect = $1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1030">1030</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1030">-		$sect =~ s/\W//g;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1031">1031</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1031">-		$sect =~ y/A-Z/a-z/;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1032">1032</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1032">-		$sects{$sect} = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1033">1033</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1033">-		print;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1034">1034</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1034">-		next;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1035">1035</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1035">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1036">1036</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1036">-	if (/^\s*EndSection/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1037">1037</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1037">-		# end of Section</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1038">1038</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1038">-		if ($sect eq &#34;serverflags&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1039">1039</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1039">-			if (!$got_DontVTSwitch) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1040">1040</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1040">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1041">1041</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1041">-				print &#34;  Option \&#34;DontVTSwitch\&#34; \&#34;true\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1042">1042</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1042">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1043">1043</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1043">-			if (!$got_AllowMouseOpenFail) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1044">1044</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1044">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1045">1045</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1045">-				print &#34;  Option \&#34;AllowMouseOpenFail\&#34; \&#34;true\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1046">1046</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1046">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1047">1047</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1047">-			if (!$got_PciForceNone) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1048">1048</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1048">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1049">1049</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1049">-				print &#34;  Option \&#34;PciForceNone\&#34; \&#34;true\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1050">1050</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1050">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1051">1051</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1051">-		} elsif ($sect eq &#34;device&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1052">1052</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1052">-			if (!$got_Driver) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1053">1053</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1053">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1054">1054</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1054">-				print &#34;  Driver \&#34;dummy\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1055">1055</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1055">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1056">1056</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1056">-			if (!$got_VideoRam) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1057">1057</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1057">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1058">1058</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1058">-				print &#34;  VideoRam $videoram\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1059">1059</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1059">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1060">1060</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1060">-		} elsif ($sect eq &#34;screen&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1061">1061</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1061">-			if ($depth ne &#34;&#34; &amp;&amp; !got_DefaultDepth) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1062">1062</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1062">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1063">1063</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1063">-				print &#34;  DefaultDepth $depth\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1064">1064</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1064">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1065">1065</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1065">-			if ($got_Monitor eq &#34;&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1066">1066</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1066">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1067">1067</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1067">-				print &#34;  Monitor \&#34;Monitor0\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1068">1068</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1068">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1069">1069</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1069">-		} elsif ($sect eq &#34;monitor&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1070">1070</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1070">-			if (!got_HorizSync) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1071">1071</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1071">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1072">1072</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1072">-				print &#34;  HorizSync   $HorizSync\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1073">1073</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1073">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1074">1074</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1074">-			if (!got_VertRefresh) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1075">1075</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1075">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1076">1076</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1076">-				print &#34;  VertRefresh $VertRefresh\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1077">1077</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1077">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1078">1078</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1078">-			if (!$nomodelines) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1079">1079</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1079">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1080">1080</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1080">-				print $mode_str;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1081">1081</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1081">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1082">1082</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1082">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1083">1083</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1083">-		$sect = &#34;&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1084">1084</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1084">-		print;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1085">1085</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1085">-		next;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1086">1086</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1086">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1087">1087</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1087">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1088">1088</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1088">-	if (/^\s*SubSection\s&#43;(\S&#43;)/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1089">1089</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1089">-		# start of Section</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1090">1090</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1090">-		$subsect = $1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1091">1091</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1091">-		$subsect =~ s/\W//g;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1092">1092</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1092">-		$subsect =~ y/A-Z/a-z/;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1093">1093</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1093">-		$subsects{$subsect} = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1094">1094</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1094">-		if ($sect eq &#34;screen&#34; &amp;&amp; $subsect eq &#34;display&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1095">1095</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1095">-			$got_Modes = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1096">1096</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1096">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1097">1097</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1097">-		print;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1098">1098</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1098">-		next;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1099">1099</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1099">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1100">1100</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1100">-	if (/^\s*EndSubSection/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1101">1101</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1101">-		# end of SubSection</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1102">1102</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1102">-		if ($sect eq &#34;screen&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1103">1103</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1103">-			if ($subsect eq &#34;display&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1104">1104</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1104">-				if ($depth ne &#34;&#34; &amp;&amp; !$set_Depth) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1105">1105</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1105">-					print &#34;          ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1106">1106</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1106">-					print &#34;          Depth\t$depth\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1107">1107</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1107">-				}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1108">1108</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1108">-				if ($geom ne &#34;&#34; &amp;&amp; ! $got_Modes) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1109">1109</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1109">-					print &#34;          ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1110">1110</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1110">-					print &#34;          Modes\t$geom\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1111">1111</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1111">-				}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1112">1112</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1112">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1113">1113</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1113">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1114">1114</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1114">-		$subsect = &#34;&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1115">1115</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1115">-		print;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1116">1116</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1116">-		next;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1117">1117</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1117">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1118">1118</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1118">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1119">1119</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1119">-	$l = $_;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1120">1120</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1120">-	$l =~ s/#.*$//;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1121">1121</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1121">-	if ($sect eq &#34;serverflags&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1122">1122</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1122">-		if ($l =~ /^\s*Option.*DontVTSwitch/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1123">1123</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1123">-			$_ =~ s/false/true/ig;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1124">1124</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1124">-			$got_DontVTSwitch = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1125">1125</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1125">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1126">1126</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1126">-		if ($l =~ /^\s*Option.*AllowMouseOpenFail/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1127">1127</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1127">-			$_ =~ s/false/true/ig;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1128">1128</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1128">-			$got_AllowMouseOpenFail = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1129">1129</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1129">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1130">1130</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1130">-		if ($l =~ /^\s*Option.*PciForceNone/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1131">1131</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1131">-			$_ =~ s/false/true/ig;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1132">1132</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1132">-			$got_PciForceNone= 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1133">1133</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1133">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1134">1134</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1134">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1135">1135</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1135">-	if ($sect eq &#34;module&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1136">1136</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1136">-		if ($l =~ /^\s*Load.*\b(dri|fbdevhw)\b/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1137">1137</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1137">-			$_ = &#34;##Xdummy## $_&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1138">1138</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1138">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1139">1139</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1139">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1140">1140</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1140">-	if ($sect eq &#34;monitor&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1141">1141</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1141">-		if ($l =~ /^\s*HorizSync/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1142">1142</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1142">-			$got_HorizSync = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1143">1143</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1143">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1144">1144</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1144">-		if ($l =~ /^\s*VertRefresh/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1145">1145</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1145">-			$got_VertRefresh = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1146">1146</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1146">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1147">1147</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1147">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1148">1148</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1148">-	if ($sect eq &#34;device&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1149">1149</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1149">-		if ($l =~ /^(\s*Driver)\b/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1150">1150</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1150">-			$_ = &#34;$1 \&#34;dummy\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1151">1151</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1151">-			$got_Driver = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1152">1152</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1152">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1153">1153</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1153">-		if ($l =~ /^\s*VideoRam/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1154">1154</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1154">-			$got_VideoRam= 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1155">1155</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1155">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1156">1156</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1156">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1157">1157</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1157">-	if ($sect eq &#34;inputdevice&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1158">1158</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1158">-		if ($l =~ /^\s*Option.*\bDevice\b/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1159">1159</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1159">-			print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1160">1160</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1160">-			$_ = &#34;  Option \&#34;Device\&#34; \&#34;/dev/dilbert$n\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1161">1161</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1161">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1162">1162</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1162">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1163">1163</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1163">-	if ($sect eq &#34;screen&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1164">1164</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1164">-		if ($l =~ /^\s*DefaultDepth\s&#43;(\d&#43;)/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1165">1165</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1165">-			if ($depth ne &#34;&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1166">1166</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1166">-				print &#34;  ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1167">1167</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1167">-				$_ = &#34;  DefaultDepth\t$depth\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1168">1168</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1168">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1169">1169</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1169">-			$got_DefaultDepth = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1170">1170</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1170">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1171">1171</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1171">-		if ($l =~ /^\s*Monitor\s&#43;(\S&#43;)/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1172">1172</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1172">-			$got_Monitor = $1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1173">1173</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1173">-			$got_Monitor =~ s/&#34;//g;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1174">1174</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1174">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1175">1175</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1175">-		if ($subsect eq &#34;display&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1176">1176</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1176">-			if ($geom ne &#34;&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1177">1177</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1177">-				if ($l =~ /^(\s*Modes)\b/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1178">1178</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1178">-					print &#34;          ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1179">1179</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1179">-					$_ = &#34;$1 $geom\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1180">1180</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1180">-					$got_Modes = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1181">1181</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1181">-				}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1182">1182</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1182">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1183">1183</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1183">-			if ($l =~ /^\s*Depth\s&#43;(\d&#43;)/i) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1184">1184</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1184">-				my $d = $1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1185">1185</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1185">-				if (!$set_Depth &amp;&amp; $depth ne &#34;&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1186">1186</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1186">-					$set_Depth = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1187">1187</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1187">-					if ($depth != $d) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1188">1188</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1188">-						print &#34;          ##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1189">1189</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1189">-						$_ =  &#34;          Depth\t$depth\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1190">1190</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1190">-					}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1191">1191</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1191">-				}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1192">1192</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1192">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1193">1193</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1193">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1194">1194</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1194">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1195">1195</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1195">-	print;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1196">1196</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1196">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1197">1197</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1197">-    if ($ENV{XDUMMY_NOTWEAK}) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1198">1198</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1198">-	exit;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1199">1199</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1199">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1200">1200</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1200">-    # create any crucial sections that are missing:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1201">1201</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1201">-    if (! exists($sects{serverflags})) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1202">1202</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1202">-	print &#34;\n##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1203">1203</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1203">-    	print &#34;Section \&#34;ServerFlags\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1204">1204</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1204">-    	print &#34;  Option \&#34;DontVTSwitch\&#34; \&#34;true\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1205">1205</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1205">-    	print &#34;  Option \&#34;AllowMouseOpenFail\&#34; \&#34;true\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1206">1206</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1206">-    	print &#34;  Option \&#34;PciForceNone\&#34; \&#34;true\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1207">1207</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1207">-    	print &#34;EndSection\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1208">1208</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1208">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1209">1209</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1209">-    if (! exists($sects{device})) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1210">1210</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1210">-	print &#34;\n##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1211">1211</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1211">-    	print &#34;Section \&#34;Device\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1212">1212</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1212">-    	print &#34;  Identifier \&#34;Videocard0\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1213">1213</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1213">-    	print &#34;  Driver \&#34;dummy\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1214">1214</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1214">-	print &#34;  VideoRam $videoram\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1215">1215</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1215">-    	print &#34;EndSection\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1216">1216</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1216">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1217">1217</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1217">-    if (! exists($sects{monitor})) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1218">1218</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1218">-	print &#34;\n##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1219">1219</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1219">-    	print &#34;Section \&#34;Monitor\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1220">1220</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1220">-    	print &#34;  Identifier \&#34;Monitor0\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1221">1221</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1221">-    	print &#34;  HorizSync   $HorizSync\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1222">1222</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1222">-    	print &#34;  VertRefresh $VertRefresh\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1223">1223</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1223">-    	print &#34;EndSection\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1224">1224</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1224">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1225">1225</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1225">-    if (! exists($sects{screen})) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1226">1226</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1226">-	print &#34;\n##Xdummy:##\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1227">1227</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1227">-    	print &#34;Section \&#34;Screen\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1228">1228</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1228">-    	print &#34;  Identifier \&#34;Screen0\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1229">1229</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1229">-    	print &#34;  Device \&#34;Videocard0\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1230">1230</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1230">-	if ($got_Monitor ne &#34;&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1231">1231</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1231">-    		print &#34;  Monitor \&#34;$got_Monitor\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1232">1232</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1232">-	} else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1233">1233</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1233">-    		print &#34;  Monitor \&#34;Monitor0\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1234">1234</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1234">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1235">1235</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1235">-	if ($depth ne &#34;&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1236">1236</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1236">-    		print &#34;  DefaultDepth $depth\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1237">1237</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1237">-	} else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1238">1238</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1238">-    		print &#34;  DefaultDepth 24\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1239">1239</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1239">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1240">1240</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1240">-    	print &#34;  SubSection \&#34;Display\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1241">1241</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1241">-    	print &#34;    Viewport 0 0\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1242">1242</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1242">-    	print &#34;    Depth 24\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1243">1243</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1243">-	if ($got_Modes) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1244">1244</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1244">-		;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1245">1245</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1245">-	} elsif ($geom ne &#34;&#34;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1246">1246</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1246">-    		print &#34;    Modes $geom\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1247">1247</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1247">-	} else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1248">1248</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1248">-    		print &#34;    Modes \&#34;1280x1024\&#34; \&#34;1024x768\&#34; \&#34;800x600\&#34;\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1249">1249</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1249">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1250">1250</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1250">-    	print &#34;  EndSubSection\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1251">1251</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1251">-    	print &#34;EndSection\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1252">1252</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1252">-    }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1253">1253</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1253">-&#39;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1254">1254</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1254">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1255">1255</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1255">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1256">1256</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1256">-# Work out config file and tweak it.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1257">1257</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1257">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1258">1258</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1258">-if [ &#34;X$cmdline_config&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1259">1259</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1259">-	:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1260">1260</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1260">-elif [ &#34;X$cmdline_config&#34; = &#34;Xxdummy-builtin&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1261">1261</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1261">-	:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1262">1262</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1262">-elif echo &#34;$cmdline_config&#34; | grep &#39;/&#39; &gt; /dev/null; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1263">1263</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1263">-	:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1264">1264</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1264">-else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1265">1265</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1265">-	# ignore basename only case (let server handle it)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1266">1266</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1266">-	cmdline_config=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1267">1267</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1267">-	notweak=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1268">1268</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1268">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1269">1269</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1269">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1270">1270</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1270">-config=$cmdline_config</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1271">1271</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1271">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1272">1272</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1272">-if [ &#34;X$notweak&#34; = &#34;X1&#34; -a &#34;X$root&#34; = &#34;X&#34; -a  -f &#34;$cmdline_config&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1273">1273</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1273">-	# if not root we need to copy (but not tweak) the specified config.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1274">1274</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1274">-	XDUMMY_NOTWEAK=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1275">1275</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1275">-	export XDUMMY_NOTWEAK</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1276">1276</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1276">-	notweak=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1277">1277</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1277">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1278">1278</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1278">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1279">1279</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1279">-if [ ! $notweak ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1280">1280</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1280">-	# tweaked config will be put in $config2:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1281">1281</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1281">-	config2=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1282">1282</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1282">-	if [ &#34;X$config&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1283">1283</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1283">-		# use the default one:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1284">1284</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1284">-		if [ &#34;X$stype&#34; = &#34;Xxorg&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1285">1285</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1285">-			config=/etc/X11/xorg.conf</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1286">1286</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1286">-		else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1287">1287</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1287">-			if [ -f &#34;/etc/X11/XF86Config-4&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1288">1288</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1288">-				config=&#34;/etc/X11/XF86Config-4&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1289">1289</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1289">-			else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1290">1290</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1290">-				config=&#34;/etc/X11/XF86Config&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1291">1291</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1291">-			fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1292">1292</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1292">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1293">1293</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1293">-		if [ ! -f &#34;$config&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1294">1294</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1294">-			for c in /etc/X11/xorg.conf /etc/X11/XF86Config-4 /etc/X11/XF86Config</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1295">1295</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1295">-			do</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1296">1296</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1296">-				if [ -f $c ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1297">1297</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1297">-					config=$c</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1298">1298</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1298">-					break</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1299">1299</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1299">-				fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1300">1300</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1300">-			done</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1301">1301</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1301">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1302">1302</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1302">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1303">1303</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1303">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1304">1304</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1304">-	if [ &#34;X$config&#34; = &#34;Xxdummy-builtin&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1305">1305</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1305">-		config=&#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1306">1306</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1306">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1307">1307</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1307">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1308">1308</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1308">-	if [ ! -f &#34;$config&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1309">1309</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1309">-		config=&#34;$XDUMMY_TMPDIR/xorg.conf&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1310">1310</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1310">-		warn &#34;$program: using minimal built-in xorg.conf settings.&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1311">1311</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1311">-		cat &gt; $config &lt;&lt;END</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1312">1312</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1312">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1313">1313</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1313">-Section &#34;ServerLayout&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1314">1314</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1314">-    Identifier     &#34;Layout0&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1315">1315</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1315">-    Screen      0  &#34;Screen0&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1316">1316</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1316">-    InputDevice    &#34;Keyboard0&#34; &#34;CoreKeyboard&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1317">1317</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1317">-    InputDevice    &#34;Mouse0&#34; &#34;CorePointer&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1318">1318</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1318">-EndSection</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1319">1319</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1319">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1320">1320</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1320">-Section &#34;Files&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1321">1321</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1321">-EndSection</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1322">1322</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1322">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1323">1323</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1323">-Section &#34;Module&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1324">1324</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1324">-    Load           &#34;dbe&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1325">1325</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1325">-    Load           &#34;extmod&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1326">1326</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1326">-    Load           &#34;freetype&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1327">1327</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1327">-    Load           &#34;glx&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1328">1328</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1328">-EndSection</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1329">1329</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1329">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1330">1330</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1330">-Section &#34;InputDevice&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1331">1331</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1331">-    Identifier     &#34;Mouse0&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1332">1332</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1332">-    Driver         &#34;mouse&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1333">1333</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1333">-    Option         &#34;Protocol&#34; &#34;auto&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1334">1334</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1334">-    Option         &#34;Device&#34; &#34;/dev/psaux&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1335">1335</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1335">-    Option         &#34;Emulate3Buttons&#34; &#34;no&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1336">1336</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1336">-    Option         &#34;ZAxisMapping&#34; &#34;4 5&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1337">1337</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1337">-EndSection</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1338">1338</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1338">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1339">1339</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1339">-Section &#34;InputDevice&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1340">1340</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1340">-    Identifier     &#34;Keyboard0&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1341">1341</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1341">-    Driver         &#34;kbd&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1342">1342</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1342">-EndSection</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1343">1343</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1343">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1344">1344</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1344">-Section &#34;Monitor&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1345">1345</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1345">-    Identifier     &#34;Monitor0&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1346">1346</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1346">-    VendorName     &#34;Unknown&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1347">1347</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1347">-    ModelName      &#34;Unknown&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1348">1348</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1348">-    HorizSync       30.0 - 130.0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1349">1349</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1349">-    VertRefresh     50.0 - 250.0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1350">1350</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1350">-    Option         &#34;DPMS&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1351">1351</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1351">-EndSection</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1352">1352</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1352">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1353">1353</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1353">-Section &#34;Device&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1354">1354</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1354">-    Identifier     &#34;Device0&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1355">1355</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1355">-    Driver         &#34;foovideo&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1356">1356</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1356">-    VendorName     &#34;foovideo Corporation&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1357">1357</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1357">-EndSection</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1358">1358</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1358">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1359">1359</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1359">-Section &#34;Screen&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1360">1360</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1360">-    Identifier     &#34;Screen0&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1361">1361</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1361">-    Device         &#34;Device0&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1362">1362</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1362">-    Monitor        &#34;Monitor0&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1363">1363</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1363">-    DefaultDepth    24</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1364">1364</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1364">-    SubSection     &#34;Display&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1365">1365</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1365">-        Depth       24</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1366">1366</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1366">-        Modes           &#34;1280x1024&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1367">1367</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1367">-    EndSubSection</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1368">1368</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1368">-EndSection</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1369">1369</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1369">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1370">1370</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1370">-END</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1371">1371</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1371">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1372">1372</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1372">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1373">1373</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1373">-	if [ -f &#34;$config&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1374">1374</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1374">-		tweak_config $config</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1375">1375</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1375">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1376">1376</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1376">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1377">1377</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1377">-	# now we need to get our tweaked config file onto the command line:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1378">1378</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1378">-	if [ &#34;X$cmdline_config&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1379">1379</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1379">-		# append to cmdline (FUBAR will be substituted below.)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1380">1380</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1380">-		if [ &#34;X$stype&#34; = &#34;Xxorg&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1381">1381</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1381">-			args=&#34;$args -config FUBAR&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1382">1382</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1382">-		else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1383">1383</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1383">-			args=&#34;$args -xf86config FUBAR&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1384">1384</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1384">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1385">1385</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1385">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1386">1386</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1386">-	if [ &#34;X$config2&#34; != &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1387">1387</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1387">-		# or modify $args:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1388">1388</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1388">-		c2=$config2</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1389">1389</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1389">-		if [ &#34;X$root&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1390">1390</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1390">-			# ordinary user cannot use absolute path.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1391">1391</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1391">-			c2=`basename $config2`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1392">1392</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1392">-		fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1393">1393</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1393">-		args=`echo &#34;$args&#34; | sed \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1394">1394</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1394">-			-e &#34;s,-config  *[^ ][^ ]*,-config $c2,g&#34; \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1395">1395</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1395">-			-e &#34;s,-xf86config  *[^ ][^ ]*,-xf86config $c2,g&#34;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1396">1396</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1396">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1397">1397</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1397">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1398">1398</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1398">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1399">1399</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1399">-if [ $prconf ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1400">1400</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1400">-	warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1401">1401</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1401">-	warn &#34;Printing out the Xorg/XFree86 server config file:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1402">1402</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1402">-	warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1403">1403</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1403">-	if [ &#34;X$config2&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1404">1404</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1404">-		warn &#34;NO CONFIG GENERATED.&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1405">1405</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1405">-		exit 1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1406">1406</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1406">-	else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1407">1407</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1407">-		cat &#34;$config2&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1408">1408</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1408">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1409">1409</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1409">-	exit 0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1410">1410</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1410">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1411">1411</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1411">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1412">1412</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1412">-if [ $debug ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1413">1413</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1413">-	XDUMMY_DEBUG=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1414">1414</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1414">-	export XDUMMY_DEBUG</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1415">1415</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1415">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1416">1416</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1416">-if [ $root ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1417">1417</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1417">-	XDUMMY_ROOT=1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1418">1418</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1418">-	export XDUMMY_ROOT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1419">1419</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1419">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1420">1420</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1420">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1421">1421</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1421">-# Finally, run it:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1422">1422</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1422">-#</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1423">1423</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1423">-if [ &#34;X$debug&#34; != &#34;X&#34; -o &#34;X$runit&#34; = &#34;X&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1424">1424</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1424">-	if [ ! $runit ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1425">1425</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1425">-		echo &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1426">1426</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1426">-		echo &#34;/usr/bin/env:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1427">1427</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1427">-		env | egrep -v &#39;^(LS_COLORS|TERMCAP)&#39; | sort</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1428">1428</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1428">-		echo &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1429">1429</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1429">-		echo &#34;XDUMMY*:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1430">1430</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1430">-		env | grep &#39;^XDUMMY&#39; | sort</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1431">1431</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1431">-		echo &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1432">1432</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1432">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1433">1433</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1433">-	warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1434">1434</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1434">-	warn &#34;The command to run is:&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1435">1435</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1435">-	warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1436">1436</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1436">-	so=$SO</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1437">1437</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1437">-	pwd=`pwd`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1438">1438</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1438">-	if echo &#34;$so&#34; | grep &#39;^\./&#39; &gt; /dev/null; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1439">1439</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1439">-		so=`echo &#34;$so&#34; | sed -e &#34;s,^\.,$pwd,&#34;`</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1440">1440</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1440">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1441">1441</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1441">-	if echo &#34;$so&#34; | grep &#39;/&#39; &gt; /dev/null; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1442">1442</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1442">-		:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1443">1443</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1443">-	else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1444">1444</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1444">-		so=&#34;$pwd/$so&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1445">1445</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1445">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1446">1446</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1446">-	warn &#34;env LD_PRELOAD=$so $xserver $disp $args $vt&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1447">1447</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1447">-	warn &#34;&#34;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1448">1448</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1448">-	if [ ! $runit ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1449">1449</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1449">-		exit 0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1450">1450</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1450">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1451">1451</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1451">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1452">1452</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1452">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1453">1453</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1453">-if [ $strace ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1454">1454</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1454">-	if [ &#34;X$strace&#34; = &#34;X2&#34; ]; then</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1455">1455</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1455">-		ltrace -f env LD_PRELOAD=$SO $xserver $disp $args $vt</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1456">1456</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1456">-	else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1457">1457</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1457">-		strace -f env LD_PRELOAD=$SO $xserver $disp $args $vt</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1458">1458</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1458">-	fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1459">1459</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1459">-else</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1460">1460</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1460">-	exec env LD_PRELOAD=$SO $xserver $disp $args $vt</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1461">1461</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1461">-fi</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1462">1462</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1462">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1463">1463</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1463">-exit $?</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1464">1464</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1464">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1465">1465</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1465">-#########################################################################</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1466">1466</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1466">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1467">1467</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1467">-code() {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1468">1468</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1468">-#code_begin</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1469">1469</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1469">-#include &lt;stdio.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1470">1470</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1470">-#define O_ACCMODE          0003</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1471">1471</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1471">-#define O_RDONLY             00</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1472">1472</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1472">-#define O_WRONLY             01</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1473">1473</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1473">-#define O_RDWR               02</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1474">1474</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1474">-#define O_CREAT            0100 /* not fcntl */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1475">1475</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1475">-#define O_EXCL             0200 /* not fcntl */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1476">1476</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1476">-#define O_NOCTTY           0400 /* not fcntl */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1477">1477</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1477">-#define O_TRUNC           01000 /* not fcntl */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1478">1478</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1478">-#define O_APPEND          02000</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1479">1479</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1479">-#define O_NONBLOCK        04000</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1480">1480</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1480">-#define O_NDELAY        O_NONBLOCK</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1481">1481</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1481">-#define O_SYNC           010000</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1482">1482</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1482">-#define O_FSYNC          O_SYNC</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1483">1483</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1483">-#define O_ASYNC          020000</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1484">1484</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1484">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1485">1485</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1485">-#include &lt;unistd.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1486">1486</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1486">-#include &lt;stdlib.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1487">1487</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1487">-#include &lt;string.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1488">1488</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1488">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1489">1489</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1489">-#include &lt;linux/vt.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1490">1490</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1490">-#include &lt;linux/kd.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1491">1491</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1491">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1492">1492</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1492">-#define __USE_GNU</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1493">1493</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1493">-#include &lt;dlfcn.h&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1494">1494</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1494">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1495">1495</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1495">-static char tmpdir[4096];</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1496">1496</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1496">-static char str1[4096];</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1497">1497</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1497">-static char str2[4096];</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1498">1498</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1498">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1499">1499</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1499">-static char devs[256][1024];</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1500">1500</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1500">-static int debug = -1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1501">1501</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1501">-static int root = -1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1502">1502</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1502">-static int changed_uid = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1503">1503</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1503">-static int saw_fonts = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1504">1504</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1504">-static int saw_lib_modules = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1505">1505</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1505">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1506">1506</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1506">-static time_t start = 0; </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1507">1507</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1507">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1508">1508</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1508">-void check_debug(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1509">1509</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1509">-	if (debug &lt; 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1510">1510</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1510">-		if (getenv(&#34;XDUMMY_DEBUG&#34;) != NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1511">1511</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1511">-			debug = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1512">1512</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1512">-		} else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1513">1513</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1513">-			debug = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1514">1514</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1514">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1515">1515</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1515">-		/* prevent other processes using the preload: */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1516">1516</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1516">-		putenv(&#34;LD_PRELOAD=&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1517">1517</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1517">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1518">1518</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1518">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1519">1519</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1519">-void check_root(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1520">1520</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1520">-	if (root &lt; 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1521">1521</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1521">-		/* script tells us if we are root */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1522">1522</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1522">-		if (getenv(&#34;XDUMMY_ROOT&#34;) != NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1523">1523</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1523">-			root = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1524">1524</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1524">-		} else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1525">1525</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1525">-			root = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1526">1526</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1526">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1527">1527</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1527">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1528">1528</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1528">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1529">1529</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1529">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1530">1530</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1530">-void check_uid(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1531">1531</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1531">-	if (start == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1532">1532</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1532">-		start = time(NULL);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1533">1533</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1533">-		if (debug) fprintf(stderr, &#34;START: %u\n&#34;, (unsigned int) start);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1534">1534</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1534">-		return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1535">1535</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1535">-	} else if (changed_uid == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1536">1536</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1536">-		if (saw_fonts || time(NULL) &gt; start &#43; 20) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1537">1537</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1537">-			if (getenv(&#34;XDUMMY_UID&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1538">1538</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1538">-				int uid = atoi(getenv(&#34;XDUMMY_UID&#34;));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1539">1539</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1539">-				if (debug) fprintf(stderr, &#34;SETREUID: %d saw_fonts=%d\n&#34;, uid, saw_fonts);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1540">1540</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1540">-				if (uid &gt;= 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1541">1541</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1541">-					/* this will simply fail in -nonroot mode: */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1542">1542</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1542">-					setreuid(uid, -1);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1543">1543</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1543">-				}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1544">1544</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1544">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1545">1545</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1545">-			changed_uid = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1546">1546</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1546">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1547">1547</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1547">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1548">1548</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1548">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1549">1549</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1549">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1550">1550</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1550">-#define CHECKIT if (debug &lt; 0) check_debug(); \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1551">1551</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1551">-		if (root  &lt; 0) check_root(); \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1552">1552</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1552">-		check_uid();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1553">1553</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1553">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1554">1554</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1554">-static void set_tmpdir(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1555">1555</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1555">-	char *s;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1556">1556</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1556">-	static int didset = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1557">1557</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1557">-	if (didset) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1558">1558</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1558">-		return;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1559">1559</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1559">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1560">1560</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1560">-	s = getenv(&#34;XDUMMY_TMPDIR&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1561">1561</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1561">-	if (! s) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1562">1562</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1562">-		s = &#34;/tmp&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1563">1563</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1563">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1564">1564</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1564">-	tmpdir[0] = &#39;\0&#39;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1565">1565</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1565">-	strcat(tmpdir, s);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1566">1566</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1566">-	strcat(tmpdir, &#34;/&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1567">1567</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1567">-	didset = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1568">1568</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1568">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1569">1569</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1569">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1570">1570</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1570">-static char *tmpdir_path(const char *path) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1571">1571</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1571">-	char *str;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1572">1572</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1572">-	set_tmpdir();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1573">1573</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1573">-	strcpy(str2, path);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1574">1574</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1574">-	str = str2;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1575">1575</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1575">-	while (*str) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1576">1576</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1576">-		if (*str == &#39;/&#39;) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1577">1577</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1577">-			*str = &#39;_&#39;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1578">1578</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1578">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1579">1579</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1579">-		str&#43;&#43;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1580">1580</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1580">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1581">1581</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1581">-	strcpy(str1, tmpdir);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1582">1582</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1582">-	strcat(str1, str2);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1583">1583</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1583">-	return str1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1584">1584</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1584">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1585">1585</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1585">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1586">1586</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1586">-int open(const char *pathname, int flags, unsigned short mode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1587">1587</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1587">-	int fd;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1588">1588</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1588">-	char *store_dev = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1589">1589</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1589">-	static int (*real_open)(const char *, int , unsigned short) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1590">1590</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1590">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1591">1591</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1591">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1592">1592</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1592">-	if (! real_open) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1593">1593</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1593">-		real_open = (int (*)(const char *, int , unsigned short))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1594">1594</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1594">-			dlsym(RTLD_NEXT, &#34;open&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1595">1595</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1595">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1596">1596</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1596">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1597">1597</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1597">-	if (strstr(pathname, &#34;lib/modules/&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1598">1598</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1598">-		/* not currently used. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1599">1599</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1599">-		saw_lib_modules = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1600">1600</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1600">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1601">1601</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1601">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1602">1602</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1602">-	if (!root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1603">1603</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1603">-		if (strstr(pathname, &#34;/dev/&#34;) == pathname) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1604">1604</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1604">-			store_dev = strdup(pathname);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1605">1605</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1605">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1606">1606</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1606">-		if (strstr(pathname, &#34;/dev/tty&#34;) == pathname &amp;&amp; strcmp(pathname, &#34;/dev/tty&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1607">1607</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1607">-			pathname = tmpdir_path(pathname);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1608">1608</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1608">-			if (debug) fprintf(stderr, &#34;OPEN: %s -&gt; %s (as FIFO)\n&#34;, store_dev, pathname);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1609">1609</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1609">-			/* we make it a FIFO so ioctl on it does not fail */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1610">1610</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1610">-			unlink(pathname);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1611">1611</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1611">-			mkfifo(pathname, 0666);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1612">1612</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1612">-		} else if (0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1613">1613</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1613">-			/* we used to handle more /dev files ... */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1614">1614</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1614">-			fd = real_open(pathname, O_WRONLY|O_CREAT, 0777);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1615">1615</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1615">-			close(fd);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1616">1616</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1616">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1617">1617</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1617">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1618">1618</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1618">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1619">1619</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1619">-	fd = real_open(pathname, flags, mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1620">1620</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1620">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1621">1621</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1621">-	if (debug) fprintf(stderr, &#34;OPEN: %s %d %d fd=%d\n&#34;, pathname, flags, mode, fd);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1622">1622</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1622">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1623">1623</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1623">-	if (! root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1624">1624</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1624">-		if (store_dev) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1625">1625</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1625">-			if (fd &lt; 256) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1626">1626</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1626">-				strcpy(devs[fd], store_dev);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1627">1627</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1627">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1628">1628</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1628">-			free(store_dev);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1629">1629</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1629">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1630">1630</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1630">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1631">1631</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1631">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1632">1632</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1632">-	return(fd);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1633">1633</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1633">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1634">1634</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1634">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1635">1635</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1635">-int open64(const char *pathname, int flags, unsigned short mode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1636">1636</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1636">-	int fd;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1637">1637</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1637">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1638">1638</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1638">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1639">1639</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1639">-	if (debug) fprintf(stderr, &#34;OPEN64: %s %d %d\n&#34;, pathname, flags, mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1640">1640</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1640">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1641">1641</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1641">-	fd = open(pathname, flags, mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1642">1642</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1642">-	return(fd);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1643">1643</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1643">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1644">1644</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1644">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1645">1645</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1645">-int rename(const char *oldpath, const char *newpath) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1646">1646</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1646">-	static int (*real_rename)(const char *, const char *) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1647">1647</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1647">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1648">1648</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1648">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1649">1649</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1649">-	if (! real_rename) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1650">1650</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1650">-		real_rename = (int (*)(const char *, const char *))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1651">1651</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1651">-			dlsym(RTLD_NEXT, &#34;rename&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1652">1652</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1652">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1653">1653</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1653">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1654">1654</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1654">-	if (debug) fprintf(stderr, &#34;RENAME: %s %s\n&#34;, oldpath, newpath);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1655">1655</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1655">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1656">1656</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1656">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1657">1657</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1657">-		return(real_rename(oldpath, newpath));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1658">1658</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1658">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1659">1659</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1659">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1660">1660</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1660">-	if (strstr(oldpath, &#34;/var/log&#34;) == oldpath) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1661">1661</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1661">-		if (debug) fprintf(stderr, &#34;RENAME: returning 0\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1662">1662</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1662">-		return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1663">1663</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1663">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1664">1664</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1664">-	return(real_rename(oldpath, newpath));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1665">1665</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1665">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1666">1666</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1666">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1667">1667</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1667">-FILE *fopen(const char *pathname, const char *mode) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1668">1668</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1668">-	static FILE* (*real_fopen)(const char *, const char *) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1669">1669</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1669">-	char *str;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1670">1670</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1670">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1671">1671</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1671">-	if (! saw_fonts) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1672">1672</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1672">-		if (strstr(pathname, &#34;/fonts/&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1673">1673</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1673">-			if (strstr(pathname, &#34;fonts.dir&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1674">1674</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1674">-				saw_fonts = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1675">1675</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1675">-			} else if (strstr(pathname, &#34;fonts.alias&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1676">1676</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1676">-				saw_fonts = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1677">1677</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1677">-			}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1678">1678</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1678">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1679">1679</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1679">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1680">1680</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1680">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1681">1681</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1681">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1682">1682</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1682">-	if (! real_fopen) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1683">1683</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1683">-		real_fopen = (FILE* (*)(const char *, const char *))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1684">1684</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1684">-			dlsym(RTLD_NEXT, &#34;fopen&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1685">1685</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1685">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1686">1686</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1686">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1687">1687</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1687">-	if (debug) fprintf(stderr, &#34;FOPEN: %s %s\n&#34;, pathname, mode);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1688">1688</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1688">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1689">1689</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1689">-	if (strstr(pathname, &#34;xdummy_modified_xconfig.conf&#34;)) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1690">1690</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1690">-		/* make our config appear to be in /etc/X11, etc. */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1691">1691</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1691">-		char *q = strrchr(pathname, &#39;/&#39;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1692">1692</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1692">-		if (q != NULL &amp;&amp; getenv(&#34;XDUMMY_TMPDIR&#34;) != NULL) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1693">1693</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1693">-			strcpy(str1, getenv(&#34;XDUMMY_TMPDIR&#34;));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1694">1694</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1694">-			strcat(str1, q);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1695">1695</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1695">-			if (debug) fprintf(stderr, &#34;FOPEN: %s -&gt; %s\n&#34;, pathname, str1);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1696">1696</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1696">-			pathname = str1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1697">1697</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1697">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1698">1698</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1698">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1699">1699</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1699">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1700">1700</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1700">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1701">1701</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1701">-		return(real_fopen(pathname, mode));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1702">1702</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1702">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1703">1703</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1703">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1704">1704</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1704">-	str = (char *) pathname;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1705">1705</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1705">-	if (strstr(pathname, &#34;/var/log&#34;) == pathname) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1706">1706</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1706">-		str = tmpdir_path(pathname);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1707">1707</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1707">-		if (debug) fprintf(stderr, &#34;FOPEN: %s -&gt; %s\n&#34;, pathname, str);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1708">1708</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1708">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1709">1709</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1709">-	return(real_fopen(str, mode));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1710">1710</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1710">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1711">1711</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1711">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1712">1712</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1712">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1713">1713</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1713">-#define RETURN0 if (debug) \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1714">1714</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1714">-	{fprintf(stderr, &#34;IOCTL: covered %d 0x%x\n&#34;, fd, req);} return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1715">1715</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1715">-#define RETURN1 if (debug) \</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1716">1716</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1716">-	{fprintf(stderr, &#34;IOCTL: covered %d 0x%x\n&#34;, fd, req);} return -1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1717">1717</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1717">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1718">1718</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1718">-int ioctl(int fd, int req, void *ptr) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1719">1719</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1719">-	static int closed_xf86Info_consoleFd = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1720">1720</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1720">-	static int (*real_ioctl)(int, int , void *) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1721">1721</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1721">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1722">1722</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1722">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1723">1723</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1723">-	if (! real_ioctl) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1724">1724</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1724">-		real_ioctl = (int (*)(int, int , void *))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1725">1725</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1725">-			dlsym(RTLD_NEXT, &#34;open&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1726">1726</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1726">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1727">1727</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1727">-	if (debug) fprintf(stderr, &#34;IOCTL: %d 0x%x %p\n&#34;, fd, req, ptr);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1728">1728</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1728">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1729">1729</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1729">-	/* based on xorg-x11-6.8.1-dualhead.patch */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1730">1730</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1730">-	if (req == VT_GETMODE) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1731">1731</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1731">-		/* close(xf86Info.consoleFd) */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1732">1732</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1732">-		if (0 &amp;&amp; ! closed_xf86Info_consoleFd) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1733">1733</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1733">-			/* I think better not to close it... */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1734">1734</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1734">-			close(fd);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1735">1735</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1735">-			closed_xf86Info_consoleFd = 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1736">1736</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1736">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1737">1737</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1737">-		RETURN0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1738">1738</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1738">-	} else if (req == VT_SETMODE) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1739">1739</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1739">-		RETURN0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1740">1740</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1740">-	} else if (req == VT_GETSTATE) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1741">1741</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1741">-		RETURN0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1742">1742</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1742">-	} else if (req == KDSETMODE) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1743">1743</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1743">-		RETURN0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1744">1744</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1744">-	} else if (req == KDSETLED) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1745">1745</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1745">-		RETURN0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1746">1746</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1746">-	} else if (req == KDGKBMODE) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1747">1747</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1747">-		RETURN0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1748">1748</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1748">-	} else if (req == KDSKBMODE) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1749">1749</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1749">-		RETURN0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1750">1750</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1750">-	} else if (req == VT_ACTIVATE) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1751">1751</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1751">-		RETURN0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1752">1752</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1752">-	} else if (req == VT_WAITACTIVE) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1753">1753</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1753">-		RETURN0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1754">1754</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1754">-	} else if (req == VT_RELDISP) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1755">1755</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1755">-		if (ptr == (void *) 1) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1756">1756</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1756">-			RETURN1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1757">1757</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1757">-		} else if (ptr == (void *) VT_ACKACQ) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1758">1758</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1758">-			RETURN0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1759">1759</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1759">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1760">1760</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1760">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1761">1761</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1761">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1762">1762</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1762">-	return(real_ioctl(fd, req, ptr));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1763">1763</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1763">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1764">1764</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1764">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1765">1765</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1765">-typedef void (*sighandler_t)(int);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1766">1766</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1766">-#define SIGUSR1       10</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1767">1767</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1767">-#define SIG_DFL       ((sighandler_t)0)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1768">1768</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1768">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1769">1769</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1769">-sighandler_t signal(int signum, sighandler_t handler) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1770">1770</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1770">-	static sighandler_t (*real_signal)(int, sighandler_t) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1771">1771</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1771">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1772">1772</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1772">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1773">1773</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1773">-	if (! real_signal) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1774">1774</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1774">-		real_signal = (sighandler_t (*)(int, sighandler_t))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1775">1775</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1775">-			dlsym(RTLD_NEXT, &#34;signal&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1776">1776</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1776">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1777">1777</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1777">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1778">1778</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1778">-	if (debug) fprintf(stderr, &#34;SIGNAL: %d %p\n&#34;, signum, handler);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1779">1779</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1779">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1780">1780</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1780">-	if (signum == SIGUSR1) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1781">1781</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1781">-		if (debug) fprintf(stderr, &#34;SIGNAL: skip SIGUSR1\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1782">1782</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1782">-		return SIG_DFL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1783">1783</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1783">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1784">1784</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1784">-	</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1785">1785</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1785">-	return(real_signal(signum, handler));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1786">1786</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1786">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1787">1787</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1787">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1788">1788</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1788">-int close(int fd) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1789">1789</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1789">-	static int (*real_close)(int) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1790">1790</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1790">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1791">1791</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1791">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1792">1792</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1792">-	if (! real_close) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1793">1793</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1793">-		real_close = (int (*)(int)) dlsym(RTLD_NEXT, &#34;close&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1794">1794</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1794">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1795">1795</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1795">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1796">1796</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1796">-	if (debug) fprintf(stderr, &#34;CLOSE: %d\n&#34;, fd);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1797">1797</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1797">-	if (!root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1798">1798</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1798">-		if (fd &lt; 256) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1799">1799</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1799">-			devs[fd][0] = &#39;\0&#39;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1800">1800</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1800">-		}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1801">1801</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1801">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1802">1802</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1802">-	return(real_close(fd));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1803">1803</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1803">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1804">1804</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1804">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1805">1805</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1805">-struct stat {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1806">1806</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1806">-	int foo;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1807">1807</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1807">-};</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1808">1808</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1808">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1809">1809</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1809">-int stat(const char *path, struct stat *buf) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1810">1810</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1810">-	static int (*real_stat)(const char *, struct stat *) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1811">1811</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1811">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1812">1812</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1812">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1813">1813</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1813">-	if (! real_stat) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1814">1814</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1814">-		real_stat = (int (*)(const char *, struct stat *))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1815">1815</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1815">-			dlsym(RTLD_NEXT, &#34;stat&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1816">1816</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1816">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1817">1817</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1817">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1818">1818</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1818">-	if (debug) fprintf(stderr, &#34;STAT: %s\n&#34;, path);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1819">1819</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1819">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1820">1820</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1820">-	return(real_stat(path, buf));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1821">1821</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1821">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1822">1822</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1822">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1823">1823</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1823">-int stat64(const char *path, struct stat *buf) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1824">1824</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1824">-	static int (*real_stat64)(const char *, struct stat *) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1825">1825</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1825">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1826">1826</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1826">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1827">1827</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1827">-	if (! real_stat64) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1828">1828</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1828">-		real_stat64 = (int (*)(const char *, struct stat *))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1829">1829</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1829">-			dlsym(RTLD_NEXT, &#34;stat64&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1830">1830</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1830">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1831">1831</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1831">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1832">1832</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1832">-	if (debug) fprintf(stderr, &#34;STAT64: %s\n&#34;, path);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1833">1833</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1833">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1834">1834</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1834">-	return(real_stat64(path, buf));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1835">1835</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1835">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1836">1836</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1836">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1837">1837</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1837">-int chown(const char *path, uid_t owner, gid_t group) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1838">1838</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1838">-	static int (*real_chown)(const char *, uid_t, gid_t) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1839">1839</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1839">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1840">1840</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1840">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1841">1841</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1841">-	if (! real_chown) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1842">1842</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1842">-		real_chown = (int (*)(const char *, uid_t, gid_t))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1843">1843</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1843">-			dlsym(RTLD_NEXT, &#34;chown&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1844">1844</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1844">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1845">1845</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1845">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1846">1846</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1846">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1847">1847</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1847">-		return(real_chown(path, owner, group));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1848">1848</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1848">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1849">1849</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1849">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1850">1850</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1850">-	if (debug) fprintf(stderr, &#34;CHOWN: %s %d %d\n&#34;, path, owner, group);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1851">1851</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1851">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1852">1852</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1852">-	if (strstr(path, &#34;/dev&#34;) == path) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1853">1853</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1853">-		if (debug) fprintf(stderr, &#34;CHOWN: return 0\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1854">1854</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1854">-		return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1855">1855</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1855">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1856">1856</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1856">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1857">1857</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1857">-	return(real_chown(path, owner, group));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1858">1858</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1858">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1859">1859</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1859">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1860">1860</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1860">-extern int *__errno_location (void);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1861">1861</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1861">-#ifndef ENODEV</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1862">1862</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1862">-#define ENODEV 19</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1863">1863</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1863">-#endif</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1864">1864</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1864">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1865">1865</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1865">-int ioperm(unsigned long from, unsigned long num, int turn_on) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1866">1866</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1866">-	static int (*real_ioperm)(unsigned long, unsigned long, int) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1867">1867</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1867">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1868">1868</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1868">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1869">1869</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1869">-	if (! real_ioperm) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1870">1870</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1870">-		real_ioperm = (int (*)(unsigned long, unsigned long, int))</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1871">1871</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1871">-			dlsym(RTLD_NEXT, &#34;ioperm&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1872">1872</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1872">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1873">1873</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1873">-	if (debug) fprintf(stderr, &#34;IOPERM: %d %d %d\n&#34;, (int) from, (int) num, turn_on);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1874">1874</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1874">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1875">1875</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1875">-		return(real_ioperm(from, num, turn_on));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1876">1876</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1876">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1877">1877</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1877">-	if (from == 0 &amp;&amp; num == 1024 &amp;&amp; turn_on == 1) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1878">1878</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1878">-		/* we want xf86EnableIO to fail */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1879">1879</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1879">-		if (debug) fprintf(stderr, &#34;IOPERM: setting ENODEV.\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1880">1880</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1880">-		*__errno_location() = ENODEV;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1881">1881</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1881">-		return -1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1882">1882</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1882">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1883">1883</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1883">-	return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1884">1884</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1884">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1885">1885</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1885">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1886">1886</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1886">-int iopl(int level) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1887">1887</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1887">-	static int (*real_iopl)(int) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1888">1888</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1888">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1889">1889</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1889">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1890">1890</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1890">-	if (! real_iopl) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1891">1891</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1891">-		real_iopl = (int (*)(int)) dlsym(RTLD_NEXT, &#34;iopl&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1892">1892</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1892">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1893">1893</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1893">-	if (debug) fprintf(stderr, &#34;IOPL: %d\n&#34;, level);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1894">1894</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1894">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1895">1895</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1895">-		return(real_iopl(level));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1896">1896</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1896">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1897">1897</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1897">-	return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1898">1898</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1898">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1899">1899</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1899">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1900">1900</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1900">-#ifdef INTERPOSE_GETUID </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1901">1901</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1901">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1902">1902</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1902">-/*</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1903">1903</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1903">- * we got things to work w/o pretending to be root.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1904">1904</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1904">- * so we no longer interpose getuid(), etc.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1905">1905</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1905">- */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1906">1906</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1906">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1907">1907</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1907">-uid_t getuid(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1908">1908</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1908">-	static uid_t (*real_getuid)(void) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1909">1909</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1909">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1910">1910</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1910">-	if (! real_getuid) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1911">1911</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1911">-		real_getuid = (uid_t (*)(void)) dlsym(RTLD_NEXT, &#34;getuid&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1912">1912</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1912">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1913">1913</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1913">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1914">1914</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1914">-		return(real_getuid());</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1915">1915</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1915">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1916">1916</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1916">-	if (debug) fprintf(stderr, &#34;GETUID: 0\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1917">1917</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1917">-	return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1918">1918</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1918">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1919">1919</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1919">-uid_t geteuid(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1920">1920</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1920">-	static uid_t (*real_geteuid)(void) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1921">1921</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1921">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1922">1922</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1922">-	if (! real_geteuid) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1923">1923</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1923">-		real_geteuid = (uid_t (*)(void)) dlsym(RTLD_NEXT, &#34;geteuid&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1924">1924</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1924">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1925">1925</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1925">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1926">1926</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1926">-		return(real_geteuid());</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1927">1927</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1927">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1928">1928</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1928">-	if (debug) fprintf(stderr, &#34;GETEUID: 0\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1929">1929</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1929">-	return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1930">1930</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1930">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1931">1931</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1931">-uid_t geteuid_kludge1(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1932">1932</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1932">-	static uid_t (*real_geteuid)(void) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1933">1933</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1933">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1934">1934</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1934">-	if (! real_geteuid) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1935">1935</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1935">-		real_geteuid = (uid_t (*)(void)) dlsym(RTLD_NEXT, &#34;geteuid&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1936">1936</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1936">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1937">1937</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1937">-	if (debug) fprintf(stderr, &#34;GETEUID: 0 saw_libmodules=%d\n&#34;, saw_lib_modules);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1938">1938</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1938">-	if (root &amp;&amp; !saw_lib_modules) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1939">1939</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1939">-		return(real_geteuid());</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1940">1940</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1940">-	} else {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1941">1941</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1941">-		saw_lib_modules = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1942">1942</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1942">-		return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1943">1943</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1943">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1944">1944</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1944">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1945">1945</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1945">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1946">1946</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1946">-uid_t getuid32(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1947">1947</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1947">-	static uid_t (*real_getuid32)(void) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1948">1948</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1948">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1949">1949</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1949">-	if (! real_getuid32) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1950">1950</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1950">-		real_getuid32 = (uid_t (*)(void)) dlsym(RTLD_NEXT, &#34;getuid32&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1951">1951</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1951">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1952">1952</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1952">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1953">1953</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1953">-		return(real_getuid32());</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1954">1954</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1954">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1955">1955</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1955">-	if (debug) fprintf(stderr, &#34;GETUID32: 0\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1956">1956</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1956">-	return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1957">1957</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1957">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1958">1958</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1958">-uid_t geteuid32(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1959">1959</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1959">-	static uid_t (*real_geteuid32)(void) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1960">1960</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1960">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1961">1961</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1961">-	if (! real_geteuid32) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1962">1962</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1962">-		real_geteuid32 = (uid_t (*)(void)) dlsym(RTLD_NEXT, &#34;geteuid32&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1963">1963</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1963">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1964">1964</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1964">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1965">1965</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1965">-		return(real_geteuid32());</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1966">1966</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1966">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1967">1967</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1967">-	if (debug) fprintf(stderr, &#34;GETEUID32: 0\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1968">1968</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1968">-	return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1969">1969</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1969">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1970">1970</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1970">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1971">1971</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1971">-gid_t getgid(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1972">1972</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1972">-	static gid_t (*real_getgid)(void) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1973">1973</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1973">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1974">1974</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1974">-	if (! real_getgid) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1975">1975</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1975">-		real_getgid = (gid_t (*)(void)) dlsym(RTLD_NEXT, &#34;getgid&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1976">1976</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1976">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1977">1977</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1977">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1978">1978</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1978">-		return(real_getgid());</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1979">1979</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1979">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1980">1980</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1980">-	if (debug) fprintf(stderr, &#34;GETGID: 0\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1981">1981</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1981">-	return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1982">1982</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1982">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1983">1983</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1983">-gid_t getegid(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1984">1984</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1984">-	static gid_t (*real_getegid)(void) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1985">1985</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1985">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1986">1986</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1986">-	if (! real_getegid) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1987">1987</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1987">-		real_getegid = (gid_t (*)(void)) dlsym(RTLD_NEXT, &#34;getegid&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1988">1988</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1988">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1989">1989</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1989">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1990">1990</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1990">-		return(real_getegid());</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1991">1991</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1991">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1992">1992</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1992">-	if (debug) fprintf(stderr, &#34;GETEGID: 0\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1993">1993</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1993">-	return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1994">1994</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1994">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1995">1995</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1995">-gid_t getgid32(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1996">1996</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1996">-	static gid_t (*real_getgid32)(void) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1997">1997</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1997">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1998">1998</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1998">-	if (! real_getgid32) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L1999">1999</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="1999">-		real_getgid32 = (gid_t (*)(void)) dlsym(RTLD_NEXT, &#34;getgid32&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2000">2000</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2000">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2001">2001</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2001">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2002">2002</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2002">-		return(real_getgid32());</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2003">2003</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2003">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2004">2004</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2004">-	if (debug) fprintf(stderr, &#34;GETGID32: 0\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2005">2005</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2005">-	return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2006">2006</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2006">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2007">2007</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2007">-gid_t getegid32(void) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2008">2008</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2008">-	static gid_t (*real_getegid32)(void) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2009">2009</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2009">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2010">2010</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2010">-	if (! real_getegid32) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2011">2011</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2011">-		real_getegid32 = (gid_t (*)(void)) dlsym(RTLD_NEXT, &#34;getegid32&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2012">2012</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2012">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2013">2013</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2013">-	if (root) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2014">2014</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2014">-		return(real_getegid32());</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2015">2015</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2015">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2016">2016</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2016">-	if (debug) fprintf(stderr, &#34;GETEGID32: 0\n&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2017">2017</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2017">-	return 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2018">2018</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2018">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2019">2019</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2019">-#endif</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2020">2020</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2020">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2021">2021</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2021">-#if 0</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2022">2022</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2022">-/* maybe we need to interpose on strcmp someday... here is the template */</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2023">2023</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2023">-int strcmp(const char *s1, const char *s2) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2024">2024</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2024">-	static int (*real_strcmp)(const char *, const char *) = NULL;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2025">2025</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2025">-	CHECKIT</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2026">2026</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2026">-	if (! real_strcmp) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2027">2027</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2027">-		real_strcmp = (int (*)(const char *, const char *)) dlsym(RTLD_NEXT, &#34;strcmp&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2028">2028</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2028">-	}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2029">2029</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2029">-	if (debug) fprintf(stderr, &#34;STRCMP: &#39;%s&#39; &#39;%s&#39;\n&#34;, s1, s2);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2030">2030</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2030">-	return(real_strcmp(s1, s2));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2031">2031</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2031">-}</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2032">2032</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2032">-#endif</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2033">2033</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2033">-</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2034">2034</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2034">-#code_end</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2035">2035</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2035">-}</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/testcases/complete-run.pl</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L2040">2040</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2040">@@ -43,7 &#43;43,7 @@ sub Log { say $log &#34;@_&#34; }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2041">2041</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2041"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2042">2042</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2042"> my %timings;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2043">2043</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2043"> my $help = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2044">2044</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2044">-# Number of tests to run in parallel. Important to know how many Xdummy</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2045">2045</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2045">&#43;# Number of tests to run in parallel. Important to know how many Xephyr</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2046">2046</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2046"> # instances we need to start (unless @displays are given). Defaults to</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2047">2047</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2047"> # num_cores * 2.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2048">2048</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2048"> my $parallel = undef;</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2049">2049</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2049">@@ -55,11 &#43;55,11 @@ my %options = (</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2050">2050</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2050">     coverage =&gt; 0,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2051">2051</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2051">     restart =&gt; 0,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2052">2052</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2052"> );</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2053">2053</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2053">-my $keep_xdummy_output = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2054">2054</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2054">&#43;my $keep_xserver_output = 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2055">2055</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2055"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2056">2056</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2056"> my $result = GetOptions(</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2057">2057</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2057">     &#34;coverage-testing&#34; =&gt; \$options{coverage},</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2058">2058</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2058">-    &#34;keep-xdummy-output&#34; =&gt; \$keep_xdummy_output,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2059">2059</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2059">&#43;    &#34;keep-xserver-output&#34; =&gt; \$keep_xserver_output,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2060">2060</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2060">     &#34;valgrind&#34; =&gt; \$options{valgrind},</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2061">2061</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2061">     &#34;strace&#34; =&gt; \$options{strace},</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2062">2062</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2062">     &#34;xtrace&#34; =&gt; \$options{xtrace},</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2063">2063</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2063">@@ -86,6 &#43;86,9 @@ foreach my $binary (@binaries) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2064">2064</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2064">     die &#34;$binary is not an executable&#34; unless -x $binary;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2065">2065</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2065"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2066">2066</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2066"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2067">2067</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2067">&#43;qx(Xephyr -help 2&gt;&amp;1);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2068">2068</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2068">&#43;die &#34;Xephyr was not found in your path. Please install Xephyr (xserver-xephyr on Debian).&#34; if $?;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2069">2069</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2069">&#43;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2070">2070</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2070"> @displays = split(/,/, join(&#39;,&#39;, @displays));</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2071">2071</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2071"> @displays = map { s/ //g; $_ } @displays;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2072">2072</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2072"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2073">2073</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2073">@@ -97,9 &#43;100,9 @@ my @testfiles = @ARGV;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2074">2074</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2074"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2075">2075</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2075"> my $numtests = scalar @testfiles;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2076">2076</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2076"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2077">2077</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2077">-# No displays specified, let’s start some Xdummy instances.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2078">2078</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2078">&#43;# No displays specified, let’s start some Xephyr instances.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2079">2079</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2079"> if (@displays == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2080">2080</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2080">-    @displays = start_xdummy($parallel, $numtests, $keep_xdummy_output);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2081">2081</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2081">&#43;    @displays = start_xserver($parallel, $numtests, $keep_xserver_output);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2082">2082</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2082"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2083">2083</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2083"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2084">2084</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2084"> # 1: create an output directory for this test-run</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2085">2085</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2085">@@ -115,8 &#43;118,7 @@ symlink(&#34;$outdir&#34;, &#34;latest&#34;) or die &#34;Could not symlink latest to $outdir&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2086">2086</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2086"> # connect to all displays for two reasons:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2087">2087</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2087"> # 1: check if the display actually works</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2088">2088</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2088"> # 2: keep the connection open so that i3 is not the only client. this prevents</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2089">2089</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2089">-#    the X server from exiting (Xdummy will restart it, but not quick enough</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2090">2090</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2090">-#    sometimes)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2091">2091</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2091">&#43;#    the X server from exiting</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2092">2092</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2092"> my @single_worker;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2093">2093</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2093"> for my $display (@displays) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2094">2094</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2094">     my $screen;</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2095">2095</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2095">@@ -346,7 &#43;348,7 @@ complete-run.pl [files...]</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2096">2096</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2096"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2097">2097</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2097"> =head1 EXAMPLE</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2098">2098</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2098"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2099">2099</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2099">-To run the whole testsuite on a reasonable number of Xdummy instances (your</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2100">2100</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2100">&#43;To run the whole testsuite on a reasonable number of Xephyr instances (your</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2101">2101</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2101"> running X11 will not be touched), run:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2102">2102</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2102">   ./complete-run.pl</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2103">2103</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2103"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2104">2104</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2104">@@ -365,11 &#43;367,11 @@ will parallelize the tests:</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2105">2105</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2105">   # Run tests on the second X server</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2106">2106</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2106">   ./complete-run.pl -d :1</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2107">2107</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2107"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2108">2108</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2108">-  # Run four tests in parallel on some Xdummy servers</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2109">2109</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2109">&#43;  # Run four tests in parallel on some Xephyr servers</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2110">2110</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2110">   ./complete-run.pl -d :1,:2,:3,:4</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2111">2111</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2111"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2112">2112</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2112"> Note that it is not necessary to specify this anymore. If omitted,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2113">2113</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2113">-complete-run.pl will start (num_cores * 2) Xdummy instances.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2114">2114</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2114">&#43;complete-run.pl will start (num_cores * 2) Xephyr instances.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2115">2115</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2115"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2116">2116</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2116"> =item B&lt;--valgrind&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2117">2117</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2117"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2118">2118</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2118">@@ -392,8 &#43;394,8 @@ Exits i3 cleanly (instead of kill -9) to make coverage testing work properly.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2119">2119</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2119"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2120">2120</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2120"> =item B&lt;--parallel&gt;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2121">2121</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2121"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2122">2122</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2122">-Number of Xdummy instances to start (if you don’t want to start num_cores * 2</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2123">2123</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2123">&#43;Number of Xephyr instances to start (if you don’t want to start num_cores * 2</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2124">2124</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2124"> instances for some reason).</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2125">2125</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2125"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2126">2126</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2126">-  # Run all tests on a single Xdummy instance</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2127">2127</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2127">&#43;  # Run all tests on a single Xephyr instance</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2128">2128</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2128">   ./complete-run.pl -p 1</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/testcases/lib/StartXDummy.pm</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L2133">2133</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2133">@@ -7,7 &#43;7,7 @@ use Exporter &#39;import&#39;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2134">2134</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2134"> use Time::HiRes qw(sleep);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2135">2135</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2135"> use v5.10;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2136">2136</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2136"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2137">2137</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2137">-our @EXPORT = qw(start_xdummy);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2138">2138</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2138">&#43;our @EXPORT = qw(start_xserver);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2139">2139</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2139"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2140">2140</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2140"> my @pids;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2141">2141</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2141"> my $x_socketpath = &#39;/tmp/.X11-unix/X&#39;;</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2142">2142</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2142">@@ -19,15 &#43;19,15 @@ sub slurp {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2143">2143</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2143">     &lt;$fh&gt;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2144">2144</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2144"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2145">2145</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2145"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2146">2146</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2146">-# forks an Xdummy or Xdmx process</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2147">2147</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2147">&#43;# forks an X server process</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2148">2148</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2148"> sub fork_xserver {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2149">2149</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2149">-    my $keep_xdummy_output = shift;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2150">2150</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2150">&#43;    my $keep_xserver_output = shift;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2151">2151</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2151">     my $displaynum = shift;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2152">2152</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2152">     my $pid = fork();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2153">2153</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2153">     die &#34;Could not fork: $!&#34; unless defined($pid);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2154">2154</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2154">     if ($pid == 0) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2155">2155</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2155">-        # Child, close stdout/stderr, then start Xdummy.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2156">2156</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2156">-        if (!$keep_xdummy_output) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2157">2157</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2157">&#43;        # Child, close stdout/stderr, then start Xephyr</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2158">2158</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2158">&#43;        if (!$keep_xserver_output) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2159">2159</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2159">             close STDOUT;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2160">2160</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2160">             close STDERR;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2161">2161</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2161">         }</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2162">2162</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2162">@@ -60,16 &#43;60,17 @@ sub wait_for_x {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2163">2163</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2163">     }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2164">2164</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2164"> }</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2165">2165</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2165"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2166">2166</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2166">-=head2 start_xdummy($parallel)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2167">2167</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2167">&#43;=head2 start_xserver($parallel)</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2168">2168</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2168"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2169">2169</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2169">-Starts C&lt;$parallel&gt; (or number of cores * 2 if undef) Xdummy processes (see</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2170">2170</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2170">-the file ./Xdummy) and returns two arrayrefs: a list of X11 display numbers to</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2171">2171</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2171">-the Xdummy processes and a list of PIDs of the processes.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2172">2172</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2172">&#43;Starts C&lt;$parallel&gt; (or number of cores * 2 if undef) Xephyr processes (see</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2173">2173</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2173">&#43;http://www.freedesktop.org/wiki/Software/Xephyr/) and returns two arrayrefs: a</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2174">2174</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2174">&#43;list of X11 display numbers to the Xephyr processes and a list of PIDs of the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2175">2175</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2175">&#43;processes.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2176">2176</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2176"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2177">2177</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2177"> =cut</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2178">2178</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2178"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2179">2179</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2179">-sub start_xdummy {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2180">2180</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2180">-    my ($parallel, $numtests, $keep_xdummy_output) = @_;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2181">2181</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2181">&#43;sub start_xserver {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2182">2182</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2182">&#43;    my ($parallel, $numtests, $keep_xserver_output) = @_;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2183">2183</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2183"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2184">2184</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2184">     my @displays = ();</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2185">2185</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2185">     my @childpids = ();</pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2186">2186</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2186">@@ -78,11 &#43;79,8 @@ sub start_xdummy {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2187">2187</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2187">         my $child = waitpid -1, POSIX::WNOHANG;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2188">2188</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2188">         @pids = grep { $_ != $child } @pids;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2189">2189</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2189">         return unless @pids == 0;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2190">2190</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2190">-        print STDERR &#34;All Xdummy processes died.\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2191">2191</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2191">-        print STDERR &#34;Use ./complete-run.pl --parallel 1 --keep-xdummy-output\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2192">2192</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2192">-        print STDERR &#34;&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2193">2193</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2193">-        print STDERR &#34;A frequent cause for this is missing the DUMMY Xorg module,\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2194">2194</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2194">-        print STDERR &#34;package xserver-xorg-video-dummy on Debian.\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2195">2195</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2195">&#43;        print STDERR &#34;All X server processes died.\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2196">2196</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2196">&#43;        print STDERR &#34;Use ./complete-run.pl --parallel 1 --keep-xserver-output\n&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2197">2197</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2197">         exit 1;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2198">2198</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2198">     };</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2199">2199</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2199"> </pre>
  </td>
  </tr>



  <tr class="linerow">
  <td class="line-number" id="L2200">2200</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2200">@@ -104,16 &#43;102,13 @@ sub start_xdummy {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2201">2201</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2201">     my ($displaynum) = map { /(\d&#43;)$/ } reverse sort glob($x_socketpath . &#39;*&#39;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2202">2202</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2202">     $displaynum&#43;&#43;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2203">2203</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2203"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2204">2204</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2204">-    say &#34;Starting $parallel Xdummy instances, starting at :$displaynum...&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2205">2205</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2205">&#43;    say &#34;Starting $parallel Xephyr instances, starting at :$displaynum...&#34;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2206">2206</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2206"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2207">2207</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2207">     my @sockets_waiting;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2208">2208</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2208">     for (1 .. $parallel) {</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2209">2209</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2209">-        # We use -config /dev/null to prevent Xdummy from using the system</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2210">2210</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2210">-        # Xorg configuration. The tests should be independant from the</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2211">2211</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2211">-        # actual system X configuration.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2212">2212</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2212">-        my $socket = fork_xserver($keep_xdummy_output, $displaynum,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2213">2213</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2213">-                &#39;./Xdummy&#39;, &#34;:$displaynum&#34;, &#39;-config&#39;, &#39;/dev/null&#39;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2214">2214</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2214">-                &#39;-configdir&#39;, &#39;/dev/null&#39;, &#39;-nolisten&#39;, &#39;tcp&#39;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2215">2215</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2215">&#43;        my $socket = fork_xserver($keep_xserver_output, $displaynum,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2216">2216</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2216">&#43;                &#39;Xephyr&#39;, &#34;:$displaynum&#34;, &#39;-screen&#39;, &#39;1280x800&#39;,</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2217">2217</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2217">&#43;                &#39;-nolisten&#39;, &#39;tcp&#39;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2218">2218</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2218">         push(@displays, &#34;:$displaynum&#34;);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2219">2219</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2219">         push(@sockets_waiting, $socket);</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2220">2220</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2220">         $displaynum&#43;&#43;;</pre>
  </td>
  </tr>


</table>
</div>

<div style="border: 1px solid #ccc; margin: 1em; width: 880px; overflow-x: auto; background-color: #eaeaea; color: #000;">
<h2 style="margin: 0; padding: .5em; color: #000;">b/testcases/t/112-floating-resize.t</h2>
<table class="patch" cellpadding="0" cellspacing="0">


  <tr class="linerow">
  <td class="line-number" id="L2225">2225</td>
  <td width="100%" class="line hunk">
	  <b class="add-bubble"></b>
	  <pre data-nr="2225">@@ -69,7 &#43;69,7 @@ cmd &#39;border 1pixel&#39;;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2226">2226</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2226"> test_resize;</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2227">2227</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2227"> </pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2228">2228</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2228"> ################################################################################</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2229">2229</td>
  <td width="100%" class="line del">
	  <b class="add-bubble"></b>
	  <pre data-nr="2229">-# Check if we can position a floating window out of bounds. The XDummy screen</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2230">2230</td>
  <td width="100%" class="line add">
	  <b class="add-bubble"></b>
	  <pre data-nr="2230">&#43;# Check if we can position a floating window out of bounds. The Xephyr screen</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2231">2231</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2231"> # is 1280x1024, so x=2864, y=893 is out of bounds.</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2232">2232</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2232"> ################################################################################</pre>
  </td>
  </tr>

  <tr class="linerow">
  <td class="line-number" id="L2233">2233</td>
  <td width="100%" class="line ">
	  <b class="add-bubble"></b>
	  <pre data-nr="2233"> </pre>
  </td>
  </tr>


</table>
</div>


</div>

  </body>
</html>

